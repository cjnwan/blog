/*
DayPilot Pro
Copyright (c) 2005 - 2013 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 542
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotBubble==='undefined'){var DayPilotBubble=DayPilot.BubbleVisible={};};(function(){if(typeof DayPilot.Bubble!=='undefined'){return;};var DayPilotBubble={};DayPilotBubble.mouseMove=function(ev){if(typeof(DayPilotBubble)==='undefined'){return;};DayPilotBubble.mouse=DayPilotBubble.mousePosition(ev);var b=DayPilotBubble.active;if(b&&b.showPosition){var $a=b.showPosition;var $b=DayPilotBubble.mouse;if($a.clientX!==$b.clientX||$a.clientY!==$b.clientY){}}};DayPilotBubble.mousePosition=function(e){var $c=DayPilot.page(e);$c.clientY=e.clientY;$c.clientX=e.clientX;return $c;};DayPilot.Bubble=function($d){this.v='542';var $e=this;this.backgroundColor="#ffffff";this.border="1px solid #000000";this.corners='Rounded';this.cssOnly=true;this.hideAfter=500;this.loadingText="Loading...";this.animated=true;this.animation="fast";this.position="EventTop";this.showAfter=500;this.showLoadingLabel=true;this.useShadow=true;this.zIndex=10;this.elements={};this.callBack=function($f){if(this.aspnet()){WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify($f),this.updateView,this,this.callbackError,true);}else{if($f.calendar.internal.bubbleCallBack){$f.calendar.internal.bubbleCallBack($f,this);}else{$f.calendar.bubbleCallBack($f,this);}}};this.callbackError=function($c,$g){alert($c);};this.updateView=function($c,$g){if($e!==$g){throw "Callback object mismatch (internal error)";};DayPilotBubble.active=$e;if($e){if($e.elements.inner){$e.elements.inner.innerHTML=$c;};$e.adjustPosition();if(!$e.animated){$e.addShadow();}}};this.init=function(){DayPilot.re(document.body,'mousemove',DayPilotBubble.mouseMove);};this.aspnet=function(){return(typeof WebForm_DoCallback!=='undefined');};this.rounded=function(){return this.corners==='Rounded';};this.showEvent=function(e,$h){var a=new DayPilotBubble.CallBackArgs(e.calendar||e.root,'Event',e,e.bubbleHtml?e.bubbleHtml():null);if($h){this.show(a);}else{this.showOnMouseOver(a);}};this.showCell=function($i){var a=new DayPilotBubble.CallBackArgs($i.calendar||$i.root,'Cell',$i,$i.staticBubbleHTML?$i.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showTime=function($j){var a=new DayPilotBubble.CallBackArgs($j.calendar||$j.root,'Time',$j,$j.staticBubbleHTML?$j.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showResource=function($k){var a=new DayPilotBubble.CallBackArgs($k.calendar||$k.root,'Resource',$k,$k.staticBubbleHTML?$k.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showHtml=function($l,$m){var a=new DayPilotBubble.CallBackArgs(null,'Html',null,$l);a.div=$m;this.show(a);};this.show=function($n){var $o=this.animated;this.showPosition=DayPilotBubble.mouse;var id;try{id=DayPilot.JSON.stringify($n.object);}catch(e){return;};if(DayPilotBubble.active===this&&this.sourceId===id){return;};if(typeof DayPilot.Menu!=='undefined'&&DayPilot.Menu.active){return;};DayPilotBubble.hideActive();DayPilotBubble.active=this;this.sourceId=id;var $m=document.createElement("div");$m.setAttribute("unselectable","on");if(!this.showLoadingLabel){$m.style.display='none';};document.body.appendChild($m);$m.style.position='absolute';if(!this.cssOnly){if(this.width){$m.style.width=this.width;};$m.style.cursor='default';}else{$m.className=this.prefixCssClass("_main");};$m.style.top='0px';$m.style.left='0px';$m.style.zIndex=this.zIndex+1;if($o){$m.style.visibility='hidden';};$m.onclick=function(){DayPilotBubble.hideActive();};$m.onmousemove=function(e){DayPilotBubble.cancelTimeout();var e=e||window.event;e.cancelBubble=true;};$m.oncontextmenu=function(){return false;};$m.onmouseout=this.delayedHide;var $p=document.createElement("div");$m.appendChild($p);if(this.cssOnly){$p.className=this.prefixCssClass("_main_inner");}else{$p.style.padding='4px';if(this.border){$p.style.border=this.border;};if(this.rounded()){$p.style.MozBorderRadius="5px";$p.style.webkitBorderRadius="5px";$p.style.borderRadius="5px";};$p.style.backgroundColor=this.backgroundColor;};$p.innerHTML=this.loadingText;this.elements.div=$m;this.elements.inner=$p;var $m=this.getDiv($n);if(this.position==="EventTop"&&$m){var $q=2;var $r=DayPilot.abs($m,true);this.mouse=DayPilotBubble.mouse;this.mouse.x=$r.x;this.mouse.y=$r.y;this.mouse.h=$r.h+$q;this.mouse.w=$r.w;}else{this.mouse=DayPilotBubble.mouse;};if(this.showLoadingLabel&&!$o){this.adjustPosition();this.addShadow();};if($n.staticHTML){this.updateView($n.staticHTML,this);}else if(typeof this.onLoad==='function'){var $f={};$f.source=$n.object;$f.async=false;$f.loaded=function(){if(this.async){$e.updateView($f.html,$e);}};this.onLoad($f);if(!$f.async){$e.updateView($f.html,$e);}}else{this.callBack($n);}};this.getDiv=function($n){if($n.div){return $n.div;};if($n.type==='Event'&&$n.calendar&&$n.calendar.internal.findEventDiv){return $n.calendar.internal.findEventDiv($n.object);}};this.prefixCssClass=function($s){if(this.cssClassPrefix){return this.cssClassPrefix+$s;}else{return "";}};this.loadingElement=null;this.loadingStart=function($r){};this.loadingStop=function(){};this.adjustPosition=function(){var $o=this.animated;var $t=this.position;var $u=10;if(!this.elements.div){return;};if(!this.mouse){return;};if(!this.mouse.x||!this.mouse.y){DayPilotBubble.hideActive();return;};var $m=this.elements.div;$m.style.display='';var $v=$m.offsetHeight;var $w=$m.offsetWidth;$m.style.display='none';var wd=DayPilot.wd();var $x=wd.width;var $y=wd.height;if($t==='Mouse'){var $z=22;var $A=10;var top=0;if(this.mouse.clientY>$y-$v+$u){var $B=this.mouse.clientY-($y-$v)+$u;top=(this.mouse.y-$v-$A);}else{top=this.mouse.y+$z;};if(typeof top==='number'){$m.style.top=Math.max(top,0)+"px";};if(this.mouse.clientX>$x-$w+$u){var $C=this.mouse.clientX-($x-$w)+$u;$m.style.left=(this.mouse.x-$C)+'px';}else{$m.style.left=this.mouse.x+'px';}}else if($t==='EventTop'){var $D=2;var top=this.mouse.y-$v-$D;var $E=wd.scrollTop;if(top<$E){top=this.mouse.y+this.mouse.h+$D;};if(typeof top==='number'){$m.style.top=Math.max(top,0)+'px';};var $F=this.mouse.x;if(this.mouse.x+$w+$u>$x){$F=$x-$w-$u;};$m.style.left=$F+'px';};$m.style.display='';if($o){$m.style.display='';var $G={};$G.color=$m.firstChild.style.color;$G.overflow=$m.style.overflow;$m.firstChild.style.color="transparent";$m.style.overflow='hidden';this.removeShadow();DayPilot.pop($m,{"finished":function(){$m.firstChild.style.color=$G.color;$m.style.overflow=$G.overflow;$e.addShadow();},"vertical":"bottom","horizontal":"left","animation":$e.animation});}};this.delayedHide=function(){DayPilotBubble.cancelTimeout();if($e.hideAfter>0){DayPilotBubble.timeout=window.setTimeout(DayPilotBubble.hideActive,$e.hideAfter);}};this.showOnMouseOver=function($n){DayPilotBubble.cancelTimeout();var $H=function($I){return function(){$e.show($I);};};DayPilotBubble.timeout=window.setTimeout($H($n),this.showAfter);};this.hideOnMouseOut=function(){this.delayedHide();};this.addShadow=function(){if(!this.useShadow){return;};if(this.cssOnly){return;};if(!this.elements.div){return;};var $m=this.elements.div;if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $J=document.createElement('div');$J.setAttribute("unselectable","on");$J.style.position='absolute';$J.style.width=$m.offsetWidth+'px';$J.style.height=$m.offsetHeight+'px';$J.style.top=$m.offsetTop+i+'px';$J.style.left=$m.offsetLeft+i+'px';$J.style.zIndex=this.zIndex;$J.style.filter='alpha(opacity:10)';$J.style.opacity=0.1;$J.style.backgroundColor='#000000';if(this.rounded()){$J.style.MozBorderRadius="5px";$J.style.webkitBorderRadius="5px";$J.style.borderRadius="5px";};document.body.appendChild($J);this.shadows.push($J);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};this.removeDiv=function(){if(!this.elements.div){return;};document.body.removeChild(this.elements.div);this.elements.div=null;};if($d){for(var name in $d){this[name]=$d[name];}};this.init();};DayPilotBubble.cancelTimeout=function(){if(DayPilotBubble.timeout){window.clearTimeout(DayPilotBubble.timeout);}};DayPilotBubble.hideActive=function(){DayPilotBubble.cancelTimeout();var $e=DayPilotBubble.active;if($e){$e.removeDiv();$e.removeShadow();};DayPilotBubble.active=null;};DayPilotBubble.CallBackArgs=function($K,$L,$M,$N){this.calendar=$K;this.type=$L;this.object=$M;this.staticHTML=$N;this.toJSON=function(){var $O={};$O.uid=this.calendar.uniqueID;$O.type=this.type;$O.object=$M;return $O;};};DayPilot.BubbleVisible.Bubble=DayPilotBubble.Bubble;DayPilot.BubbleVisible.hideActive=DayPilotBubble.hideActive;DayPilot.BubbleVisible.cancelTimeout=DayPilotBubble.cancelTimeout;DayPilot.Bubble.hideActive=DayPilotBubble.hideActive;if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotCalendar==='undefined'){var DayPilotCalendar=DayPilot.CalendarVisible={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Calendar!=='undefined'){return;};DayPilot.Calendar=function(id){this.v='542';var $a=false;if(this instanceof DayPilot.Calendar&&!this.$3s){$a=true;this.$3s=true;};if(!$a){throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";};var $b=this;this.uniqueID=null;this.id=id;this.isCalendar=true;this.api=2;this.clientName=id;this.clientState={};this.$3t={};this.$3t.pixels={};this.$3t.events=[];this.elements={};this.elements.events=[];this.nav={};this.events={};this.hideUntilInit=true;this.fasterDispose=true;this.allDayEventBorderColor="#000000";this.allDayEventFontFamily='Tahoma';this.allDayEventFontSize='8pt';this.allDayEventFontColor="#000000";this.allDayEventHeight=25;this.allowEventOverlap=true;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#999999";this.cellHeight=20;this.cellDuration=30;this.columnMarginRight=5;this.cornerBackColor="#ECE9D8";this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType="Header";this.cssOnly=true;this.dayBeginsHour=0;this.dayEndsHour=24;this.days=1;this.deleteImageUrl=null;this.durationBarColor='blue';this.durationBarVisible=true;this.durationBarWidth=5;this.durationBarImageUrl=null;this.eventArrangement="SideBySide";this.eventBackColor='#ffffff';this.eventBorderColor="#000000";this.eventFontFamily='Tahoma';this.eventFontSize='8pt';this.eventFontColor="#000000";this.eventSelectColor='blue';this.headerFontSize='10pt';this.headerFontFamily='Tahoma';this.headerFontColor="#000000";this.headerHeight=21;this.headerLevels=1;this.height=300;this.heightSpec='BusinessHours';this.hideFreeCells=false;this.hourHalfBorderColor="#F3E4B1";this.hourBorderColor="#EAD098";this.hourFontColor="#000000";this.hourFontFamily="Tahoma";this.hourFontSize="16pt";this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.hourWidth=45;this.initScrollPos=0;this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.locale="en-us";this.messageHideAfter=5000;this.moveBy="Top";this.notifyCommit='Immediate';this.numberFormat="0.00";this.roundedCorners=false;this.rtl=false;this.selectedColor="#316AC5";this.shadow='Fill';this.showToolTip=true;this.showAllDayEvents=false;this.showAllDayEventStartEnd=true;this.showHeader=true;this.showHours=true;this.startDate=new DayPilot.Date().getDatePart();this.timeFormat='Auto';this.timeHeaderCellDuration=60;this.useEventBoxes='Always';this.useEventSelectionBars=false;this.viewType='Days';this.eventClickHandling='Enabled';this.eventDoubleClickHandling='Enabled';this.eventRightClickHandling='ContextMenu';this.eventDeleteHandling='Disabled';this.eventEditHandling='Update';this.eventHoverHandling='Bubble';this.eventResizeHandling='Update';this.eventMoveHandling='Update';this.eventSelectHandling='Update';this.headerClickHandling='Enabled';this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling="Enabled";this.transparent=false;this.separateEventsTable=true;this.autoRefreshCount=0;this.doubleClickTimeout=300;this.$3u={};this.$3u.ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this.$3u.ie9=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1);this.$3u.ielt9=(function(){var $c=document.createElement("div");$c.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var $d=($c.getElementsByTagName("i").length===1);return $d;})();this.$3u.ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.$3u.opera105=(function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=10.5;};return false;})();this.$3u.webkit522=(function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=522;};return false;})();this.clearSelection=function(){if(!this.selectedCells){this.selectedCells=[];return;};this.$3v();this.selectedCells=[];};this.$3v=function(){if(!this.selectedCells){return;};for(var j=0;j<this.selectedCells.length;j++){var $e=this.selectedCells[j];if($e){if($e.selected){$e.removeChild($e.selected);$e.firstChild.style.display='';$e.selected=null;}}}};this.cleanSelection=this.clearSelection;this.$3w=function($f,$g,$h){var $i={};$i.action=$f;$i.parameters=$h;$i.data=$g;$i.header=this.$3x();var $j="JSON"+DayPilot.JSON.stringify($i);__doPostBack($b.uniqueID,$j);};this.$3y=function($f,$h,$g,$k){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $k==='undefined'){$k="CallBack";};this.callbackTimeout=window.setTimeout(function(){$b.$3z();},100);var $i={};$i.action=$f;$i.type=$k;$i.parameters=$h;$i.data=$g;$i.header=this.$3x();var $j="JSON"+DayPilot.JSON.stringify($i);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$3A,$j,this.$3B);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$j,this.$3C,this.clientName,this.onCallbackError,true);}};this.$3B=function($l){if(typeof $b.onAjaxError==='function'){var $m={};$m.request=$l;$b.onAjaxError($m);}else if(typeof $b.ajaxError==='function'){$b.ajaxError($l);}};this.dispose=function(){var c=$b;if(!c.nav.top){return;};c.$3D();c.$3E();if(c.nav.messageClose){c.nav.messageClose.onclick=null;};if(c.nav.hourTable)c.nav.hourTable.oncontextmenu=null;if(c.nav.hourTable)c.nav.hourTable.onmousemove=null;if(c.nav.header)c.nav.header.oncontextmenu=null;if(c.nav.corner)c.nav.corner.oncontextmenu=null;c.nav.zoom.onmousemove=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;DayPilot.pu(c.nav.loading);c.$3F();c.$3G();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.bottomLeft=null;c.nav.bottomRight=null;c.nav.allday=null;c.nav.zoom=null;c.nav.loading=null;c.nav.events=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.vsph=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(window,'resize',c.$3H);DayPilotCalendar.unregister(c);};this.$3I=function(){var $n=document.getElementById(id);$n.dispose=this.dispose;};this.$3A=function($o){$b.$3C($o.responseText);};this.$3x=function(){var h={};h.v=this.v;h.control="dpc";h.id=this.id;h.clientState=$b.clientState;h.columns=this.$3J();h.days=$b.days;h.startDate=$b.startDate;h.cellDuration=$b.cellDuration;h.cssOnly=$b.cssOnly;h.cssClassPrefix=$b.cssClassPrefix;h.heightSpec=$b.heightSpec;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.viewType=$b.viewType;h.dayBeginsHour=$b.dayBeginsHour;h.dayEndsHour=$b.dayEndsHour;h.headerLevels=$b.headerLevels;h.backColor=$b.cellBackColor;h.nonBusinessBackColor=$b.cellBackColorNonBusiness;h.eventHeaderVisible=$b.eventHeaderVisible;h.timeFormat=$b.timeFormat;h.timeHeaderCellDuration=$b.timeHeaderCellDuration;h.locale=$b.locale;h.showAllDayEvents=$b.showAllDayEvents;h.tagFields=$b.tagFields;h.hourNameBackColor=$b.hourNameBackColor;h.hourFontFamily=$b.hourFontFamily;h.hourFontSize=$b.hourFontSize;h.hourFontColor=$b.hourFontColor;h.selected=$b.multiselect.events();h.hashes=$b.hashes;return h;};this.$3K=function(){this.$3L();DayPilot.Areas.hideAll();};this.$3J=function(){var $p=[];$p.ignoreToJSON=true;if(!this.columns){return $p;};for(var i=0;i<this.columns.length;i++){var $q=this.columns[i];var $r=this.$3M($q);$p.push($r);};return $p;};this.$3M=function($q){var $r={};$r.Value=$q.id;$r.Name=$q.name;$r.ToolTip=$q.toolTip;$r.Date=$q.start;$r.Children=this.$3N($q.children);return $r;};this.$3N=function($s){var $t=[];$t.ignoreToJSON=true;if(!$s){return $t;};for(var i=0;i<$s.length;i++){$t.push(this.$3M($s[i]));};return $t;};this.$3C=function($u,$v){var $u=eval("("+$u+")");if($u.BubbleGuid){var $w=$u.BubbleGuid;var $x=this.bubbles[$w];delete this.bubbles[$w];$b.$3O();if(typeof $u.Result.BubbleHTML!=='undefined'){$x.updateView($u.Result.BubbleHTML,$x);};return;};if($u.CallBackRedirect){document.location.href=$u.CallBackRedirect;return;};if(typeof $u.ClientState!=='undefined'){$b.clientState=$u.ClientState;};if($u.UpdateType==="None"){$b.$3O();$b.$3P($u.CallBackData,true);if($u.Message){$b.message($u.Message);};return;};if($u.VsUpdate){var $y=document.createElement("input");$y.type='hidden';$y.name=$b.id+"_vsupdate";$y.id=$y.name;$y.value=$u.VsUpdate;$b.nav.vsph.innerHTML='';$b.nav.vsph.appendChild($y);};$b.$3E();$b.multiselect.clear(true);$b.multiselect.$3Q=$u.SelectedEvents;if(typeof $u.TagFields!=='undefined'){$b.tagFields=$u.TagFields;};if(typeof $u.SortDirections!=='undefined'){$b.sortDirections=$u.SortDirections;};if($u.UpdateType==="Full"){$b.colors=$u.Colors;$b.palette=$u.Palette;$b.dirtyColors=$u.DirtyColors;$b.cellProperties=$u.CellProperties;$b.cellConfig=$u.CellConfig;$b.columns=$u.Columns;$b.days=$u.Days;$b.startDate=new DayPilot.Date($u.StartDate).getDatePart();$b.cellDuration=$u.CellDuration;$b.heightSpec=$u.HeightSpec?$u.HeightSpec:$b.heightSpec;$b.businessBeginsHour=$u.BusinessBeginsHour?$u.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$u.BusinessEndsHour?$u.BusinessEndsHour:$b.businessEndsHour;$b.viewType=$u.ViewType;$b.headerLevels=$u.HeaderLevels;$b.backColor=$u.BackColor?$u.BackColor:$b.backColor;$b.nonBusinessBackColor=$u.NonBusinessBackColor?$u.NonBusinessBackColor:$b.nonBusinessBackColor;$b.eventHeaderVisible=$u.EventHeaderVisible?$u.EventHeaderVisible:$b.eventHeaderVisible;$b.timeFormat=$u.TimeFormat?$u.TimeFormat:$b.timeFormat;$b.timeHeaderCellDuration=typeof $u.TimeHeaderCellDuration!=='undefined'?$u.TimeHeaderCellDuration:$b.timeHeaderCellDuration;$b.locale=$u.Locale?$u.Locale:$b.locale;$b.dayBeginsHour=typeof $u.DayBeginsHour!=='undefined'?$u.DayBeginsHour:$b.dayBeginsHour;$b.dayEndsHour=typeof $u.DayEndsHour!=='undefined'?$u.DayEndsHour:$b.dayEndsHour;$b.cornerBackColor=$u.CornerBackColor;$b.cornerHtml=$u.CornerHTML;$b.hours=$u.Hours;$b.$3R();$b.$3S();};if($u.Hashes){for($z in $u.Hashes){$b.hashes[$z]=$u.Hashes[$z];}};$b.$3T($u.Events);$b.$3U();if($u.UpdateType==="Full"||$b.hideFreeCells){$b.$3V();$b.$3W();$b.$3X();$b.$3Y();$b.$3Z();$b.$40();$b.$41();$b.$42();$b.clearSelection();};$b.$43();$b.$44();$b.$45();if($b.timeRangeSelectedHandling!=="HoldForever"){$b.clearSelection();};$b.$46();if($b.todo){if($b.todo.del){var $A=$b.todo.del;$A.parentNode.removeChild($A);$b.todo.del=null;}};$b.$3P($u.CallBackData,true);$b.$3O();$b.$47();if($u.Message){$b.message($u.Message);}};this.$3P=function($g,$B){var $C=function($g,$D){return function(){if($b.$48()){if(typeof $b.onAfterRender==='function'){var $m={};$m.isCallBack=$D;$m.data=$g;$b.onAfterRender($m);}}else{if($b.afterRender){$b.afterRender($g,$D);}}};};window.setTimeout($C($g,$B),0);};this.$49=function($E,$F,$k){var $G=$b.nav.events;var $H=$G.clientWidth/$G.rows[0].cells.length;var i=Math.floor($b.coords.x/$H);if(i<0){i=0;};if($b.rtl){i=$b.columnsBottom.length-i-1;};var $q=$G.rows[0].cells[i];var $I=0;if(typeof $E.duration!=='undefined'){var $J=$E.duration;var top=Math.floor((($b.coords.y-$I)+$b.cellHeight/ 2)/ $b.cellHeight)*$b.cellHeight+$I;var $K=$J*$b.cellHeight/(60*$b.cellDuration);}else{var e=$E.event;var $K=e.part.height;var top=e.part.top;};var $L=document.createElement('div');$L.setAttribute('unselectable','on');$L.style.position='absolute';$L.style.width='100%';$L.style.height=$K+'px';$L.style.left='0px';$L.style.top=top+'px';$L.style.zIndex=101;$L.exclude=true;var $M=document.createElement("div");$L.appendChild($M);if(this.cssOnly){$L.className=$b.$4a("_shadow");$M.className=this.$4a("_shadow_inner");};if(!this.cssOnly){$M.style.position="absolute";$M.style.top="0px";$M.style.bottom="0px";$M.style.left="0px";$M.style.right="0px";if($k==='Fill'){$M.style.backgroundColor="#aaaaaa";$M.style.opacity=0.5;$M.style.filter="alpha(opacity=50)";$M.style.border='2px solid #aaaaaa';}else{$M.style.border='2px dotted #666666';};if(this.roundedCorners){$M.style.MozBorderRadius="5px";$M.style.webkitBorderRadius="5px";$M.style.borderRadius="5px";}};$q.firstChild.appendChild($L);return $L;};this.$4b=function(){return this.$4c()/(3600*1000);};this.$4d=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$4e=function(){if(this.dayBeginsHour>=this.dayEndsHour){return 24-this.dayBeginsHour+this.dayEndsHour;}else{return this.dayEndsHour-this.dayBeginsHour;}};this.$4c=function($N){var $O=0;if(this.heightSpec==='BusinessHoursNoScroll'){$O=this.$4d();}else if(this.hideFreeCells&&!$N){var $P=(this.maxEnd-1)*this.cellDuration/this.cellHeight;var $Q=Math.ceil($P/60);$O=Math.max(this.dayBeginsHour+$Q,this.businessEndsHour)-this.$4f();}else{$O=this.$4e();};return $O*60*60*1000;};this.message=function($R,$S,$T,$U){if(!$R){return;};var $S=$S||this.messageHideAfter||2000;var $T=$T||"#ffffff";var $U=$U||"#000000";var $V=0.8;var $c;var top=this.$4g();var $W=this.showHours?this.hourWidth:0;var $X=DayPilot.sw($b.nav.scroll);if(!this.cssOnly){top+=1;$W+=2;$X-=2;};if($b.rtl){var $Y=$W;$W=$X;$X=$Y;};if(!this.nav.message){$c=document.createElement("div");$c.style.position="absolute";$c.style.left=($W)+"px";$c.style.top=(top)+"px";$c.style.right="0px";$c.style.display='none';$c.onmousemove=function(){if($b.messageTimeout){clearTimeout($b.messageTimeout);}};$c.onmouseout=function(){if($b.nav.message.style.display!=='none'){$b.messageTimeout=setTimeout($b.$4h,500);}};var $M=document.createElement("div");$M.onclick=function(){$b.nav.message.style.display='none';};if(!this.cssOnly){$M.style.padding="5px";$M.style.opacity=$V;$M.style.filter="alpha(opacity="+($V*100)+")";}else{$M.className=this.$4a("_message");};$c.appendChild($M);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($b.nav.scroll)+5)+"px";close.style.color=$T;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$4a("_message_close");};close.onclick=function(){$b.nav.message.style.display='none';};$c.appendChild(close);this.nav.top.insertBefore($c,this.nav.loading);this.nav.message=$c;this.nav.messageClose=close;}else{this.nav.message.style.top=top+"px";};if(this.nav.cornerRight){this.nav.message.style.right=$X+"px";}else{this.nav.message.style.right="0px";};var $Z=function(){var $M=$b.nav.message.firstChild;if(!$b.cssOnly){$M.style.padding="5px";$M.style.opacity=$V;$M.style.backgroundColor=$U;$M.style.color=$T;};$M.innerHTML=$R;var end=function(){$b.messageTimeout=setTimeout($b.$4h,$S);};DayPilot.fade($b.nav.message,0.2,end);};clearTimeout($b.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($b.nav.message,-0.2,$Z);}else{$Z();}};this.message.show=function($R){$b.message($R);};this.message.hide=function(){$b.$4h();};this.$4h=function(){var end=function(){$b.nav.message.style.display='none';};DayPilot.fade($b.nav.message,-0.2,end);};this.$3Y=function(){if(this.nav.message){this.nav.message.style.top=(this.$4g())+"px";}};this.$4i=function(){return this.$4c()/(60*1000*this.cellDuration);};this.eventClickPostBack=function(e,$g){this.$3w('EventClick',$g,e);};this.eventClickCallBack=function(e,$g){this.$3y('EventClick',e,$g);};this.$4j=function(e){var $c=this;var e=e||window.event;var $00=e.ctrlKey;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($b.eventDoubleClickHandling==='Disabled'){$b.$4k($c,$00);return;};if(!$b.timeouts){$b.timeouts=[];}else{for(var $01 in $b.timeouts){window.clearTimeout($b.timeouts[$01]);};$b.timeouts=[];};var $02=function($c,$00){return function(){$b.$4k($c,$00);};};$b.timeouts.push(window.setTimeout($02(this,$00),$b.doubleClickTimeout));};this.$4k=function($03,$00){var e=$03.event;if(!e.client.clickEnabled()){return;};if($b.$48()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventClick==='function'){$b.onEventClick($m);if($m.preventDefault.value){return;}};switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':if(!e.allday()){$b.$4l($03);};break;case 'Select':if(!e.allday()){$b.$4m($03,e,$00);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;case 'ContextMenu':var $04=e.client.contextMenu();if($04){$04.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;};if(typeof $b.onEventClicked==='function'){$b.onEventClicked($m);}}else{switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':if(!e.allday()){$b.$4l($03);};break;case 'Select':if(!e.allday()){$b.$4m($03,e,$00);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;case 'ContextMenu':var $04=e.client.contextMenu();if($04){$04.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;}}};this.eventDoubleClickPostBack=function(e,$g){this.$3w('EventDoubleClick',$g,e);};this.eventDoubleClickCallBack=function(e,$g){this.$3y('EventDoubleClick',e,$g);};this.$4n=function(ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($b.timeouts){for(var $01 in $b.timeouts){window.clearTimeout($b.timeouts[$01]);};$b.timeouts=null;};var e=this.event;var ev=ev||window.event;if($b.$48()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDoubleClick==='function'){$b.onEventDoubleClick($m);if($m.preventDefault.value){return;}};switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'Edit':if(!e.allday()){$b.$4l(this);};break;case 'Select':if(!e.allday()){$b.$4m(this,e,ev.ctrlKey);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventDoubleClicked==='function'){$b.onEventDoubleClicked($m);}}else{switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'JavaScript':$b.onEventDoubleClick(e);break;case 'Edit':if(!e.allday()){$b.$4l(this);};break;case 'Select':if(!e.allday()){$b.$4m(this,e,ev.ctrlKey);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.eventRightClickPostBack=function(e,$g){this.$3w('EventRightClick',$g,e);};this.eventRightClickCallBack=function(e,$g){this.$3y('EventRightClick',e,$g);};this.$4o=function(){var e=this.event;if(!e.client.rightClickEnabled()){return false;};if($b.$48()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventRightClick==='function'){$b.onEventRightClick($m);if($m.preventDefault.value){return;}};switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'ContextMenu':var $04=e.client.contextMenu();if($04){$04.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventRightClicked==='function'){$b.onEventRightClicked($m);}}else{switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'JavaScript':$b.onEventRightClick(e);break;case 'ContextMenu':var $04=e.client.contextMenu();if($04){$04.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}};return false;};this.headerClickPostBack=function(c,$g){this.$3w('HeaderClick',$g,c);};this.headerClickCallBack=function(c,$g){this.$3y('HeaderClick',c,$g);};this.$4p=function($E){var $g=this.data;var c=new DayPilotCalendar.Column($g.id,$g.name,$g.start);if($b.$48()){var $m={};$m.header={};$m.header.id=$g.id;$m.header.name=$g.name;$m.header.start=$g.start;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onHeaderClick==='function'){$b.onHeaderClick($m);if($m.preventDefault.value){return;}};switch($b.headerClickHandling){case 'PostBack':$b.headerClickPostBack(c);break;case 'CallBack':$b.headerClickCallBack(c);break;};if(typeof $b.onHeaderClicked==='function'){$b.onHeaderClicked($m);}}else{switch($b.headerClickHandling){case 'PostBack':$b.headerClickPostBack(c);break;case 'CallBack':$b.headerClickCallBack(c);break;case 'JavaScript':$b.onHeaderClick(c);break;}}};this.$4q=function(){if(typeof(DayPilotBubble)!=='undefined'&&$b.columnBubble){if($b.viewType==="Resources"){var $05={};$05.calendar=$b;$05.id=this.data.id;$05.toJSON=function(){var $06={};$06.id=this.id;return $06;};$b.columnBubble.showResource($05);}else{var $07=new DayPilot.Date(this.data.start);var end=$07.addDays(1);var $08={};$08.calendar=$b;$08.start=$07;$08.end=end;$08.toJSON=function(){var $06={};$06.start=this.start;$06.end=this.end;return $06;};$b.columnBubble.showTime($08);}};var $e=this;var $c=$e.firstChild;if(!$c.active){var $g=$e.data;var c=new DayPilotCalendar.Column($g.id,$g.name,$g.start);c.areas=$e.data.areas;DayPilot.Areas.showAreas($c,c);}};this.$4r=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$b.columnBubble){$b.columnBubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this.firstChild,ev);};this.eventDeletePostBack=function(e,$g){this.$3w('EventDelete',$g,e);};this.eventDeleteCallBack=function(e,$g){this.$3y('EventDelete',e,$g);};this.$4s=function($E){var e=$E.parentNode.parentNode.event;if($b.$48()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDelete==='function'){$b.onEventDelete($m);if($m.preventDefault.value){return;}};switch($b.eventDeleteHandling){case 'PostBack':$b.eventDeletePostBack(e);break;case 'CallBack':$b.eventDeleteCallBack(e);break;};if(typeof $b.onEventDeleted==='function'){$b.onEventDeleted($m);}}else{switch($b.eventDeleteHandling){case 'PostBack':$b.eventDeletePostBack(e);break;case 'CallBack':$b.eventDeleteCallBack(e);break;case 'JavaScript':$b.onEventDelete(e);break;}}};this.eventResizePostBack=function(e,$09,$0a,$g){if(!$09){throw 'newStart is null';};if(!$0a){throw 'newEnd is null';};var $0b={};$0b.e=e;$0b.newStart=$09;$0b.newEnd=$0a;this.$3w('EventResize',$g,$0b);};this.eventResizeCallBack=function(e,$09,$0a,$g){if(!$09)throw 'newStart is null';if(!$0a)throw 'newEnd is null';var $0b={};$0b.e=e;$0b.newStart=$09;$0b.newEnd=$0a;this.$3y('EventResize',$0b,$g);};this.$4t=function($k,$f,$0b,$g){if($k==='PostBack'){$b.postBack2($f,$0b,$g);}else if($k==='CallBack'){$b.$3y($f,$0b,$g,"CallBack");}else if($k==='Immediate'){$b.$3y($f,$0b,$g,"Notify");}else if($k==='Queue'){$b.queue.add(new DayPilot.Action(this,$f,$0b,$g));}else if($k==='Notify'){if($0c.notifyType()==='Notify'){$b.$3y($f,$0b,$g,"Notify");}else{$b.queue.add(new DayPilot.Action($b,$f,$0b,$g));}}else{throw "Invalid event invocation type";}};this.$4f=function($N){if(this.heightSpec==='BusinessHoursNoScroll'){return this.businessBeginsHour;}else if(this.hideFreeCells&&!$N){var $P=(this.minStart-1)*this.cellDuration/this.cellHeight;var $Q=Math.floor($P/60);return Math.min(this.dayBeginsHour+$Q,this.businessBeginsHour);}else{return this.dayBeginsHour;}};this.$48=function(){return $b.api===2;};this.$4u=function(e,$0d,$0e,$0f){if(this.eventResizeHandling==='Disabled'){return;};var $I=0;var $09=new Date();var $0a=new Date();var $07=e.start();var end=e.end();var $0g=$b.cellDuration;if($0f==='top'){var $0h=$07.getDatePart();var $0i=Math.floor(($0e-$I)/$b.cellHeight);var $0j=$0i*$0g;var ts=$0j*60*1000;var $0k=$b.$4f()*60*60*1000;$09=$0h.addTime(ts+$0k);$0a=e.end();}else if($0f==='bottom'){var $0h=end.getDatePart();var $0i=Math.floor(($0e+$0d-$I)/$b.cellHeight);var $0j=$0i*$0g;var ts=$0j*60*1000;var $0k=$b.$4f()*60*60*1000;$09=$07;$0a=$0h.addTime(ts+$0k);};if($b.$48()){var $m={};$m.e=e;$m.newStart=$09;$m.newEnd=$0a;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventResize==='function'){$b.onEventResize($m);if($m.preventDefault.value){return;}};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$09,$0a);break;case 'CallBack':$b.eventResizeCallBack(e,$09,$0a);break;case 'Notify':$b.eventResizeNotify(e,$09,$0a);break;case 'Update':e.start($09);e.end($0a);$b.events.update(e);break;};if(typeof $b.onEventResized==='function'){$b.onEventResized($m);}}else{switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$09,$0a);break;case 'CallBack':$b.eventResizeCallBack(e,$09,$0a);break;case 'JavaScript':$b.onEventResize(e,$09,$0a);break;case 'Notify':$b.eventResizeNotify(e,$09,$0a);break;}}};this.eventResizeNotify=function(e,$09,$0a,$g){var $0l=new DayPilot.Event(e.copy(),this);e.start($09);e.end($0a);e.commit();$b.update();this.$4v("Notify",$0l,$09,$0a,$g);};this.$4v=function($k,e,$09,$0a,$g){var $0b={};$0b.e=e;$0b.newStart=$09;$0b.newEnd=$0a;this.$4t($k,"EventResize",$0b,$g);};this.eventMovePostBack=function(e,$09,$0a,$0m,$g){if(!$09)throw 'newStart is null';if(!$0a)throw 'newEnd is null';var $0b={};$0b.e=e;$0b.newStart=$09;$0b.newEnd=$0a;$0b.newResource=$0m;this.$3w('EventMove',$g,$0b);};this.eventMoveCallBack=function(e,$09,$0a,$0m,$g){if(!$09)throw 'newStart is null';if(!$0a)throw 'newEnd is null';var $0b={};$0b.e=e;$0b.newStart=$09;$0b.newEnd=$0a;$0b.newResource=$0m;this.$3y('EventMove',$0b,$g);};this.$4w=function(e,$0n,$0e,ev,$0o){if($b.eventMoveHandling==='Disabled'){return;};var $I=0;var $0i=Math.floor(($0e-$I)/$b.cellHeight);var $0g=$b.cellDuration;var $0p=$0i*$0g*60*1000;var $07=e.start();var end=e.end();var $0h=new Date();if($07.isDayPilotDate){$07=$07.d;};$0h.setTime(Date.UTC($07.getUTCFullYear(),$07.getUTCMonth(),$07.getUTCDate()));var $0q=($b.useEventBoxes!=='Never')?$07.getTime()-($0h.getTime()+$07.getUTCHours()*3600*1000+Math.floor($07.getUTCMinutes()/$0g)*$0g*60*1000):0;var length=end.getTime()-$07.getTime();var $0k=$b.$4f()*3600*1000;var $0r=this.columnsBottom[$0n];var $0s=$0r.start.getTime();var $0t=new Date();$0t.setTime($0s+$0p+$0q+$0k);var $09=new DayPilot.Date($0t);var $0a=$09.addTime(length);var external=!!$0o;var $0m=$0r.id;if($b.$48()){var $m={};$m.e=e;$m.newStart=$09;$m.newEnd=$0a;$m.newResource=$0m;$m.external=external;$m.ctrl=false;if(ev){$m.ctrl=ev.ctrlKey;};$m.shift=false;if(ev){$m.shift=ev.shiftKey;};$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventMove==='function'){$b.onEventMove($m);if($m.preventDefault.value){return;}};switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$09,$0a,$0m);break;case 'CallBack':$b.eventMoveCallBack(e,$09,$0a,$0m);break;case 'Notify':$b.eventMoveNotify(e,$09,$0a,$0m);break;case 'Update':e.start($09);e.end($0a);e.resource($0m);$b.events.update(e);break;};if(typeof $b.onEventMoved==='function'){$b.onEventMoved($m);}}else{switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$09,$0a,$0m);break;case 'CallBack':$b.eventMoveCallBack(e,$09,$0a,$0m);break;case 'JavaScript':$b.onEventMove(e,$09,$0a,$0m,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false);break;case 'Notify':$b.eventMoveNotify(e,$09,$0a,$0m,null);break;}}};this.eventMoveNotify=function(e,$09,$0a,$0m,$g){var $0l=new DayPilot.Event(e.copy(),this);e.start($09);e.end($0a);e.resource($0m);e.commit();$b.update();this.$4x("Notify",$0l,$09,$0a,$0m,$g);};this.$4x=function($k,e,$09,$0a,$0m,$g){var $0b={};$0b.e=e;$0b.newStart=$09;$0b.newEnd=$0a;$0b.newResource=$0m;this.$4t($k,"EventMove",$0b,$g);};this.$4y=function($m,$x){var $w=$b.$4z($x);var $0b={};$0b.args=$m;$0b.guid=$w;$b.$3y("Bubble",$0b);};this.$4z=function($x){var $w=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$w]=$x;return $w;};this.eventMenuClickPostBack=function(e,$0u,$g){var $0b={};$0b.e=e;$0b.command=$0u;this.$3w('EventMenuClick',$g,$0b);};this.eventMenuClickCallBack=function(e,$0u,$g){var $0b={};$0b.e=e;$0b.command=$0u;this.$3y('EventMenuClick',$0b,$g);};this.$4A=function($0u,e,$0v){switch($0v){case 'PostBack':$b.eventMenuClickPostBack(e,$0u);break;case 'CallBack':$b.eventMenuClickCallBack(e,$0u);break;}};this.timeRangeMenuClickPostBack=function(e,$0u,$g){var $0b={};$0b.selection=e;$0b.command=$0u;this.$3w("TimeRangeMenuClick",$g,$0b);};this.timeRangeMenuClickCallBack=function(e,$0u,$g){var $0b={};$0b.selection=e;$0b.command=$0u;this.$3y("TimeRangeMenuClick",$0b,$g);};this.$4B=function($0u,e,$0v){switch($0v){case 'PostBack':$b.timeRangeMenuClickPostBack(e,$0u);break;case 'CallBack':$b.timeRangeMenuClickCallBack(e,$0u);break;}};this.timeRangeSelectedPostBack=function($07,end,$0w,$g){var $0x={};$0x.start=$07;$0x.end=end;$0x.resource=$0w;this.$3w('TimeRangeSelected',$g,$0x);};this.timeRangeSelectedCallBack=function($07,end,$0w,$g){var $0x={};$0x.start=$07;$0x.end=end;$0x.resource=$0w;this.$3y('TimeRangeSelected',$0x,$g);};this.$4C=function($07,end,$q){if(!$07.isDayPilotDate){$07=new DayPilot.Date($07);};if(!end.isDayPilotDate){end=new DayPilot.Date(end);};var $0w=$q;if($b.$48()){var $m={};$m.start=$07;$m.end=end;$m.resource=$0w;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeSelect==='function'){$b.onTimeRangeSelect($m);if($m.preventDefault.value){return;}};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($07,end,$0w);break;case 'CallBack':$b.timeRangeSelectedCallBack($07,end,$0w);break;};if(typeof $b.onTimeRangeSelected==='function'){$b.onTimeRangeSelected($m);}}else{switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($07,end,$q);break;case 'CallBack':$b.timeRangeSelectedCallBack($07,end,$q);break;case 'JavaScript':$b.onTimeRangeSelected($07,end,$q);break;}}};this.timeRangeDoubleClickPostBack=function($07,end,$q,$g){var $0x={};$0x.start=$07;$0x.end=end;$0x.resource=$q;this.$3w('TimeRangeDoubleClick',$g,$0x);};this.timeRangeDoubleClickCallBack=function($07,end,$q,$g){var $0x={};$0x.start=$07;$0x.end=end;$0x.resource=$q;this.$3y('TimeRangeDoubleClick',$0x,$g);};this.$4D=function($07,end,$q){if($b.$48()){var $0w=$q;var $m={};$m.start=$07;$m.end=end;$m.resource=$0w;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeDoubleClick==='function'){$b.onTimeRangeDoubleClick($m);if($m.preventDefault.value){return;}};switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($07,end,$0w);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($07,end,$0w);break;};if(typeof $b.onTimeRangeDoubleClicked==='function'){$b.onTimeRangeDoubleClicked($m);}}else{switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($07,end,$q);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($07,end,$q);break;case 'JavaScript':$b.onTimeRangeDoubleClick($07,end,$q);break;}}};this.eventEditPostBack=function(e,$0y,$g){var $0b={};$0b.e=e;$0b.newText=$0y;this.$3w("EventEdit",$g,$0b);};this.eventEditCallBack=function(e,$0y,$g){var $0b={};$0b.e=e;$0b.newText=$0y;this.$3y("EventEdit",$0b,$g);};this.$4E=function(e,$0y){if($b.$48()){var $m={};$m.e=e;$m.newText=$0y;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventEdit==='function'){$b.onEventEdit($m);if($m.preventDefault.value){return;}};switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0y);break;case 'CallBack':$b.eventEditCallBack(e,$0y);break;case 'Update':e.text($0y);$b.events.update(e);break;};if(typeof $b.onEventEdited==='function'){$b.onEventEdited($m);if($m.preventDefault.value){return;}}}else{switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0y);break;case 'CallBack':$b.eventEditCallBack(e,$0y);break;case 'JavaScript':$b.onEventEdit(e,$0y);break;}}};this.eventSelectPostBack=function(e,$0z,$g){var $0b={};$0b.e=e;$0b.change=$0z;this.$3w('EventSelect',$g,$0b);};this.eventSelectCallBack=function(e,$0z,$g){var $0b={};$0b.e=e;$0b.change=$0z;this.$3y('EventSelect',$0b,$g);};this.$4F=function($c,e,$00){if($b.$48()){var m=$b.multiselect;m.previous=m.events();var $m={};$m.e=e;$m.selected=m.isSelected(e);$m.ctrl=$00;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventSelect==='function'){$b.onEventSelect($m);if($m.preventDefault.value){return;}};switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$0z);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$0z);break;case 'Update':m.$4G($c,$00);break;};if(typeof $b.onEventSelected==='function'){$m.change=m.isSelected(e)?"selected":"deselected";$m.selected=m.isSelected(e);$b.onEventSelected($m);}}else{var m=$b.multiselect;m.previous=m.events();m.$4G($c,$00);var $0z=m.isSelected(e)?"selected":"deselected";switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$0z);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$0z);break;case 'JavaScript':$b.onEventSelect(e,$0z);break;}}};this.commandCallBack=function($0u,$g){this.$3D();var $0b={};$0b.command=$0u;this.$3y('Command',$0b,$g);};this.$4H=function(ev){clearTimeout(DayPilotCalendar.selectedTimeout);if(DayPilotCalendar.selecting){return;};if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if($b.selectedCells&&$b.timeRangeDoubleClickHandling!=='Disabled'){for(var i=0;i<$b.selectedCells.length;i++){if(this===$b.selectedCells[i]){return;}}};if($b.timeRangeSelectedHandling==="Disabled"){return;};var $0A=(window.event)?window.event.button:ev.which;if($0A!==1&&$0A!==0){return;};DayPilotCalendar.firstMousePos=DayPilot.mc(ev||window.event);$b.clearSelection();DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$b.selectedCells.push(this);DayPilotCalendar.firstSelected=this;};this.$4I=function(){if(!this.selectedCells){return;};var $0B=this.getSelection();if(!$0B){return;};for(var j=0;j<$b.selectedCells.length;j++){var $e=$b.selectedCells[j];if($e&&!$e.selected){var $c=document.createElement("div");$c.style.height=($b.cellHeight-1)+"px";$c.style.backgroundColor=$b.selectedColor;$e.firstChild.style.display="none";$e.insertBefore($c,$e.firstChild);$e.selected=$c;}}};this.$4J=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$b.cellBubble){$b.cellBubble.hideOnMouseOut();}};this.$4K=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(typeof(DayPilotBubble)!=='undefined'&&$b.cellBubble){var $q=DayPilotCalendar.getColumn(this);var $05=$b.columnsBottom[$q].id;var $e={};$e.calendar=$b;$e.start=this.start;$e.end=this.end;$e.resource=$05;$e.toJSON=function(){var $06={};$06.start=this.start;$06.end=this.end;$06.resource=this.resource;return $06;};$b.cellBubble.showCell($e);};if(DayPilotCalendar.firstMousePos){var $0C=DayPilotCalendar.firstMousePos;var $0D=DayPilot.mc(ev||window.event);if($0C.x!==$0D.x||$0C.y!==$0D.y){DayPilotCalendar.selecting=true;$b.clearSelection();$b.$4I();}};if(!DayPilotCalendar.selecting){return;};var $0E=DayPilot.mc(ev||window.event);var $0F=DayPilotCalendar.getColumn(this);if($0F!==DayPilotCalendar.column){return;};$b.clearSelection();if($0E.y<DayPilotCalendar.firstMousePos.y){$b.selectedCells=DayPilotCalendar.getCellsBelow(this);DayPilotCalendar.topSelectedCell=$b.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$b.selectedCells=DayPilotCalendar.getCellsAbove(this);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$b.selectedCells[0];};$b.$4I();};this.getSelection=function(){if(!DayPilotCalendar.topSelectedCell){return null;};if(!DayPilotCalendar.bottomSelectedCell){return null;};var $07=DayPilotCalendar.topSelectedCell.start;var end=DayPilotCalendar.bottomSelectedCell.end;var $0G=DayPilotCalendar.topSelectedCell.resource;return new DayPilot.Selection($07,end,$0G,$b);};this.$4L=function(ev){if(DayPilotCalendar.firstMousePos){var $0H=function(){DayPilotCalendar.selecting=true;$b.$4I();DayPilotCalendar.firstMousePos=null;DayPilotCalendar.selecting=false;var $0I=$b.getSelection();$b.$4C($0I.start,$0I.end,$0I.resource);};if(DayPilotCalendar.selecting&&DayPilotCalendar.topSelectedCell!==null){$0H();}else{DayPilotCalendar.selectedTimeout=setTimeout($0H,100);}}else{DayPilotCalendar.selecting=false;}};this.$4M=function(ev){if(!$b.initScrollPos){return;};$b.scrollPos=$b.nav.scroll.scrollTop;$b.scrollHeight=$b.nav.scroll.clientHeight;$b.nav.scrollpos.value=$b.scrollPos;$b.$46();};this.$46=function(){if(!this.scrollLabelsVisible){return;};if(!this.scrollLabels){return;};var $0J=this.columnsBottom;var $0K=(this.showHours?this.hourWidth:0);var $H=this.nav.main.rows[0].cells[0].clientWidth;var iw=10;var $0L=1;for(var i=0;i<$0J.length;i++){var $0M=this.nav.scrollUp[i];var $0N=this.nav.scrollDown[i];$0M.style.left=($0K+i*$H+$H/ 2-(iw/ 2)+$0L)+"px";$0N.style.left=($0K+i*$H+$H/ 2-(iw/ 2)+$0L)+"px";};var $0O=this.$4N();for(var i=0;i<this.nav.scrollUp.length;i++){var up=this.nav.scrollUp[i];var $0P=this.nav.scrollDown[i];var $0Q=this.scrollLabels[i].minEnd-$0O;var $0R=this.scrollLabels[i].maxStart-$0O;if(up&&$0P){if($0Q<=$b.scrollPos){up.style.top=(this.$4g()+2)+"px";up.style.display='';}else{up.style.display='none';};if($0R>=$b.scrollPos+$b.scrollHeight){$0P.style.top=(this.$4g()+this.scrollHeight-8)+"px";$0P.style.display='';}else{$0P.style.display='none';}}}};this.$4O=function($E){var $0S=$E.parentNode;while($0S&&$0S.tagName!=="TD"){$0S=$0S.parentNode;};var $0T=document.createElement('textarea');$0T.style.position='absolute';$0T.style.width=($E.parentNode.offsetWidth-2)+'px';$0T.style.height=($E.offsetHeight-2)+'px';var $0U=DayPilot.gs($E,'fontFamily');if(!$0U)$0U=DayPilot.gs($E,'font-family');$0T.style.fontFamily=$0U;var $0V=DayPilot.gs($E,'fontSize');if(!$0V)$0V=DayPilot.gs($E,'font-size');$0T.style.fontSize=$0V;$0T.style.left='0px';$0T.style.top=$E.offsetTop+'px';$0T.style.border='1px solid black';$0T.style.padding='0px';$0T.style.marginTop='0px';$0T.style.backgroundColor='white';$0T.value=DayPilot.tr($E.event.text());$0T.event=$E.event;$0S.firstChild.appendChild($0T);return $0T;};this.$4m=function($c,e,$00){$b.$4F($c,e,$00);};this.multiselect={};this.multiselect.$3Q=[];this.multiselect.$4P=[];this.multiselect.$4Q=[];this.multiselect.$4R=[];this.multiselect.$4S=function(){var m=$b.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$b.multiselect;var $0W=[];$0W.ignoreToJSON=true;for(var i=0;i<m.$4P.length;i++){$0W.push(m.$4P[i]);};return $0W;};this.multiselect.$4T=function(){var h=$b.nav.select;h.value=$b.multiselect.$4S();};this.multiselect.$4G=function($c,$0X){var m=$b.multiselect;if(m.isSelected($c.event)){if($b.allowMultiSelect){if($0X){m.remove($c.event,true);}else{var $0Y=m.$4P.length;m.clear(true);if($0Y>1){m.add($c.event,true);}}}else{m.clear(true);}}else{if($b.allowMultiSelect){if($0X){m.add($c.event,true);}else{m.clear(true);m.add($c.event,true);}}else{m.clear(true);m.add($c.event,true);}};m.redraw();m.$4T();};this.multiselect.$4U=function(ev){var m=$b.multiselect;return m.$4V(ev,m.$3Q);};this.multiselect.$4W=function(){var m=$b.multiselect;var $0Z=[];for(var i=0;i<m.$4P.length;i++){var event=m.$4P[i];$0Z.push(event.value());};alert($0Z.join("\n"));};this.multiselect.add=function(ev,$10){var m=$b.multiselect;if(m.$4X(ev)===-1){m.$4P.push(ev);};m.$4T();if($10){return;};m.redraw();};this.multiselect.remove=function(ev,$10){var m=$b.multiselect;var i=m.$4X(ev);if(i!==-1){m.$4P.splice(i,1);};m.$4T();if($10){return;};m.redraw();};this.multiselect.clear=function($10){var m=$b.multiselect;m.$4P=[];m.$4T();if($10){return;};m.redraw();};this.multiselect.redraw=function(){var m=$b.multiselect;for(var i=0;i<$b.elements.events.length;i++){var $c=$b.elements.events[i];if(m.isSelected($c.event)){m.$4Y($c);}else{m.$4Z($c);}}};this.multiselect.$4Y=function($c){var m=$b.multiselect;var cn=$b.cssOnly?$b.$4a("_selected"):$b.$4a("selected");var c=m.$50($c);DayPilot.Util.addClass(c,cn);if($b.useEventSelectionBars){m.$51($c);};m.$4Q.push($c);};this.multiselect.$50=function($c){if($b.cssOnly){return $c;};for(var i=0;i<$c.childNodes.length;i++){var c=$c.childNodes[i];if(c.getAttribute("c")==="1"){return c;}};return null;};this.multiselect.$52=function(){var m=$b.multiselect;for(var i=0;i<m.$4Q.length;i++){var $c=m.$4Q[i];m.$4Z($c,true);};m.$4Q=[];};this.multiselect.$4Z=function($c,$11){var m=$b.multiselect;var cn=$b.cssOnly?$b.$4a("_selected"):$b.$4a("selected");var c=m.$50($c);DayPilot.Util.removeClass(c,cn);if($b.useEventSelectionBars){m.$53($c);};if($11){return;};var i=DayPilot.indexOf(m.$4Q,$c);if(i!==-1){m.$4Q.splice(i,1);}};this.multiselect.isSelected=function(ev){return $b.multiselect.$4V(ev,$b.multiselect.$4P);};this.multiselect.$4X=function(ev){return DayPilot.indexOf($b.multiselect.$4P,ev);};this.multiselect.$4V=function(e,$0Z){if(!$0Z){return false;};for(var i=0;i<$0Z.length;i++){var ei=$0Z[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.multiselect.$51=function($12){var w=5;if(!$12.top){var top=document.createElement("div");top.setAttribute("unselectable","on");top.style.position='absolute';top.style.left=$12.offsetLeft+'px';top.style.width=$12.offsetWidth+'px';top.style.top=($12.offsetTop-w)+'px';top.style.height=w+'px';top.style.backgroundColor=$b.eventSelectColor;top.style.zIndex=100;$12.parentNode.appendChild(top);$12.top=top;};if(!$12.bottom){var $13=document.createElement("div");$13.setAttribute("unselectable","on");$13.style.position='absolute';$13.style.left=$12.offsetLeft+'px';$13.style.width=$12.offsetWidth+'px';$13.style.top=($12.offsetTop+$12.offsetHeight)+'px';$13.style.height=w+'px';$13.style.backgroundColor=$b.eventSelectColor;$13.style.zIndex=100;$12.parentNode.appendChild($13);$12.bottom=$13;}};this.multiselect.$53=function($12){if($12.top){$12.parentNode.removeChild($12.top);$12.top=null;};if($12.bottom){$12.parentNode.removeChild($12.bottom);$12.bottom=null;}};this.$4l=function($E){if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};var $0T=this.$4O($E);DayPilotCalendar.editing=$0T;$0T.onblur=function(){var id=$E.event.value();var $14=$E.event.tag();var $15=$E.event.text();var $0y=$0T.value;DayPilotCalendar.editing=null;$0T.parentNode.removeChild($0T);if($15===$0y){return;};$E.style.display='none';$b.$4E($E.event,$0y);};$0T.onkeypress=function(e){var $16=(window.event)?event.keyCode:e.keyCode;if($16===13){this.onblur();return false;}else if($16===27){$0T.parentNode.removeChild($0T);DayPilotCalendar.editing=false;};return true;};$0T.select();$0T.focus();};this.$3R=function(){if(!this.columns){this.columnsBottom=this.$54();this.$55(this.columnsBottom);}else{this.$55(this.columns);this.columnsBottom=this.$56(this.headerLevels,true);}};this.$54=function(){var $0J=[];var $07=this.startDate.getDatePart();var $17=this.days;switch(this.viewType){case "Day":$17=1;break;case "Week":$17=7;$07=$07.firstDayOfWeek($0c.locale().weekStarts);break;case "WorkWeek":$17=5;$07=$07.firstDayOfWeek(1);break;};if(this.heightSpec==='BusinessHoursNoScroll'){$07=$07.addHours(this.businessBeginsHour);};for(var i=0;i<$17;i++){var $q={};$q.start=$07.addDays(i);$q.name=$q.start.toString($0c.locale().datePattern);$q.html=$q.name;$0J.push($q);};return $0J;};this.$57=function($q){if($q.Start){$q.id=$q.Value;$q.start=$q.Start;$q.name=$q.Name;$q.html=$q.InnerHTML;$q.toolTip=$q.ToolTip;$q.backColor=$q.BackColor;$q.areas=$q.Areas;$q.children=$q.Children;delete $q.Value;delete $q.Start;delete $q.Name;delete $q.InnerHTML;delete $q.ToolTip;delete $q.BackColor;delete $q.Areas;delete $q.Children;};$q.start=$q.start||$b.startDate;$q.start=new DayPilot.Date($q.start);$q.html=$q.html||$q.name;$q.getChildren=function($18,$19){var $0Z=[];if($18<=1){$0Z.push(this);return $0Z;};if(!this.children||this.children.length===0){if($19){$0Z.push(this);}else{$0Z.push("empty");};return $0Z;};for(var i=0;i<this.children.length;i++){var $1a=this.children[i];var $1b=$1a.getChildren($18-1,$19);for(var j=0;j<$1b.length;j++){$0Z.push($1b[j]);}};return $0Z;};$q.getChildrenCount=function($18){var $0Y=0;if(!this.children||this.children.length<=0||$18<=1){return 1;};for(var i=0;i<this.children.length;i++){$0Y+=this.children[i].getChildrenCount($18-1);};return $0Y;};$q.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $1c=this.blocks[i];if($1c.overlapsWith(ep.part.top,ep.part.height)){$1c.events.push(ep);$1c.min=Math.min($1c.min,ep.part.top);$1c.max=Math.max($1c.max,ep.part.top+ep.part.height);return i;}};var $1c=[];$1c.lines=[];$1c.events=[];$1c.overlapsWith=function($07,$1d){var end=$07+$1d-1;if(!(end<this.min||$07>this.max-1)){return true;};return false;};$1c.putIntoLine=function(ep){var $1e=this;for(var i=0;i<this.lines.length;i++){var $1f=this.lines[i];if($1f.isFree(ep.part.top,ep.part.height)){$1f.push(ep);return i;}};var $1f=[];$1f.isFree=function($07,$1d){var end=$07+$1d-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.top||$07>e.part.top+e.part.height-1)){return false;}};return true;};$1f.push(ep);this.lines.push($1f);return this.lines.length-1;};$1c.events.push(ep);$1c.min=ep.part.top;$1c.max=ep.part.top+ep.part.height;this.blocks.push($1c);return this.blocks.length-1;};$q.putIntoLine=function(ep){var $1e=this;for(var i=0;i<this.lines.length;i++){var $1f=this.lines[i];if($1f.isFree(ep.part.top,ep.part.height)){$1f.push(ep);return i;}};var $1f=[];$1f.isFree=function($07,$1d){var end=$07+$1d-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.top||$07>e.part.top+e.part.height-1)){return false;}};return true;};$1f.push(ep);this.lines.push($1f);return this.lines.length-1;};if($q.children){this.$55($q.children);}};this.$55=function(cc){for(var i=0;i<cc.length;i++){this.$57(cc[i]);}};this.$56=function($18,$19){var $1g=this.columns||this.columnsBottom;var $0Z=[];for(var i=0;i<$1g.length;i++){var $t=$1g[i].getChildren($18,$19);for(var j=0;j<$t.length;j++){$0Z.push($t[j]);}};return $0Z;};this.$45=function(){if(!this.showAllDayEvents){return;};var $1h=this.nav.header;if(!$1h){return;};$1h.style.display='none';var $0J=this.columnsBottom.length;for(var j=0;j<this.allDay.lines.length;j++){var $1f=this.allDay.lines[j];for(var i=0;i<$1f.length;i++){var $g=$1f[i];var $c=document.createElement("div");$c.event=$g;$c.setAttribute("unselectable","on");$c.style.position='absolute';if($b.rtl){$c.style.right=(100.0*$g.part.colStart/$0J)+"%";}else{$c.style.left=(100.0*$g.part.colStart/$0J)+"%";};$c.style.width=(100.0*$g.part.colWidth/$0J)+"%";$c.style.height=this.allDayEventHeight+'px';if(!this.cssOnly){$c.style.top=(3+this.headerLevels*this.headerHeight+j*(this.allDayEventHeight+2))+"px";}else{$c.className=this.$4a("_alldayevent");$c.style.top=(this.headerLevels*this.headerHeight+j*(this.allDayEventHeight))+"px";};$c.style.textAlign='left';$c.style.lineHeight="1.2";if($g.client.clickEnabled()){$c.onclick=this.$4j;};if($g.client.doubleClickEnabled()){$c.ondblclick=this.$4n;};$c.oncontextmenu=this.$4o;$c.onmousemove=function(ev){var $c=this;if(!$c.active){if($b.cssOnly){DayPilot.Util.addClass($c,$b.$4a("_alldayevent_hover"));};DayPilot.Areas.showAreas($c,this.event);};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling!=='Disabled'){$b.bubble.showEvent(this.event);}};$c.onmouseout=function(ev){var $c=this;if($b.cssOnly){DayPilot.Util.removeClass($c,$b.$4a("_alldayevent_hover"));};DayPilot.Areas.hideAreas(this,ev);if($b.bubble){$b.bubble.hideOnMouseOut();}};if(this.showToolTip){$c.title=$g.client.toolTip();};var $1i=$g.start().getTime()===$g.part.start.getTime();var $1j=$g.end().getTime()===$g.part.end.getTime();var back=$g.data.backColor;if(!this.cssOnly){var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.style.marginLeft='2px';$M.style.marginRight='3px';$M.style.paddingLeft='2px';$M.style.height=(this.allDayEventHeight-2)+'px';$M.style.border='1px solid '+this.allDayEventBorderColor;$M.style.overflow='hidden';$M.style.position='relative';$M.style.backgroundColor=back;$M.className=this.$4a("alldayevent");if(this.roundedCorners){$M.style.MozBorderRadius="5px";$M.style.webkitBorderRadius="5px";$M.style.borderRadius="5px";};var $1k=[];var $1l=true;var $1m=this.showAllDayEventStartEnd;var $1n=this.showAllDayEventStartEnd;var $1o="Center";var $1p=0;if($1m){if($1o==='Left'){$1k.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");$1k.push("width:");$1k.push($1p-4);$1k.push("px;");$1k.push("><span style='background-color:");}else{$1k.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");};$1k.push('transparent');$1k.push("' unselectable='on'>");if($1i){if($g.start().getDatePart().getTime()!==$g.start().getTime()){$1k.push(DayPilot.Date.hours($g.start().d,this.$58.timeFormat()==='Clock12Hours'));}}else{$1k.push("~");};$1k.push("</span></div></div>");};if($1n){$1k.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");$1k.push('transparent');$1k.push("' unselectable='on'>");if($1j){if($g.end().getDatePart().getTime()!==$g.end().getTime()){$1k.push(DayPilot.Date.hours($g.end().d,this.$58.timeFormat()==='Clock12Hours'));}}else{$1k.push("~");};$1k.push("</span></div></div>");};if($1o==='Left'){var $W=$1m?$1p:0;$1k.push("<div style='margin-top:0px;height:");$1k.push(this.allDayEventHeight-2);$1k.push("px;");$1k.push(";overflow:hidden;text-align:left;padding-left:");$1k.push($W);$1k.push("px;font-size:");$1k.push(this.allDayEventFontSize);$1k.push(";color:");$1k.push(this.allDayEventFontColor);$1k.push(";font-family:");$1k.push(this.eventFontFamily);$1k.push("' unselectable='on'>");if($g.client.innerHTML()){$1k.push($g.client.innerHTML());}else{$1k.push($g.text());};$1k.push("</div>");}else if($1o==='Center'){if($1l){$1k.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");$1k.push("<span style='background-color:");$1k.push('transparent');$1k.push(";font-size:");$1k.push(this.allDayEventFontSize);$1k.push(";color:");$1k.push(this.allDayEventFontColor);$1k.push(";font-family:");$1k.push(this.allDayEventFontFamily);$1k.push("' unselectable='on'>");if($g.client.innerHTML()){$1k.push($g.client.innerHTML());}else{$1k.push($g.text());};$1k.push("</span>");$1k.push("</div>");}else{$1k.push("<div style='margin-top:0px;height:");$1k.push(this.allDayEventHeight-2);$1k.push("px;");$1k.push(";overflow:hidden;text-align:center;font-size:");$1k.push(this.allDayEventFontSize);$1k.push(";color:");$1k.push(this.allDayEventFontColor);$1k.push(";font-family:");$1k.push(this.allDayEventFontFamily);$1k.push("' unselectable='on'>");if($g.client.innerHTML()){$1k.push($g.client.innerHTML());}else{$1k.push($g.text());};$1k.push("</div>");}};$M.innerHTML=$1k.join('');$c.appendChild($M);}else{var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=this.$4a("_alldayevent_inner");if(back){$M.style.background=back;};if($b.rtl){if(!$1i){DayPilot.Util.addClass($c,this.$4a("_alldayevent_continueright"));};if(!$1j){DayPilot.Util.addClass($c,this.$4a("_alldayevent_continueleft"));}}else{if(!$1i){DayPilot.Util.addClass($c,this.$4a("_alldayevent_continueleft"));};if(!$1j){DayPilot.Util.addClass($c,this.$4a("_alldayevent_continueright"));}};if($g.client.innerHTML()){$M.innerHTML=$g.client.innerHTML();}else{$M.innerHTML=$g.text();};$c.appendChild($M);};if($b.$48()){if(typeof $b.onAfterEventRender==='function'){var $m={};$m.e=$c.event;$m.div=$c;$b.onAfterEventRender($m);}}else{if($b.afterEventRender){$b.afterEventRender($c.event,$c);}};this.nav.allday.appendChild($c);this.elements.events.push($c);}};$1h.style.display='';};this.$3E=function($1q){$b.multiselect.$52();if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $c=this.elements.events[i];var $E=$c.event;if($E&&$1q&&!$E.allday()){continue;};if($E){$E.div=null;$E.root=null;};$c.onclick=null;$c.onclickSave=null;$c.ondblclick=null;$c.oncontextmenu=null;$c.onmouseover=null;$c.onmouseout=null;$c.onmousemove=null;$c.onmousedown=null;if($c.firstChild&&$c.firstChild.firstChild&&$c.firstChild.firstChild.tagName&&$c.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $1r=$c.firstChild.firstChild;$1r.onmousedown=null;$1r.onmousemove=null;$1r.onclick=null;};$c.helper=null;$c.event=null;DayPilot.de($c);}};this.elements.events=[];};this.$59=function($g){var $G=this.nav.events;var $1s=this.roundedCorners;var $1t=this.roundedCorners&&(this.$3u.ff||this.$3u.opera105||this.$3u.webkit522||!this.$3u.ielt9);var $1u=this.roundedCorners&&!$1t;var $1v=$g.cache||$g.data;var $1w=$1v.borderColor||this.eventBorderColor;var $c=document.createElement("div");$c.setAttribute("unselectable","on");$c.style.MozUserSelect='none';$c.style.KhtmlUserSelect='none';$c.style.WebkitUserSelect='none';$c.style.position='absolute';if(!this.cssOnly){$c.style.fontFamily=this.eventFontFamily;$c.style.fontSize=this.eventFontSize;$c.style.color=$1v.fontColor||this.eventFontColor;if(!$1s){$c.style.backgroundColor=$1w;};if(this.transparent){$c.style.opacity=0.6;$c.style.filter="alpha(opacity=60)";}}else{$c.className=this.$4a("_event");};$c.style.left=$g.part.left+'%';$c.style.top=($g.part.top-this.$4N())+'px';$c.style.width=$g.part.width+'%';$c.style.height=Math.max($g.part.height,2)+'px';$c.style.overflow='hidden';$c.isFirst=$g.part.start.getTime()===$g.start().getTime();$c.isLast=$g.part.end.getTime()===$g.end().getTime();if($g.client.clickEnabled()){$c.onclick=this.$4j;};if($g.client.doubleClickEnabled()){$c.ondblclick=this.$4n;};$c.oncontextmenu=this.$4o;$c.onmousemove=this.$5a;$c.onmouseout=this.$5b;$c.onmousedown=this.$5c;$c.ontouchstart=this.$5d.onEventTouchStart;$c.ontouchmove=this.$5d.onEventTouchMove;$c.ontouchend=this.$5d.onEventTouchEnd;var $1k=[];if(!this.cssOnly){if(this.eventDeleteHandling!=='Disabled'&&$g.client.deleteEnabled()){$1k.push("<div unselectable='on' style='position:absolute; width:100%;text-align:right;'><div style='position:absolute; width:10px; height:10px; right:2px; top: 2px; cursor:pointer;");if(this.deleteImageUrl){$1k.push("background-image:url(\"" + this.deleteImageUrl + "\");");};$1k.push("' class='");$1k.push(this.$4a("event_delete"));$1k.push("' onmousemove=\"if(typeof(DayPilotBubble)!=='undefined'&&");$1k.push(this.clientName);$1k.push(".bubble && ");$1k.push(this.clientName);$1k.push(".bubble.hideAfter > 0");$1k.push(") { DayPilotBubble.hideActive(); event.cancelBubble = true; };\" onmousedown=\"this.parentNode.parentNode.style.cursor='default';\" onclick='");$1k.push(this.clientName);$1k.push(".internal.eventDeleteDispatch(this); event.cancelBubble = true; if (event.stopPropagation) event.stopPropagation();' ></div></div>");};if($1u){$1k.push("<div style='margin-right:2px;'>");$1k.push("<div style='height:1px;line-height:1px;font-size:0px; margin-left:2px; background-color:");$1k.push($1w);$1k.push(";'>&nbsp;</div>");$1k.push("</div>");$1k.push("<div unselectable='on' style='position:absolute;width:100%;margin-top:-1px;'>");$1k.push("<div style='height:1px;line-height:1px;font-size:0px;margin-left:1px;margin-top:1px; margin-right:1px;border-right:1px solid ");$1k.push($1w);$1k.push(";border-left:1px solid ");$1k.push($1w);$1k.push(";background-color:");$1k.push($g.client.header()?$1w:$g.BackgroundColor);$1k.push("'>");$1k.push("&nbsp;</div>");$1k.push("</div>");}else if(!$1t){$1k.push("<div style='height:1px;line-height:1px;font-size:0px; width:1px;'>&nbsp;</div>");};$1k.push("<div");if(this.showToolTip){$1k.push(" title='");$1k.push($g.client.toolTip().replace(/'/g,"&apos;"));$1k.push("'");};var $K=Math.max($g.part.height-2,0);$1k.push(" c='1'");$1k.push(" class='");$1k.push($1v.cssClass||this.$4a('event'));$1k.push("'");if($1u){$1k.push(" style='margin-top:1px;height:");$1k.push($K-2);}else{$1k.push(" style='margin-top:0px;height:");$1k.push($K);};$1k.push("px;background-color:");$1k.push($g.client.backColor());if($1t){$1k.push(";border:1px solid ");$1k.push($1w);$1k.push(";-moz-border-radius:5px;");$1k.push(";-webkit-border-radius:5px;");$1k.push(";border-radius:5px;");}else{$1k.push(";border-left:1px solid ");$1k.push($1w);$1k.push(";border-right:1px solid ");$1k.push($1w);};$1k.push(";");if($g.data.backgroundImage){$1k.push("background-image:url(");$1k.push($g.data.backgroundImage);$1k.push(");");if($g.data.backgroundRepeat){$1k.push("background-repeat:");$1k.push($g.data.backgroundRepeat);$1k.push(";");}};if($b.rtl){$1k.push("direction:rtl;");};$1k.push("' unselectable='on'>");if(this.durationBarVisible){var $1x=$g.client.barColor()||$b.durationBarColor;$1k.push("<div style='position:absolute;left:1px;top:1px;width:");$1k.push($b.durationBarWidth-1);$1k.push("px;height:");$1k.push($g.part.barTop);$1k.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1k.push("<div style='position:absolute;left:1px;top:");$1k.push($g.part.barTop+$g.part.barHeight);$1k.push("px;width:");$1k.push($b.durationBarWidth-1);$1k.push("px;height:");$1k.push($K-($g.part.barTop+$g.part.barHeight));$1k.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1k.push("<div style='position:absolute;left:1px;width:");$1k.push($b.durationBarWidth);$1k.push("px;height:");$1k.push($g.part.barHeight);$1k.push("px;");if($g.data.durationBarImageUrl){$1k.push("background-image:url(");$1k.push($g.data.durationBarImageUrl);$1k.push(");");}else if($b.durationBarImageUrl){$1k.push("background-image:url(");$1k.push($b.durationBarImageUrl);$1k.push(");");};$1k.push("top:");$1k.push($g.part.barTop+1);$1k.push("px;background-color:");$1k.push($1x);$1k.push(";font-size:1px' unselectable='on'></div><div style='position:absolute;left:");$1k.push($b.durationBarWidth);$1k.push("px;top:1px;width:1px;background-color:");$1k.push($1w);$1k.push(";height:100%' unselectable='on'></div>");};var $1y=$g.client.header()?this.eventHeaderHeight:0;if($g.client.header()){$1k.push("<div unselectable='on' style='overflow:hidden;height:");$1k.push(this.eventHeaderHeight);$1k.push("px; background-color:");$1k.push($1w);$1k.push(";font-size:");$1k.push(this.eventHeaderFontSize);$1k.push(";color:");$1k.push(this.eventHeaderFontColor);$1k.push("'>");$1k.push($g.client.header());$1k.push("</div>");};if(this.durationBarVisible){$1k.push("<div unselectable='on' style='padding-left:");$1k.push($b.durationBarWidth+3);$1k.push("px;");}else{$1k.push("<div unselectable='on' style='overflow:hidden;padding-left:2px;height:");$1k.push($K-$1y-1);$1k.push("px;");};$1k.push("'>");$1k.push($g.client.innerHTML());$1k.push("</div></div>");if($1u){$1k.push("<div unselectable='on' style='margin-right:2px;'>");$1k.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-left:2px;margin-top:1px;background-color:");$1k.push($1w);$1k.push(";'><!-- --></div>");$1k.push("</div>");$1k.push("<div unselectable='on' style='margin-right:0px;margin-top:-3px;position:relative;'>");$1k.push("<div unselectable='on' style='margin-right:0px;position:relative;'>");$1k.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-top:1px;margin-left:1px;margin-right:1px;border-right:1px solid ");$1k.push($1w);$1k.push(";border-left:1px solid ");$1k.push($1w);$1k.push(";background-color:");$1k.push($g.client.backColor());$1k.push("'>");$1k.push("<!-- --></div>");$1k.push("</div>");$1k.push("</div>");};$c.innerHTML=$1k.join('');}else{if($1v.cssClass){DayPilot.Util.addClass($c,$1v.cssClass);};var $M=document.createElement("div");$M.setAttribute("unselectable","on");$M.className=$b.$4a("_event_inner");$M.innerHTML=$g.client.innerHTML();if($1v.backColor){$M.style.background=$1v.backColor;};if($1v.borderColor){$M.style.borderColor=$1v.borderColor;};if($1v.backgroundImage){$M.style.backgroundImage="url("+$1v.backgroundImage+")";if($1v.backgroundRepeat){$M.style.backgroundRepeat=$1v.backgroundRepeat;}};$c.appendChild($M);if($g.client.barVisible()){var $K=$g.part.height-2;var $1z=100*$g.part.barTop/$K;var $1A=Math.ceil(100*$g.part.barHeight/$K);if(this.durationBarMode==="PercentComplete"){$1B=0;$1C=$1v.complete;};var $1D=document.createElement("div");$1D.setAttribute("unselectable","on");$1D.className=this.$4a("_event_bar");$1D.style.position="absolute";var $1E=document.createElement("div");$1E.setAttribute("unselectable","on");$1E.className=this.$4a("_event_bar_inner");$1E.style.top=$1z+"%";if(0<$1A&&$1A<=1){$1E.style.height="1px";}else{$1E.style.height=$1A+"%";};$1D.appendChild($1E);$c.appendChild($1D);}};if($G.rows[0].cells[$g.part.dayIndex]){var $1F=$G.rows[0].cells[$g.part.dayIndex].firstChild;$1F.appendChild($c);$b.$5e($c);$c.event=$g;if($b.multiselect.$4U($g)){$b.multiselect.add($c.event,true);};if($b.$48()){if(typeof $b.onAfterEventRender==='function'){var $m={};$m.e=$c.event;$m.div=$c;$b.onAfterEventRender($m);}}else{if($b.afterEventRender){$b.afterEventRender($c.event,$c);}}};$b.elements.events.push($c);};this.$5e=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $1a=el.childNodes[i];if($1a.nodeType===1){$1a.setAttribute("unselectable","on");this.$5e($1a);}}catch(e){}}};this.$44=function(){this.multiselect.$4P=[];var $07=new Date();for(var i=0;i<this.columnsBottom.length;i++){var $1G=this.columnsBottom[i];for(var m=0;m<$1G.blocks.length;m++){var $1c=$1G.blocks[m];for(var j=0;j<$1c.lines.length;j++){var $1f=$1c.lines[j];for(var k=0;k<$1f.length;k++){var e=$1f[k];e.part.width=100/$1c.lines.length;e.part.left=e.part.width*j;if(this.eventArrangement==='Cascade'){var $1H=(j===$1c.lines.length-1);if(!$1H){e.part.width=e.part.width*1.5;}};if(this.eventArrangement==='Full'){e.part.left=e.part.left/2;e.part.width=100-e.part.left;};if(!e.allday()){this.$59(e);}}}}};this.multiselect.redraw();var end=new Date();var $1I=end.getTime()-$07.getTime();};this.$5f=function(){this.multiselect.$4P=[];for(var i=0;i<this.columnsBottom.length;i++){var $1G=this.columnsBottom[i];for(var j=0;j<$1G.lines.length;j++){var $1f=$1G.lines[j];for(var k=0;k<$1f.length;k++){var e=$1f[k];e.part.width=100/$1G.lines.length;e.part.left=e.Width*j;if(!e.allday()){this.$59(e);}}}}};this.$4a=function($1J){if(this.cssClassPrefix){return this.cssClassPrefix+$1J;}else{return "";}};this.$43=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$5g=function(){var $K=this.$4g()+this.$5h();if($K<0){return 0;};return $K;};this.$5i=function(){this.nav.top=document.getElementById(this.id);this.nav.top.dp=this;this.nav.top.innerHTML='';this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';this.nav.top.style.position='relative';if(this.width){this.nav.top.style.width=this.width;};if(this.rtl){this.nav.top.style.direction="rtl";};if(!this.cssOnly){this.nav.top.style.lineHeight="1.2";this.nav.top.style.textAlign="left";};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";}else{this.nav.top.style.height=this.$5g()+"px";};if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};this.nav.scroll=document.createElement("div");this.nav.scroll.style.height=this.$5h()+"px";if(this.cssOnly){DayPilot.Util.addClass(this.nav.top,this.$4a("_main"));};var $1K=this.columnWidthSpec==='Fixed';if(!$1K){if(this.heightSpec==="Fixed"){this.nav.scroll.style.overflowY="scroll";}else if(this.heightSpec==='BusinessHours'&&this.$4b()<=this.businessEndsHour-this.businessBeginsHour){this.nav.scroll.style.overflow="hidden";}else if(this.heightSpec!=="Full"&&this.heightSpec!=="BusinessHoursNoScroll"){this.nav.scroll.style.overflow="auto";}else{this.nav.scroll.style.overflow="hidden";}};this.nav.scroll.style.position="relative";if(!this.cssOnly){this.nav.scroll.style.border="1px solid "+this.borderColor;this.nav.scroll.style.backgroundColor=this.hourNameBackColor;};if(this.showHeader){var $1h=this.$5j();this.nav.top.appendChild($1h);};this.nav.scroll.style.zoom=1;this.nav.scroll.setAttribute("data-id","nav.scroll");this.nav.scroll.style.position="absolute";this.nav.scroll.style.left="0px";this.nav.scroll.style.right="0px";this.nav.scroll.style.top=this.$4g()+"px";var $1L=this.$5k();this.nav.scrollable=$1L.firstChild;this.nav.scroll.appendChild($1L);this.nav.top.appendChild(this.nav.scroll);this.nav.vsph=document.createElement("div");this.nav.vsph.style.display="none";this.nav.top.appendChild(this.nav.vsph);this.nav.scrollpos=document.createElement("input");this.nav.scrollpos.type="hidden";this.nav.scrollpos.id=$b.id+"_scrollpos";this.nav.scrollpos.name=this.nav.scrollpos.id;this.nav.top.appendChild(this.nav.scrollpos);this.nav.select=document.createElement("input");this.nav.select.type="hidden";this.nav.select.id=$b.id+"_select";this.nav.select.name=this.nav.select.id;this.nav.select.value=null;this.nav.top.appendChild(this.nav.select);this.nav.scrollLayer=document.createElement("div");this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';this.nav.top.appendChild(this.nav.scrollLayer);this.nav.scrollUp=[];this.nav.scrollDown=[];this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(this.hourWidth+5)+"px";this.nav.loading.style.backgroundColor=this.loadingLabelBackColor;this.nav.loading.style.fontSize=this.loadingLabelFontSize;this.nav.loading.style.fontFamily=this.loadingLabelFontFamily;this.nav.loading.style.color=this.loadingLabelFontColor;this.nav.loading.style.padding='2px';this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild(this.nav.loading);};this.$40=function(){if(!this.fasterDispose){DayPilot.pu(this.nav.hourTable);}else{this.$5l();};if(this.nav.hoursPlaceholder){this.nav.hoursPlaceholder.innerHTML='';this.nav.hourTable=this.$5m();this.nav.hoursPlaceholder.appendChild(this.nav.hourTable);}};this.$5l=function(){if(!this.nav.hourTable){return;};for(var i=0;i<this.nav.hourTable.rows.length;i++){var $1M=this.nav.hourTable.rows[i];var $c=$1M.cells[0].firstChild;$c.data=null;$c.onmousemove=null;$c.onmouseout=null;}};this.$5k=function(){var $1N=document.createElement("div");$1N.style.zoom=1;$1N.style.position='relative';$1N.onmousemove=this.$5n;$1N.ontouchmove=this.$5d.onMainTouchMove;$1N.ontouchend=this.$5d.onMainTouchEnd;var $1O=null;var $1P=null;var $1Q=null;var $1K=this.columnWidthSpec==='Fixed';if($1K){if(this.showHours){var $W=document.createElement("div");$W.style.cssFloat="left";$W.style.styleFloat="left";$W.style.width=(this.hourWidth)+"px";$W.style.height=this.$5h()+"px";$W.style.overflow="hidden";$1N.appendChild($W);$1O=$W;var $1R=30;var $K=(this.$4c()*this.cellHeight)/(60000*this.cellDuration)+$1R;$1Q=document.createElement("div");$1Q.style.height=($K)+"px";$W.appendChild($1Q);};var $X=document.createElement("div");$X.style.height=this.$5h()+"px";if(this.showHours){$X.style.marginLeft=(this.hourWidth)+"px";};$X.style.position="relative";$X.style.overflow="auto";$X.onscroll=function(){$b.nav.bottomLeft.scrollTop=$b.nav.bottomRight.scrollTop;$b.nav.upperRight.scrollLeft=$b.nav.bottomRight.scrollLeft;};$1N.appendChild($X);$1P=$X;}else{var $1S=document.createElement("table");$1S.cellSpacing="0";$1S.cellPadding="0";$1S.border="0";$1S.style.border="0px none";$1S.style.width="100%";$1S.style.position='relative';var r=$1S.insertRow(-1);var c;if(this.showHours){c=r.insertCell(-1);c.style.verticalAlign="top";c.style.padding='0px';c.style.border='0px none';$1Q=c;};c=r.insertCell(-1);c.width="100%";c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign="top";if(!this.cssOnly){c.style.borderLeft="1px solid "+this.borderColor;};$1P=c;$1N.appendChild($1S);};if($1Q){this.nav.hourTable=this.$5m();$1Q.appendChild(this.nav.hourTable);};if(!this.cssOnly&&!this.separateEventsTable){$1P.appendChild(this.$5o());}else{var parent=document.createElement("div");parent.style.height="0px";parent.style.position="relative";parent.appendChild(this.$5o());var $1T=document.createElement("div");$1T.style.position="absolute";$1T.style.top="0px";$1T.style.left="0px";$1T.style.right="0px";$1T.style.height="0px";parent.appendChild($1T);this.nav.crosshair=$1T;parent.appendChild(this.$5p());$1P.appendChild(parent);};this.nav.zoom=$1N;this.nav.bottomLeft=$1O;this.nav.bottomRight=$1P;this.nav.hoursPlaceholder=$1Q;return $1N;};this.$5o=function(){var $1S=document.createElement("table");$1S.cellPadding="0";$1S.cellSpacing="0";$1S.border="0";var $1K=this.columnWidthSpec==='Fixed';if(!$1K){$1S.style.width="100%";};$1S.style.border="0px none";if(!this.cssOnly){};$1S.style.tableLayout='fixed';this.nav.main=$1S;this.nav.events=$1S;return $1S;};this.$5p=function(){var $1S=document.createElement("table");var $1K=this.columnWidthSpec==='Fixed';$1S.style.position="absolute";$1S.style.top="0px";$1S.cellPadding="0";$1S.cellSpacing="0";$1S.border="0";if(!$1K){$1S.style.width="100%";}else{$1S.style.width=(this.columnsBottom.length*this.columnWidth)+"px";};$1S.style.border="0px none";$1S.style.tableLayout='fixed';this.nav.events=$1S;var $1U=true;var $0J=this.columnsBottom;var cl=$0J.length;var r=($1U)?$1S.insertRow(-1):$1S.rows[0];for(var j=0;j<cl;j++){var c=($1U)?r.insertCell(-1):r.cells[j];if($1U){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $c=document.createElement("div");$c.style.marginRight=$b.columnMarginRight+"px";$c.style.position='relative';$c.style.height='1px';if(!this.cssOnly){$c.style.fontSize='1px';$c.style.lineHeight='1.2';};$c.style.marginTop='-1px';c.appendChild($c);}};return $1S;};this.$5m=function(){var $1S=document.createElement("table");$1S.cellSpacing="0";$1S.cellPadding="0";$1S.border="0";$1S.style.border='0px none';$1S.style.width=this.hourWidth+"px";$1S.oncontextmenu=function(){return false;};$1S.onmousemove=function(){$b.$3L();};var $1V=this.$4c()/(this.timeHeaderCellDuration*60*1000);for(var i=0;i<$1V;i++){this.$5q($1S,i);};return $1S;};this.$5r=function(){return(this.$4f()-this.$4f(true))*(60/this.cellDuration);};this.$5s=function(){return(this.$4f()-this.$4f(true));};this.$4N=function(){return this.$5r()*this.cellHeight;};this.$5q=function($1S,i){var $K=(this.cellHeight*60/ this.cellDuration)/(60/this.timeHeaderCellDuration);var r=$1S.insertRow(-1);r.style.height=$K+"px";var c=r.insertCell(-1);c.valign="bottom";c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$4a("rowheader");c.style.backgroundColor=this.hourNameBackColor;c.style.cursor="default";};c.style.padding='0px';c.style.border='0px none';var $1W=document.createElement("div");if(this.cssOnly){$1W.className=this.$4a("_rowheader");};$1W.style.position="relative";$1W.style.width=this.hourWidth+"px";$1W.style.height=($K)+"px";$1W.style.overflow='hidden';$1W.setAttribute("unselectable","on");var $1c=document.createElement("div");if(this.cssOnly){$1c.className=this.$4a("_rowheader_inner");};$1c.setAttribute("unselectable","on");if(!this.cssOnly){$1c.style.borderBottom="1px solid "+this.hourNameBorderColor;$1c.style.textAlign="right";$1c.style.height=($K-1)+"px";};var $R=null;var $g=null;if(this.hours){$g=this.hours[i+this.$5s()];$R=$g.html;};var $07=this.startDate.addHours(i+this.$4f());var $1X=$07.getHours();if(typeof $b.onBeforeTimeHeaderRender==='function'){var $m={};$m.header={};$m.header.hours=$1X;$m.header.minutes=$07.getMinutes();$m.header.start=$07.toString("HH:mm");$m.header.html=$R;$m.header.areas=$g?$g.areas:null;$b.onBeforeTimeHeaderRender($m);if($m.header.html!==null){$R=$m.header.html;};$g=$m.header;};if($g){$1W.data=$g;$1W.onmousemove=$b.$5t;$1W.onmouseout=$b.$5u;};if($R){$1c.innerHTML=$R;}else{var $1Y=document.createElement("div");$1Y.setAttribute("unselectable","on");if(!this.cssOnly){$1Y.style.padding="2px";$1Y.style.fontFamily=this.hourFontFamily;$1Y.style.fontSize=this.hourFontSize;$1Y.style.color=this.hourFontColor;};var am=$1X<12;if(this.$58.timeFormat()==="Clock12Hours"){$1X=$1X%12;if($1X===0){$1X=12;}};$1Y.innerHTML=$1X;var $1Z=document.createElement("span");$1Z.setAttribute("unselectable","on");if(!this.cssOnly){$1Z.style.fontSize="10px";$1Z.style.verticalAlign="super";}else{$1Z.className=this.$4a("_rowheader_minutes");};var $20;if(this.$58.timeFormat()==="Clock12Hours"){if(am){$20="AM";}else{$20="PM";}}else{$20="00";};if(!this.cssOnly){$1Z.innerHTML="&nbsp;"+$20;}else{$1Z.innerHTML=$20;};$1Y.appendChild($1Z);$1c.appendChild($1Y);};$1W.appendChild($1c);c.appendChild($1W);};this.$5t=function(ev){$b.$3L();var $c=this;if(!$c.active){DayPilot.Areas.showAreas($c,$c.data);}};this.$5u=function(ev){DayPilot.Areas.hideAreas(this,ev);};this.$5h=function(){switch(this.heightSpec){case "Fixed":return this.height;case "Parent100Pct":return this.height;case "Full":return(this.$4c()*this.cellHeight)/(60000*this.cellDuration);case "BusinessHours":case "BusinessHoursNoScroll":var $O=this.$4d();return $O*this.cellHeight*60/this.cellDuration;default:throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";}};this.$4g=function(){if(!this.showHeader){return 0;};var $21=this.headerLevels*this.headerHeight+this.headerLevels-1;if(this.showAllDayEvents&&this.allDayHeaderHeight){if(!this.cssOnly){return $21+this.allDayHeaderHeight;}else{return $21+this.allDayHeaderHeight;}}else{return $21;}};this.$3W=function(){if(!this.headerHeightAutoFit){return;};if(this.headerLevels>1){throw "Header height can't be adjusted for HeaderLevels > 1 (not implemented yet).";return;};var $N=0;for(var i=0;i<this.columnsBottom.length;i++){var $e=this.nav.header.rows[this.headerLevels-1].cells[i];var $c=$e.firstChild;var $M=$c.firstChild;var $22=$c.style.height;$c.style.height="auto";$M.style.position="static";var h=$c.offsetHeight;$c.style.height=$22;$M.style.position='';$N=Math.max($N,h);};if($N>this.headerHeight){this.headerHeight=$N;this.$3U();this.$3V();}};this.$5v=function(){if(this.cssOnly){return DayPilot.sw($b.nav.scroll)>0;}else{return DayPilot.sw($b.nav.scroll)>2;}};this.$5j=function(){var $1h=document.createElement("div");if(!this.cssOnly){$1h.style.borderLeft="1px solid "+this.borderColor;$1h.style.borderRight="1px solid "+this.borderColor;};var $1K=this.columnWidthSpec==='Fixed';if(!$1K){$1h.style.overflow="auto";};$1h.style.position="absolute";$1h.style.left="0px";$1h.style.right="0px";var $1N=document.createElement("div");$1N.style.position="relative";$1N.style.zoom="1";var $23=null;var $1K=this.columnWidthSpec==='Fixed';if($1K){var $W=document.createElement("div");$W.style.cssFloat="left";$W.style.styleFloat="left";$W.style.width=(this.hourWidth)+"px";if(this.showHours){var $24=this.$5w();this.nav.corner=$24;$W.appendChild($24);$1N.appendChild($W);this.nav.upperLeft=$W;};var $1R=30;var $X=document.createElement("div");if(this.showHours){$X.style.marginLeft=(this.hourWidth)+"px";};$X.style.position="relative";$X.style.overflow="hidden";$X.style.height=this.$4g()+"px";$1N.appendChild($X);this.nav.upperRight=$X;$23=document.createElement("div");$23.style.width=(this.columnsBottom.length*this.columnWidth+$1R)+"px";$X.appendChild($23);}else{var $1S=document.createElement("table");$1S.cellPadding="0";$1S.cellSpacing="0";$1S.border="0";$1S.style.width="100%";$1S.style.borderCollapse='separate';$1S.style.border="0px none";var r=$1S.insertRow(-1);this.nav.fullHeader=$1S;if(this.showHours){var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';var $24=this.$5w();c.appendChild($24);this.nav.corner=$24;};c=r.insertCell(-1);c.style.width="100%";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;};c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';$23=document.createElement("div");$23.style.position="relative";$23.style.height=this.$4g()+"px";$23.style.overflow="hidden";c.appendChild($23);this.nav.mid=$23;$1N.appendChild($1S);};this.nav.headerParent=$23;this.$5x();var $25=this.$5v();var $1K=this.columnWidthSpec==='Fixed';if($25&&!$1K){this.$5y();};$1h.appendChild($1N);return $1h;};this.$5x=function(){this.nav.header=document.createElement("table");this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";var $1K=this.columnWidthSpec==='Fixed';if(!$1K){this.nav.header.width="100%";};this.nav.header.style.tableLayout="fixed";if(!this.cssOnly){this.nav.header.style.borderBottom="0px none #000000";this.nav.header.style.borderLeft="1px solid "+this.borderColor;this.nav.header.style.borderTop="1px solid "+this.borderColor;};this.nav.header.oncontextmenu=function(){return false;};var $25=this.$5v();if(!this.cssOnly){if($25){this.nav.header.style.borderRight="1px solid "+this.borderColor;}};this.nav.headerParent.appendChild(this.nav.header);if(this.nav.allday){DayPilot.de(this.nav.allday);};if(this.showAllDayEvents){var $26=document.createElement("div");$26.style.position='absolute';$26.style.top="0px";$26.style.height="0px";var $1K=this.columnWidthSpec==='Fixed';if(!$1K){$26.style.width="100%";}else{$26.style.width=(this.columnsBottom.length*this.columnWidth)+"px";};this.nav.allday=$26;this.nav.headerParent.appendChild($26);}};this.$5y=function(){if(!this.nav.fullHeader){return;};var r=this.nav.fullHeader.rows[0];var c=r.insertCell(-1);if(!this.cssOnly){c.className=this.$4a('cornerright');c.style.backgroundColor=this.hourNameBackColor;c.style.borderBottom="0px none";c.style.borderLeft="1px solid "+this.borderColor;c.style.borderRight="0px none";};c.style.padding='0px';c.style.verticalAlign='top';c.setAttribute("unselectable","on");var $1k=document.createElement("div");$1k.setAttribute("unselectable","on");if(this.cssOnly){$1k.className=this.$4a('_cornerright');};$1k.style.overflow="hidden";$1k.style.position="relative";$1k.style.width="16px";$1k.style.height=this.$4g()+"px";var $M=document.createElement("div");if(this.cssOnly){$M.className=this.$4a('_cornerright_inner');}else{$M.style.borderTop="1px solid "+this.borderColor;};$1k.appendChild($M);c.appendChild($1k);this.nav.cornerRight=$1k;};this.$5w=function(){var $1L=document.createElement("div");$1L.style.position='relative';if(!this.cssOnly){$1L.style.backgroundColor=this.cornerBackColor;$1L.style.fontFamily=this.headerFontFamily;$1L.style.fontSize=this.headerFontSize;$1L.style.color=this.headerFontColor;$1L.className=this.$4a("corner");}else{$1L.className=this.$4a("_corner");};$1L.style.width=this.hourWidth+"px";$1L.style.height=this.$4g()+"px";$1L.style.overflow="hidden";$1L.oncontextmenu=function(){return false;};var $24=document.createElement("div");if(this.cssOnly){$24.className=this.$4a("_corner_inner");}else{$24.style.borderTop="1px solid "+this.borderColor;};$24.setAttribute("unselectable","on");var $R=this.cornerHTML||this.cornerHtml;$24.innerHTML=$R?$R:'';$1L.appendChild($24);if(!this.numberFormat)return $1L;var $27=document.createElement("div");$27.style.position='absolute';$27.style.padding='2px';$27.style.top='0px';$27.style.left='1px';$27.style.backgroundColor="#FF6600";$27.style.color="white";$27.innerHTML="\u0044\u0045\u004D\u004F";$27.setAttribute("unselectable","on");$1L.appendChild($27);return $1L;};this.$3F=function(){var $1S=this.nav.main;$1S.root=null;$1S.onmouseup=null;for(var y=0;y<$1S.rows.length;y++){var r=$1S.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;c.onclick=null;c.ondblclick=null;c.oncontextmenu=null;}};if(!this.fasterDispose)DayPilot.pu($1S);};this.$3X=function(){for(var i=0;this.nav.scrollUp&&i<this.nav.scrollUp.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);};for(var i=0;this.nav.scrollDown&&i<this.nav.scrollDown.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);};this.nav.scrollUp=[];this.nav.scrollDown=[];};this.$3Z=function(){var $1S=this.nav.main;var $0i=this.cellDuration*60*1000;var $28=this.$4i();var $0J=$b.columnsBottom;var $1U=!this.tableCreated||$0J.length!==$1S.rows[0].cells.length||$28!==$1S.rows.length;if($1S){this.$3F();if($b.$3u.ielt9&&$1U){DayPilot.de(this.nav.scrollable.parentNode);var $1L=this.$5k();this.nav.scrollable=$1L.firstChild;this.nav.scroll.appendChild($1L);$1S=this.nav.main;}}while($1S&&$1S.rows&&$1S.rows.length>0&&$1U){if(!this.fasterDispose)DayPilot.pu($1S.rows[0]);$1S.deleteRow(0);};this.tableCreated=true;if(this.scrollLabelsVisible){var $0J=this.columnsBottom;var $0K=(this.showHours?this.hourWidth:0);var $H=(this.nav.scroll.clientWidth-$0K)/$0J.length;for(var i=0;i<$0J.length;i++){var $0M=document.createElement("div");$0M.style.position='absolute';$0M.style.top='0px';$0M.style.left=($0K+2+i*$H+$H/2)+"px";$0M.style.display='none';var $1r=document.createElement("div");$1r.style.height='10px';$1r.style.width='10px';if(this.cssOnly){$1r.className=this.$4a("_scroll_up");}else{$1r.style.backgroundRepeat="no-repeat";if(this.scrollUpUrl){$1r.style.backgroundImage="url('"+this.scrollUpUrl+"')";};$1r.className=this.$4a("scroll_up");};$0M.appendChild($1r);this.nav.scrollLayer.appendChild($0M);this.nav.scrollUp.push($0M);var $0N=document.createElement("div");$0N.style.position='absolute';$0N.style.top='0px';$0N.style.left=($0K+2+i*$H+$H/2)+"px";$0N.style.display='none';var $1r=document.createElement("div");$1r.style.height='10px';$1r.style.width='10px';if(this.cssOnly){$1r.className=this.$4a("_scroll_down");}else{$1r.style.backgroundRepeat="no-repeat";if(this.scrollDownUrl){$1r.style.backgroundImage="url('"+this.scrollDownUrl+"')";};$1r.className=this.$4a("scroll_down");};$0N.appendChild($1r);this.nav.scrollLayer.appendChild($0N);this.nav.scrollDown.push($0N);}};var cl=$0J.length;if(this.cssOnly||this.separateEventsTable){var $0W=this.nav.events;while($0W&&$0W.rows&&$0W.rows.length>0&&$1U){if(!this.fasterDispose)DayPilot.pu($0W.rows[0]);$0W.deleteRow(0);};var r=($1U)?$0W.insertRow(-1):$0W.rows[0];for(var j=0;j<cl;j++){var c=($1U)?r.insertCell(-1):r.cells[j];if($1U){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';var $1K=this.columnWidthSpec==='Fixed';if($1K){c.style.width=this.columnWidth+"px";};if(!$b.rtl){c.style.textAlign='left';};var $c=document.createElement("div");$c.style.marginRight=$b.columnMarginRight+"px";$c.style.position='relative';$c.style.height='1px';if(!this.cssOnly){$c.style.fontSize='1px';$c.style.lineHeight='1.2';};$c.style.marginTop='-1px';c.appendChild($c);}}};for(var i=0;i<$28;i++){var r=($1U)?$1S.insertRow(-1):$1S.rows[i];if($1U){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';r.style.WebkitUserSelect='none';};for(var j=0;j<cl;j++){var $1G=this.columnsBottom[j];var c=($1U)?r.insertCell(-1):r.cells[j];c.start=$1G.start.addTime(i*$0i).addHours(this.$4f());c.end=c.start.addTime($0i);c.resource=$1G.id;if(typeof this.onBeforeCellRender==='function'){if(!this.cellProperties){this.cellProperties=[];};var $e={};$e.resource=c.resource;$e.start=c.start;$e.end=c.end;var $29=j+"_"+i;$e.cssClass=null;$e.html=null;$e.backImage=null;$e.backRepeat=null;$e.backColor=null;$e.business=this.$5z(c.start,c.end);if(this.cellProperties[$29]){DayPilot.Util.copyProps(this.cellProperties[$29],$e,['cssClass','html','backImage','backRepeat','backColor','business']);};var $m={};$m.cell=$e;this.onBeforeCellRender($m);this.cellProperties[$29]=$e;};var $2a=$b.$5A(j,i);if($1U){c.root=this;c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign='top';c.style.height=$b.cellHeight+'px';c.style.overflow='hidden';c.setAttribute("unselectable","on");if(!this.cssOnly){var $2b=document.createElement("div");$2b.style.height=($b.cellHeight-1)+"px";$2b.style.width='100%';$2b.style.overflow='hidden';$2b.setAttribute("unselectable","on");c.appendChild($2b);var $c=document.createElement("div");$c.setAttribute("unselectable","on");$c.style.fontSize='1px';$c.style.height='0px';c.appendChild($c);if((!$b.rtl&&j!==cl-1)||$b.rtl){c.style.borderRight='1px solid '+$b.cellBorderColor;};var $2c=(c.end.getMinutes()+c.end.getSeconds()+c.end.getMilliseconds())>0;if($2c){if($b.hourHalfBorderColor!==''){$c.style.borderBottom='1px solid '+$b.hourHalfBorderColor;};$c.className=$b.$4a("hourhalfcellborder");}else{if($b.hourBorderColor!==''){$c.style.borderBottom='1px solid '+$b.hourBorderColor;};$c.className=$b.$4a("hourcellborder");}}else{var $2b=document.createElement("div");$2b.className=$b.$4a("_cell");$2b.style.position="relative";$2b.style.height=($b.cellHeight)+"px";$2b.style.overflow='hidden';$2b.setAttribute("unselectable","on");var $M=document.createElement("div");$M.className=$b.$4a("_cell_inner");$2b.appendChild($M);c.appendChild($2b);}};c.onmousedown=this.$4H;c.onmousemove=this.$4K;c.onmouseout=this.$4J;c.ontouchstart=this.$5d.onCellTouchStart;c.ontouchmove=this.$5d.onCellTouchMove;c.ontouchend=this.$5d.onCellTouchEnd;c.onmouseup=function(){return false;};c.onclick=function(){return false;};c.ondblclick=function(){DayPilotCalendar.firstMousePos=null;$b.$4I();clearTimeout(DayPilotCalendar.selectedTimeout);if($b.timeRangeDoubleClickHandling==='Disabled'){return;};var $0I=$b.getSelection();$b.$4D($0I.start,$0I.end,$0I.resource);};c.oncontextmenu=function(){if(!this.selected){$b.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$b.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$b.$4I();};if($b.contextMenuSelection){$b.contextMenuSelection.show($b.getSelection());};return false;};var $U=$b.$5B(j,i);$2b=c.firstChild;var $1K=this.columnWidthSpec==='Fixed';if($1K){$2b.style.width=this.columnWidth+"px";};if($U){if(this.cssOnly){$2b.firstChild.style.background=$U;}else{$2b.style.background=$U;}};var $2d=$2a?$2a.business:this.$5z(c.start,c.end);if($2d&&this.cssOnly){DayPilot.Util.addClass($2b,$b.$4a("_cell_business"));};if($2a){if($2a.html){$2b.firstChild.innerHTML=$2a.html;};if($2a.cssClass){if(this.cssOnly){DayPilot.Util.addClass($2b,$2a.cssClass);}else{DayPilot.Util.addClass(c,$b.$4a($2a.cssClass));}};if($2a.backImage){$2b.style.backgroundImage="url('"+$2a.backImage+"')";};if($2a.backRepeat){$2b.style.backgroundRepeat=$2a.backRepeat;}};if(!this.cssOnly){DayPilot.Util.addClass(c,$b.$4a("cellbackground"));}}};$1S.onmouseup=this.$4L;$1S.root=this;$b.nav.scrollable.style.display='';};this.$5z=function($07,end){if(this.businessBeginsHour<this.businessEndsHour){return !($07.getHours()<this.businessBeginsHour||$07.getHours()>=this.businessEndsHour||$07.getDayOfWeek()===6||$07.getDayOfWeek()===0);};if($07.getHours()>=this.businessBeginsHour){return true;};if($07.getHours()<this.businessEndsHour){return true;};return false;};this.$5n=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;};DayPilotCalendar.activeCalendar=this;var $2e=$b.nav.main;$b.coords=DayPilot.mo3($2e,ev);var $0E=DayPilot.mc(ev);var $1T=$b.crosshairType&&$b.crosshairType!=="Disabled";var $2f=$b.coords.x<$b.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||DayPilotCalendar.selecting||$2f){$b.$3L();}else if($1T){$b.$5C();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$b.$49(DayPilot.Global.resizing,false,$b.shadow);};var $2g=DayPilot.Global.resizing.event.calendar.cellHeight;var $I=0;var $2h=($0E.y-DayPilotCalendar.originalMouse.y);if(DayPilot.Global.resizing.dpBorder==='bottom'){var $2i=Math.floor(((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+$2h)+$2g/ 2)/ $2g)*$2g-DayPilotCalendar.originalTop+$I;if($2i<$2g)$2i=$2g;var $N=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;if(DayPilotCalendar.originalTop+$2i>$N){$2i=$N-DayPilotCalendar.originalTop;};DayPilotCalendar.resizingShadow.style.height=($2i)+'px';}else if(DayPilot.Global.resizing.dpBorder==='top'){var $2j=Math.floor(((DayPilotCalendar.originalTop+$2h-$I)+$2g/ 2)/ $2g)*$2g+$I;if($2j<$I){$2j=$I;};if($2j>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$2g){$2j=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$2g;};var $2i=DayPilotCalendar.originalHeight-($2j-DayPilotCalendar.originalTop);if($2i<$2g){$2i=$2g;}else{DayPilotCalendar.resizingShadow.style.top=$2j+'px';};DayPilotCalendar.resizingShadow.style.height=($2i)+'px';}}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){var $2k=3;if(DayPilot.distance($0E,DayPilotCalendar.originalMouse)>$2k){DayPilotCalendar.movingShadow=$b.$49(DayPilot.Global.moving,!$b.$3u.ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}else{return;}};if(!$b.coords){return;};var $2g=$b.cellHeight;var $I=0;var $0L=DayPilotCalendar.moveOffsetY;if(!$0L){$0L=$2g/2;};if(this.moveBy==="Top"){$0L=0;};var $2j=Math.floor((($b.coords.y-$0L-$I)+$2g/ 2)/ $2g)*$2g+$I;if($2j<$I){$2j=$I;};var $G=$b.nav.main;var $N=$G.clientHeight;var $K=parseInt(DayPilotCalendar.movingShadow.style.height);if($2j+$K>$N){$2j=$N-$K;};DayPilotCalendar.movingShadow.style.top=$2j+'px';var $H=$G.clientWidth/$G.rows[0].cells.length;var $q=Math.floor(($b.coords.x)/$H);if($q<0){$q=0;};if($b.rtl){$q=$b.columnsBottom.length-$q-1;};var $0W=$b.nav.events;if($q<$0W.rows[0].cells.length&&$q>=0&&DayPilotCalendar.movingShadow.column!==$q){DayPilotCalendar.movingShadow.column=$q;DayPilotCalendar.moveShadow($0W.rows[0].cells[$q]);}};if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;if(!DayPilotCalendar.movingShadow&&$b.coords){var $L=$b.$49(DayPilotCalendar.drag,false,DayPilotCalendar.drag.shadowType);if($L){DayPilotCalendar.movingShadow=$L;var $0D=new DayPilot.Date().getDatePart();var ev={'value':DayPilotCalendar.drag.id,'start':$0D,'end':$0D.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$b);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};ev.cancelBubble=true;}};this.temp={};this.temp.getPosition=function(){var $2l=$b.$5D.getCellCoords();if(!$2l){return null;};var $q=$b.columnsBottom[$2l.x];var $e={};$e.resource=$q.id;$e.start=new DayPilot.Date($q.start).addHours($b.$4f(true)).addMinutes($2l.y*$b.cellDuration);$e.end=$e.start.addMinutes($b.cellDuration);return $e;};this.$5D={};this.$5D.getCellCoords=function(){var $u={};$u.x=0;$u.y=0;if(!$b.coords){return null;};var $G=$b.nav.main;var $2m=$b.coords.x;var i=0;var $1G=this.col($G,i);while($1G&&$2m>$1G.left){i+=1;$1G=this.col($G,i);};$u.x=i-1;var $I=0;var $1M=Math.floor(($b.coords.y-$I)/$b.cellHeight);$u.y=$1M;if($u.x<0){return null;};return $u;};this.$5D.col=function($1S,x){var $u={};$u.left=0;$u.width=0;var $e=$1S.rows[0].cells[x];if(!$e){return null;};var t=DayPilot.abs($1S);var c=DayPilot.abs($e);$u.left=c.x-t.x;$u.width=$e.offsetWidth;return $u;};this.$5C=function(){this.$3L();if(!this.elements.crosshair){this.elements.crosshair=[];};var $2n=this.$5D.getCellCoords();if(!$2n){return;};var $q=$2n.x;var y=Math.floor($2n.y/(60/ $b.cellDuration)*(60/$b.timeHeaderCellDuration));if(y<0){return;};if(this.nav.hourTable){if(y>=this.nav.hourTable.rows.length){return;};var $2o=document.createElement("div");$2o.style.position="absolute";$2o.style.left="0px";$2o.style.right="0px";$2o.style.top="0px";$2o.style.bottom="0px";$2o.style.opacity=.5;$2o.style.backgroundColor=this.crosshairColor;$2o.style.opacity=this.crosshairOpacity/100;$2o.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2o);this.elements.crosshair.push($2o);};if(this.nav.header){var $2p=document.createElement("div");$2p.style.position="absolute";$2p.style.left="0px";$2p.style.right="0px";$2p.style.top="0px";$2p.style.bottom="0px";$2p.style.opacity=.5;$2p.style.backgroundColor=this.crosshairColor;$2p.style.opacity=this.crosshairOpacity/100;$2p.style.filter="alpha(opacity="+this.crosshairOpacity+")";var $1M=this.nav.header.rows[this.headerLevels-1];if($1M.cells[$q]){$1M.cells[$q].firstChild.appendChild($2p);this.elements.crosshair.push($2p);}};if(this.crosshairType==="Header"){return;};var $2q=this.nav.crosshair;var $I=0;var top=Math.floor((($b.coords.y-$I))/$b.cellHeight)*$b.cellHeight+$I;var $K=$b.cellHeight;var $2r=document.createElement("div");$2r.style.position="absolute";$2r.style.left="0px";$2r.style.right="0px";$2r.style.top=top+"px";$2r.style.height=$K+"px";$2r.style.backgroundColor=this.crosshairColor;$2r.style.opacity=this.crosshairOpacity/100;$2r.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2r.onmousedown=this.$5E;$2q.appendChild($2r);this.elements.crosshair.push($2r);var $1G=this.$5D.col(this.nav.main,$q);$K=this.nav.main.clientHeight;if($1G){var $2s=document.createElement("div");$2s.style.position="absolute";$2s.style.left=$1G.left+"px";$2s.style.width=$1G.width+"px";$2s.style.top="0px";$2s.style.height=$K+"px";$2s.style.backgroundColor=this.crosshairColor;$2s.style.opacity=this.crosshairOpacity/100;$2s.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2s.onmousedown=this.$5E;$2q.appendChild($2s);this.elements.crosshair.push($2s);}};this.$5E=function(ev){$b.$3L();var $2n=$b.$5D.getCellCoords();var $2t=0;var $e=$b.nav.main.rows[$2n.y+$2t].cells[$2n.x];$b.$4H.apply($e,[ev]);};this.$3L=function(){if(!this.elements.crosshair||this.elements.crosshair.length===0){return;};for(var i=0;i<this.elements.crosshair.length;i++){var e=this.elements.crosshair[i];if(e&&e.parentNode){e.parentNode.removeChild(e);}};this.elements.crosshair=[];};this.$3S=function(){if(!this.cellConfig){return;};var $2u=this.cellConfig;if($2u.vertical){for(var x=0;x<$2u.x;x++){var $2v=this.cellProperties[x+"_0"];for(var y=1;y<$2u.y;y++){this.cellProperties[x+"_"+y]=$2v;}}};if($2u.horizontal){for(var y=0;y<$2u.y;y++){var $2v=this.cellProperties["0_"+y];for(var x=1;x<$2u.x;x++){this.cellProperties[x+"_"+y]=$2v;}}};if($2u["default"]){var $2v=$2u["default"];for(var y=0;y<$2u.y;y++){for(var x=0;x<$2u.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$2v;}}}}};this.$5A=function(x,y){if(!this.cellProperties){return null;};return this.cellProperties[x+"_"+y];};this.$5F=function(x,y){var $29=x+'_'+y;if(this.cellProperties&&this.cellProperties[$29]){return this.cellProperties[$29].business;};return false;};this.$5B=function(x,y){var $29=x+'_'+y;if(this.cellProperties&&this.cellProperties[$29]){return this.cellProperties[$29].backColor;};return null;};this.$3G=function(){var $1S=this.nav.header;if($1S&&$1S.rows){for(var y=0;y<$1S.rows.length;y++){var r=$1S.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;}}};if(!this.fasterDispose)DayPilot.pu($1S);};this.$5G=function($18,$1U){var r=($1U)?this.nav.header.insertRow(-1):this.nav.header.rows[$18-1];var $0J=this.$56($18);var $2w=$0J.length;for(var i=0;i<$2w;i++){var $g=$0J[i];if($b.$48()){if(typeof $b.onBeforeHeaderRender==='function'){var $m={};$m.header={};DayPilot.Util.copyProps($g,$m.header,['id','start','name','html','backColor','toolTip','areas','children']);this.onBeforeHeaderRender($m);DayPilot.Util.copyProps($m.header,$g,['html','backColor','toolTip','areas']);}};var $2x=$g.getChildren?true:false;var $e=($1U)?r.insertCell(-1):r.cells[i];$e.data=$g;if($18===$b.headerLevels){}else{var $2y=1;if($2x){$2y=$g.getChildrenCount($b.headerLevels-$18+1);};$e.colSpan=$2y;};if($2x){$e.onclick=this.$4p;$e.onmousemove=this.$4q;$e.onmouseout=this.$4r;if($g.toolTip){$e.title=$g.toolTip;}};$e.style.overflow='hidden';$e.style.padding='0px';$e.style.border='0px none';$e.style.height=(this.headerHeight)+"px";if(!this.cssOnly){$e.style.borderLeft="0px none";if(i!==$2w-1){$e.style.borderRight="1px solid "+this.borderColor;}};var $c=($1U)?document.createElement("div"):$e.firstChild;var $1K=this.columnWidthSpec==='Fixed';if($1K){$c.style.width=this.columnWidth+"px";};if($1U){$c.setAttribute("unselectable","on");$c.style.MozUserSelect='none';$c.style.KhtmlUserSelect='none';$c.style.WebkitUserSelect='none';$c.style.position='relative';$c.style.height=this.headerHeight+"px";if(!this.cssOnly){$c.className=$b.$4a('colheader');$c.style.cursor='default';$c.style.fontFamily=this.headerFontFamily;$c.style.fontSize=this.headerFontSize;$c.style.color=this.headerFontColor;$c.style.backgroundColor=$g.backColor;$c.style.textAlign='center';var $1Y=document.createElement("div");$1Y.style.position='absolute';$1Y.style.left='0px';$1Y.style.right='0px';$1Y.style.top="0px";$1Y.style.bottom="0px";$1Y.style.padding="2px";$1Y.setAttribute("unselectable","on");if($18!==1){$1Y.style.borderTop='1px solid '+this.borderColor;};if(this.headerClickHandling!=="Disabled"){$1Y.style.cursor='pointer';};$c.appendChild($1Y);}else{$c.className=$b.$4a('_colheader');var $M=document.createElement("div");$M.className=$b.$4a('_colheader_inner');if($g.backColor){$M.style.background=$g.backColor;};$c.appendChild($M);};$e.appendChild($c);}else{$c.style.height=this.headerHeight+"px";};if($2x){$c.firstChild.innerHTML=$g.html;}}};this.$3V=function(){if(!this.showHeader){return;};var $1h=this.nav.header;var $1U=true;var $0J=this.$56($b.headerLevels,true);var $2w=$0J.length;if(this.headerCreated&&$1h&&$1h.rows&&$1h.rows.length>0){$1U=$1h.rows[$1h.rows.length-1].cells.length!==$2w;};if(this.headerCreated&&$b.$3u.ielt9&&$1U){DayPilot.de(this.nav.header);this.$5x();}while(this.headerCreated&&$1h&&$1h.rows&&$1h.rows.length>0&&$1U){if(!this.fasterDispose)DayPilot.pu($1h.rows[0]);$1h.deleteRow(0);};this.headerCreated=true;var $R=$b.cornerHTML||$b.cornerHtml;if(!$1U){var $24=$b.nav.corner;if($24){if(!this.cssOnly){if($b.cornerBackColor){$24.style.backgroundColor=$b.cornerBackColor;}else{$24.style.backgroundColor=$b.hourBackColor;}};if(!this.fasterDispose)DayPilot.pu($24.firstChild);$24.firstChild.innerHTML=$R?$R:'';}};for(var i=0;i<$b.headerLevels;i++){this.$5G(i+1,$1U);};if(!this.showAllDayEvents){return;};var r=($1U)?this.nav.header.insertRow(-1):this.nav.header.rows[$b.headerLevels];for(var i=0;i<$2w;i++){var $g=$0J[i];var $e=($1U)?r.insertCell(-1):r.cells[i];$e.data=$g;$e.style.padding='0px';$e.style.border='0px none';$e.style.overflow='hidden';if(!this.cssOnly){$e.style.lineHeight='1.2';};var $c=($1U)?document.createElement("div"):$e.firstChild;if($1U){$c.setAttribute("unselectable","on");$c.style.MozUserSelect='none';$c.style.KhtmlUserSelect='none';$c.style.WebkitUserSelect='none';$c.style.overflow='hidden';$c.style.position="relative";$c.style.height=this.allDayHeaderHeight+"px";if(!this.cssOnly){$c.className=this.$4a("alldayheader");$c.style.textAlign='center';$c.style.backgroundColor=$g.backColor;$c.style.cursor='default';var $1Y=document.createElement("div");$1Y.style.position="absolute";$1Y.style.left='0px';$1Y.style.right='0px';$1Y.style.top="0px";$1Y.style.bottom="0px";$1Y.setAttribute("unselectable","on");$1Y.style.borderTop='1px solid '+this.borderColor;$c.appendChild($1Y);if($b.rtl){if(i===$2w-1){$1Y.style.borderLeft="1px solid "+$g.backColor;}else{$1Y.style.borderLeft="1px solid "+this.borderColor;}}else{if(i!==$2w-1){$1Y.style.borderRight="1px solid "+this.borderColor;}}}else{$c.className=this.$4a("_alldayheader");var $M=document.createElement("div");$M.className=this.$4a("_alldayheader_inner");$c.appendChild($M);};$e.appendChild($c);};$c.style.height=this.allDayHeaderHeight+"px";}};this.$3z=function(){if(this.loadingLabelVisible){this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.top=(this.$4g()+5)+"px";this.nav.loading.style.display='';}};this.$3O=function(){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.nav.loading.style.display='none';};this.$5H=function(){var $2z=this.nav.scroll;if(!this.initScrollPos)return;$2z.root=this;$2z.onscroll=this.$4M;if($2z.scrollTop===0){$2z.scrollTop=this.initScrollPos-this.$4N();}else{this.$4M();}};this.onCallbackError=function($u,$v){alert("Error!\r\nResult: "+$u+"\r\nContext:"+$v);};this.scrollbarVisible=this.$5v;this.$42=function(){var $2A=this.$5v();var $2B=!!this.nav.cornerRight;if($2A!==$2B){if($2A){this.$5y();}else{if(this.nav.fullHeader&&this.nav.fullHeader.rows[0].cells.length===3){var c=this.nav.fullHeader.rows[0].cells[2];if(c.parentNode){c.parentNode.removeChild(c);}};this.nav.cornerRight=null;}};var d=this.nav.cornerRight;if(!d){return;};var w=DayPilot.sw(this.nav.scroll);if(!this.cssOnly){if(w>=3){d.style.width=(w-3)+'px';}}else{if(d){d.style.width=(w)+'px';}};return w;};this.$47=function($2C){if($2C){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$3D();var $2D=this.autoRefreshInterval;if(!$2D||$2D<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$b.$5I();},this.autoRefreshInterval*1000);};this.$3D=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$5I=function(){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving&&!DayPilotCalendar.drag&&!DayPilotCalendar.selecting){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$b.$5I();},this.autoRefreshInterval*1000);}};this.$3H=function(){if($b.heightSpec==="Parent100Pct"){$b.setHeight(parseInt($b.nav.top.clientHeight,10));};$b.$41();$b.$46();};this.$5J=function(){if(!DayPilotCalendar.globalHandlers){DayPilotCalendar.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.re(document,'mouseup',DayPilotCalendar.gMouseUp);};DayPilot.re(window,'resize',this.$3H);};this.$5c=function(ev){ev=ev||window.event;var $0A=ev.which||ev.button;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$0A===1){DayPilot.Global.resizing=this;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalHeight=this.offsetHeight;DayPilotCalendar.originalTop=this.offsetTop;$b.nav.top.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||$b.moveBy==='Full')&&$0A===1){DayPilot.Global.moving=this;var $2E=DayPilot.Global.moving.helper={};$2E.oldColumn=$b.columnsBottom[this.event.part.dayIndex].id;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalTop=this.offsetTop;var $0L=DayPilot.mo3(this,ev);if($0L){DayPilotCalendar.moveOffsetY=$0L.y;}else{DayPilotCalendar.moveOffsetY=0;};$b.nav.top.style.cursor=this.style.cursor;};return false;};this.$5K=function(i){var $1v=this.$3t.events;var $g=this.events.list[i];var $2F={};for(var name in $g){$2F[name]=$g[name];};if(typeof this.onBeforeEventRender==='function'){var $m={};$m.e=$2F;this.onBeforeEventRender($m);};$1v[i]=$2F;};this.$5d={};var $2G=$b.$5d;$2G.active=false;$2G.start=null;$2G.timeout=null;$2G.startcell=null;this.$5d.getCellCoords=function(x,y){var $2H=DayPilot.abs($b.nav.main);var $2I={x:x-$2H.x,y:y-$2H.y};var w=($b.nav.main.clientWidth/$b.columnsBottom.length);var $2l={x:Math.floor($2I.x/w),y:Math.floor($2I.y/$b.cellHeight),toString:function(){return "x: "+this.x+" y:"+this.y;}};return $2l;};this.$5d.startSelecting=function($2l){var $e=$b.nav.main.rows[$2l.y].cells[$2l.x];$2G.startcell=$2l;$b.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn($e);$b.selectedCells.push($e);DayPilotCalendar.firstSelected=$e;DayPilotCalendar.topSelectedCell=$e;DayPilotCalendar.bottomSelectedCell=$e;$b.$4I();};this.$5d.extendSelection=function($2l){var $e=$b.nav.main.rows[$2l.y].cells[$2l.x];$b.clearSelection();if($2l.y<$2G.startcell.y){$b.selectedCells=DayPilotCalendar.getCellsBelow($e);DayPilotCalendar.topSelectedCell=$b.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$b.selectedCells=DayPilotCalendar.getCellsAbove($e);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$b.selectedCells[0];};$b.$4I();};this.$5d.onCellTouchStart=function(ev){if($2G.active){return;};var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2l=$2G.getCellCoords(x,y);var $2J=500;$2G.timeout=window.setTimeout(function(){$2G.active=true;$2G.startSelecting($2l);},$2J);};this.$5d.onCellTouchMove=function(ev){if(!$2G.active){window.clearTimeout($2G.timeout);return;};ev.preventDefault();if(!ev.touches[0]){return;};var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2l=$2G.getCellCoords(x,y);$2G.extendSelection($2l);};this.$5d.onCellTouchEnd=function(ev){if(!$2G.active){window.clearTimeout($2G.timeout);return;};ev.preventDefault();$2G.startcell=null;var $0I=$b.getSelection();$0I.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$b.$4C($0I.start,$0I.end,$0I.resource);window.setTimeout(function(){$2G.active=false;},500);};this.$5d.startMoving=function($c,$2l){DayPilot.Global.moving=$c;var $2E=DayPilot.Global.moving.helper={};$2E.oldColumn=$b.columnsBottom[$c.event.part.dayIndex].id;DayPilotCalendar.originalMouse=$2l;DayPilotCalendar.originalTop=this.offsetTop;var $2H=DayPilot.abs($c);DayPilotCalendar.moveOffsetY=$2l.y-$2H.y;if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$b.$49(DayPilot.Global.moving,!$b.$3u.ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}};this.$5d.updateMoving=function($2l){var $2g=$b.cellHeight;var $I=0;var $0L=DayPilotCalendar.moveOffsetY;if(!$0L){$0L=$2g/2;};var $2j=Math.floor((($2l.y-$0L-$I)+$2g/ 2)/ $2g)*$2g+$I;if($2j<$I){$2j=$I;};var $G=$b.nav.main;var $N=$G.clientHeight;var $K=parseInt(DayPilotCalendar.movingShadow.style.height);if($2j+$K>$N){$2j=$N-$K;};DayPilotCalendar.movingShadow.style.top=$2j+'px';var $H=$G.clientWidth/$G.rows[0].cells.length;var $q=Math.floor($2l.x/$H);if($q<0){$q=0;};var $0W=$b.nav.events;if($q<$0W.rows[0].cells.length&&$q>=0&&DayPilotCalendar.movingShadow.column!==$q){DayPilotCalendar.movingShadow.column=$q;DayPilotCalendar.moveShadow($0W.rows[0].cells[$q]);}};this.$5d.onEventTouchStart=function(ev){if($2G.active){return;};$2G.preventEventTap=false;var $c=this;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2l={x:x,y:y,$c:this};var $2H=DayPilot.abs($b.nav.scrollable);$b.coords={x:x-$2H.x,y:y-$2H.y};var $2J=500;$2G.timeout=window.setTimeout(function(){$2G.active=true;$2G.startMoving($c,$2l);},$2J);};this.$5d.onMainTouchMove=function(ev){if($2G.timeout){window.clearTimeout($b.$5d.timeout);};if(DayPilot.Global.moving){ev.preventDefault();var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2H=DayPilot.abs($b.nav.main);var $2l={x:x-$2H.x,y:y-$2H.y};$2G.updateMoving($2l);return;};$2G.preventEventTap=true;};this.$5d.onMainTouchEnd=function(ev){if(DayPilot.Global.moving){$2G.active=false;ev.preventDefault();var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2K=DayPilot.Global.moving.event;var $0n=DayPilotCalendar.movingShadow.column;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;$2K.calendar.$4w($2K,$0n,top);}};this.$5d.onEventTouchMove=function(ev){$2G.preventEventTap=true;};this.$5d.onEventTouchEnd=function(ev){if(!$2G.active){if($2G.preventEventTap){return;};ev.preventDefault();$b.$4k(this,false);return;};$2G.active=false;if($2G.timeout){window.clearTimeout($b.$5d.timeout);return;}};this.$5a=function(ev){var $2L=5;var $2M=Math.max($b.durationBarWidth,10);var w=5;var $1h=($b.moveBy==='Top');if(typeof(DayPilotCalendar)==='undefined'){return;};var $0L=DayPilot.mo3(this,ev);if(!$0L){return;};var $c=this;if(!$c.active){if($b.cssOnly){DayPilot.Util.addClass($c,$b.$4a("_event_hover"));};DayPilot.Areas.showAreas($c,this.event);};if(DayPilot.Global.resizing||DayPilot.Global.moving){return;};var $2N=this.isFirst;var $2O=this.isLast;if($b.moveBy==="Disabled"||$b.moveBy==="None"){return;};if(!$1h&&$0L.x<=$2M&&this.event.client.moveEnabled()){if($2N){this.style.cursor='move';}else{this.style.cursor='not-allowed';}}else if(!$1h&&$0L.y<=$2L&&this.event.client.resizeEnabled()){if($2N){this.style.cursor="n-resize";this.dpBorder='top';}else{this.style.cursor='not-allowed';}}else if($1h&&$0L.y<=$2M&&this.event.client.moveEnabled()){this.style.cursor="move";}else if(this.offsetHeight-$0L.y<=$2L&&this.event.client.resizeEnabled()){if($2O){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(this.event.client.clickEnabled())this.style.cursor='pointer';else this.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling!=='Disabled'){if(this.style.cursor==='default'||this.style.cursor==='pointer'){var $2P=this.$5L&&$0L.x===this.$5L.x&&$0L.y===this.$5L.y;if(!$2P){this.$5L=$0L;$b.bubble.showEvent(this.event);}}else{}}};this.$5b=function(ev){if($b.cssOnly){DayPilot.Util.removeClass(this,$b.$4a("_event_hover"));};if($b.bubble){$b.bubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this,ev);};this.$3T=function($0W){if(!$0W){$0W=this.events.list;}else{this.events.list=$0W;};if(!$0W){return;};this.allDay={};this.allDay.events=[];this.allDay.lines=[];var length=$0W.length;var $J=this.$4c(true);this.$3t.pixels={};var $2Q=[];this.scrollLabels=[];this.minStart=10000;this.maxEnd=0;this.startDate=new DayPilot.Date(this.startDate);for(var i=0;i<length;i++){var e=$0W[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};if(typeof this.onBeforeEventRender==='function'){for(var i=0;i<length;i++){this.$5K(i);}};var $2R=this.viewType==='Resources';var $2S=this.startDate;var $2T=this.startDate.addDays(this.days);for(var i=0;i<this.columnsBottom.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.scrollLabels.push(scroll);var $1G=this.columnsBottom[i];$1G.events=[];$1G.lines=[];$1G.blocks=[];var $2U=new DayPilot.Date($1G.start).addHours(this.$4f(true));var $2V=$2U.getTime();var $2W=$2U.addTime($J);var $2X=$2W.getTime();if($2R){$2S=$2U.getDatePart();$2T=$2W.getDatePart();};for(var j=0;j<length;j++){if($2Q[j]){continue;};var e=$0W[j];var $07=e.start;var end=e.end;var $2Y=$07.getTime();var $2Z=end.getTime();if($2Z<$2Y){continue;};if(e.allday){var $30=false;if($b.allDayEnd==='Date'){$30=!($2Z<$2S.getTime()||$2Y>=$2T.getTime());}else{$30=!($2Z<=$2S.getTime()||$2Y>=$2T.getTime());};if($2R){$30=$30&&(e.resource===$1G.id||$1G.id==="*");};if($30){var ep=new DayPilot.Event(e,this);ep.part.start=$2S.getTime()<$2Y?$07:$2S;ep.part.end=$2T.getTime()>$2Z?end:$2T;ep.part.colStart=DayPilot.Date.daysDiff(this.startDate.d,ep.part.start.d);ep.part.colWidth=DayPilot.Date.daysSpan(ep.part.start.d,ep.part.end.d)+1;if($2R){ep.part.colStart=i;ep.part.colWidth=1;};this.allDay.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$3t.events[j];};$2Q[j]=true;if($2R&&(ep.part.start.getTime()!==$2Y||ep.part.end.getTime()!==$2Z)){$2Q[j]=false;}};continue;};var $30=false;if($2R){$30=($1G.id===e.resource)&&!($2Z<=$2V||$2Y>=$2X);}else{$30=!($2Z<=$2V||$2Y>=$2X)||($2Z===$2Y&&$2Y===$2V);};if($30){var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=i;ep.part.start=$2V<$2Y?$07:$2U;ep.part.end=$2X>$2Z?end:$2W;var $31=this.$5M(ep.part.start,$1G.start);var $32=this.$5M(ep.part.end,$1G.start);var top=$31.top;var $13=$32.top;if(top===$13&&($31.cut||$32.cut)){continue;};ep.part.box=$0c.useBox($2Z-$2Y);var $I=0;if(ep.part.box){var $33=$32.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+$I;ep.part.height=Math.max(Math.ceil($33/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1);ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($13-top-2,1);}else{ep.part.top=top+$I;ep.part.height=Math.max($13-top,0);ep.part.barTop=0;ep.part.barHeight=Math.max($13-top-2,1);};var $07=ep.part.top;var end=ep.part.top+ep.part.height;if($07>scroll.maxStart){scroll.maxStart=$07;};if(end<scroll.minEnd){scroll.minEnd=end;};if($07<this.minStart){this.minStart=$07;};if(end>this.maxEnd){this.maxEnd=end;};$1G.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$3t.events[j];};if(ep.part.start.getTime()===$2Y&&ep.part.end.getTime()===$2Z){$2Q[j]=true;}}}};for(var i=0;i<this.columnsBottom.length;i++){var $1G=this.columnsBottom[i];$1G.events.sort(this.$5N);for(var j=0;j<$1G.events.length;j++){var e=$1G.events[j];$1G.putIntoBlock(e);};for(var j=0;j<$1G.blocks.length;j++){var $1c=$1G.blocks[j];$1c.events.sort(this.$5O);for(var k=0;k<$1c.events.length;k++){var e=$1c.events[k];$1c.putIntoLine(e);}}};this.allDay.events.sort(this.$5O);this.allDay.putIntoLine=function(ep){var $1e=this;for(var i=0;i<this.lines.length;i++){var $1f=this.lines[i];if($1f.isFree(ep.part.colStart,ep.part.colWidth)){$1f.push(ep);return i;}};var $1f=[];$1f.isFree=function($07,$1d){var end=$07+$1d-1;var $N=this.length;for(var i=0;i<$N;i++){var e=this[i];if(!(end<e.part.colStart||$07>e.part.colStart+e.part.colWidth-1)){return false;}};return true;};$1f.push(ep);this.lines.push($1f);return this.lines.length-1;};for(var i=0;i<this.allDay.events.length;i++){var e=this.allDay.events[i];this.allDay.putIntoLine(e);};var $34=Math.max(this.allDay.lines.length,1);this.allDayHeaderHeight=$34*(this.allDayEventHeight+2)+2;};this.$5N=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $35=a.start().ticks-b.start().ticks;if($35!==0){return $35;};var $36=b.end().ticks-a.end().ticks;return $36;};this.$5O=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $b.$5N(a,b);};var $u=0;var i=0;while($u===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$u=0;}else{$u=$b.$5P(a.data.sort[i],b.data.sort[i],$b.sortDirections[i]);};i++;};return $u;};this.$5P=function(a,b,$37){var $38=($37!=="desc");var $39=$38?-1:1;var $3a=-$39;if(a===null&&b===null){return 0;};if(b===null){return $3a;};if(a===null){return $39;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$39:$3a;};this.$5Q=function(e){for(var i=0;i<$b.elements.events.length;i++){var $c=$b.elements.events[i];if($c.event===e||$c.event.data===e.data){return $c;}};return null;};this.events.find=function(id){var $2w=$b.events.list.length;for(var i=0;i<$2w;i++){if($b.events.list[i].id===id){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.findRecurrent=function($3b,$08){var $2w=$b.events.list.length;for(var i=0;i<$2w;i++){if($b.events.list[i].recurrentMasterId===$3b&&$b.events.list[i].start.getTime()===$08.getTime()){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.update=function(e,$g){var $0b={};$0b.oldEvent=new DayPilot.Event(e.copy(),$b);$0b.newEvent=new DayPilot.Event(e.temp(),$b);var $f=new DayPilot.Action($b,"EventUpdate",$0b,$g);e.commit();$b.update();return $f;};this.events.remove=function(e,$g){var $0b={};$0b.e=new DayPilot.Event(e.data,$b);var $f=new DayPilot.Action($b,"EventRemove",$0b,$g);var $29=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($29,1);$b.update();return $f;};this.events.add=function(e,$g){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);var $0b={};$0b.e=e;var $f=new DayPilot.Action($b,"EventAdd",$0b,$g);$b.update();return $f;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($f){if(!$f){return;};if($f.isAction){$b.queue.list.push($f);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($g){var $0b={};$0b.actions=$b.queue.list;$b.$3y('Notify',$0b,$g,"Notify");$b.queue.list=[];};this.queue.clear=function(){$b.queue.list=[];};this.queue.pop=function(){return $b.queue.list.pop();};this.update=function(){if(!this.columnsBottom){return;};var $3c=true;if($3c){$b.$3E();this.$5R();this.$3R();this.$3T();$b.$3V();$b.$3W();$b.$3X();$b.$3Y();$b.$3v();$b.$3Z();$b.$4I();$b.$40();$b.$41();$b.$42();this.$44();this.$45();$b.$46();}else{$b.$3E();$b.$3T();$b.$3U();$b.$44();$b.$45();$b.$46();}};this.show=function(){$b.nav.top.style.display='';$b.$42();};this.hide=function(){$b.nav.top.style.display='none';};this.$5S=function($3d,$3e){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($3d);if(typeof console!=='undefined'){console.log($3d);}};this.$5M=function($0s,$07){if(!$07)$07=this.startDate;var $2Y=$07.getTime();var $3f=$0s.getTime();var $1v=this.$3t.pixels[$3f+"_"+$2Y];if($1v){return $1v;};$2Y=$07.addHours(this.$4f(true)).getTime();var $3g=this.cellDuration*60*1000;var $3h=$3f-$2Y;var $3i=$3h%$3g;var $3j=$3h-$3i;var $3k=$3j+$3g;if($3i===0){$3k=$3j;};var $u={};$u.cut=false;$u.top=this.$5T($3h);$u.boxTop=this.$5T($3j);$u.boxBottom=this.$5T($3k);this.$3t.pixels[$3f+"_"+$2Y]=$u;return $u;};this.$5T=function($3f){return Math.floor((this.cellHeight*$3f)/(1000*60*this.cellDuration));};this.$5R=function(){this.startDate=new DayPilot.Date(this.startDate);this.allDayHeaderHeight=this.allDayEventHeight+4;};this.$3U=function(){if(this.nav.corner){this.nav.corner.style.height=this.$4g()+"px";};if(this.nav.cornerRight){this.nav.cornerRight.style.height=this.$4g()+"px";};if(this.nav.mid){this.nav.mid.style.height=this.$4g()+"px";};if(this.showAllDayEvents&&this.nav.header){var $1M=this.nav.header.rows[this.nav.header.rows.length-1];for(var i=0;i<$1M.cells.length;i++){var $q=$1M.cells[i];$q.firstChild.style.height=this.allDayHeaderHeight+"px";}};if(this.nav.upperRight){this.nav.upperRight.style.height=this.$4g()+"px";};this.nav.scroll.style.top=this.$4g()+"px";this.nav.top.style.height=this.$5g()+"px";};this.$41=function(){var sh=this.$5h();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";this.scrollHeight=$b.nav.scroll.clientHeight;if(this.nav.bottomLeft){this.nav.bottomLeft.style.height=sh+"px";};if(this.nav.bottomRight){this.nav.bottomRight.style.height=sh+"px";}}};this.setHeight=function($1u){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};if(this.cssOnly){this.height=$1u-(this.$4g());}else{this.height=$1u-(this.$4g()+3);};this.$41();};this.$58={};var $0c=this.$58;$0c.locale=function(){return DayPilot.Locale.find($b.locale);};$0c.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return this.locale().timeFormat;};$0c.useBox=function($3l){if($b.useEventBoxes==='Always'){return true;};if($b.useEventBoxes==='Never'){return false;};return $3l<$b.cellDuration*60*1000;};$0c.notifyType=function(){var $k;if($b.notifyCommit==='Immediate'){$k="Notify";}else if($b.notifyCommit==='Queue'){$k="Queue";}else{throw "Invalid notifyCommit value: "+$b.notifyCommit;};return $k;};this.$5U=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $b.events.list==='undefined')||(!$b.events.list);}else{return false;}};this.$5V=function(){this.$5R();this.$3R();this.$5i();this.$3V();this.$3W();this.$3Z();this.$42();this.$5H();this.$5J();this.$3I();DayPilotCalendar.register(this);this.$3H();this.$47();this.$3y('Init');};this.init=function(){this.nav.top=document.getElementById(id);if(this.nav.top.dp){return;};var $3m=this.$5U();if($3m){this.$5V();this.initialized=true;return;};this.$5R();this.$3R();this.$3S();if(this.events.list){this.$3T();};this.$5i();this.$3V();this.$3W();this.$3Z();this.$43();this.$42();this.$5H();this.$5J();this.$3I();DayPilotCalendar.register(this);if(this.events.list){this.$3U();this.$44();this.$45();};this.$3H();if(this.messageHTML){this.message(this.messageHTML);};this.$3P(null,false);this.$47();this.initialized=true;};this.internal={};this.internal.invokeEvent=this.$4t;this.internal.eventMenuClick=this.$4A;this.internal.timeRangeMenuClick=this.$4B;this.internal.bubbleCallBack=this.$4y;this.internal.findEventDiv=this.$5Q;this.internal.eventDeleteDispatch=this.$4s;this.Init=this.init;};var DayPilotCalendar={};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilotCalendar.selecting=false;DayPilotCalendar.column=null;DayPilotCalendar.firstSelected=null;DayPilotCalendar.firstMousePos=null;DayPilotCalendar.originalMouse=null;DayPilotCalendar.originalHeight=null;DayPilotCalendar.originalTop=null;DayPilotCalendar.globalHandlers=false;DayPilotCalendar.editing=false;DayPilotCalendar.originalText=null;DayPilotCalendar.register=function($b){if(!DayPilotCalendar.registered){DayPilotCalendar.registered=[];};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){if(r[i]===$b){return;}};r.push($b);};DayPilotCalendar.unregister=function($b){var a=DayPilotCalendar.registered;if(a){var i=DayPilot.indexOf(a,$b);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilotCalendar.globalHandlers=false;}};DayPilotCalendar.getCellsAbove=function($e){var $s=[];var c=DayPilotCalendar.getColumn($e);var tr=$e.parentNode;var $3n=null;while(tr&&$3n!==DayPilotCalendar.firstSelected){$3n=tr.getElementsByTagName("td")[c];$s.push($3n);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $s;};DayPilotCalendar.getCellsBelow=function($e){var $s=[];var c=DayPilotCalendar.getColumn($e);var tr=$e.parentNode;var $3n=null;while(tr&&$3n!==DayPilotCalendar.firstSelected){$3n=tr.getElementsByTagName("td")[c];$s.push($3n);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $s;};DayPilotCalendar.getColumn=function($e){var i=0;while($e.previousSibling){$e=$e.previousSibling;if($e.tagName==="TD"){i++;}};return i;};DayPilotCalendar.getShadowColumn=function($E){if(!$E){return null;};var $0S=$E.parentNode;while($0S&&$0S.tagName!=="TD"){$0S=$0S.parentNode;};return $0S;};DayPilotCalendar.gMouseMove=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $0E=DayPilot.mc(ev);if(DayPilotCalendar.drag){document.body.style.cursor='move';if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $L=DayPilotCalendar.gShadow;$L.style.left=$0E.x+'px';$L.style.top=$0E.y+'px';DayPilot.Global.moving=null;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};for(var i=0;i<DayPilotCalendar.registered.length;i++){if(DayPilotCalendar.registered[i].$3K){DayPilotCalendar.registered[i].$3K();}}};DayPilotCalendar.gUnload=function(ev){if(!DayPilotCalendar.registered){return;};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){var c=r[i];DayPilotCalendar.unregister(c);}};DayPilotCalendar.gMouseUp=function(e){var e=e||window.event;if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;};e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilot.Global.resizing.style.cursor='default';DayPilot.Global.resizing.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing=null;return;};var $2K=DayPilot.Global.resizing.event;var $0f=DayPilot.Global.resizing.dpBorder;var $K=DayPilotCalendar.resizingShadow.clientHeight;var top=DayPilotCalendar.resizingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;DayPilot.Global.resizing.style.cursor='default';$2K.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing.onclick=null;DayPilot.Global.resizing=null;if($2K.calendar.overlap){return;};$2K.calendar.$4u($2K,$K,top,$0f);}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;return;};var $3o=DayPilot.Global.moving.helper.oldColumn;var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2K=DayPilot.Global.moving.event;var $0n=DayPilotCalendar.movingShadow.column;var $0o=DayPilotCalendar.drag;DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if($0o){if(!$2K.calendar.todo){$2K.calendar.todo={};};$2K.calendar.todo.del=$0o.element;};if($2K.calendar.overlap){return;};var ev=e||window.event;$2K.calendar.$4w($2K,$0n,top,ev,$0o);};if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor='';};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};DayPilotCalendar.moveOffsetY=null;};DayPilotCalendar.dragStart=function(element,$J,id,$1Y,$k){DayPilot.us(element);var $0o=DayPilotCalendar.drag={};$0o.element=element;$0o.duration=$J;$0o.text=$1Y;$0o.id=id;$0o.shadowType=$k?$k:'Fill';return false;};DayPilotCalendar.deleteShadow=function($L){if(!$L){return;};if(!$L.parentNode){return;};$L.parentNode.removeChild($L);};DayPilotCalendar.createGShadow=function($k){var $L=document.createElement('div');$L.setAttribute('unselectable','on');$L.style.position='absolute';$L.style.width='100px';$L.style.height='20px';$L.style.border='2px dotted #666666';$L.style.zIndex=101;if($k==='Fill'){$L.style.backgroundColor="#aaaaaa";$L.style.opacity=0.5;$L.style.filter="alpha(opacity=50)";$L.style.border='2px solid #aaaaaa';};document.body.appendChild($L);return $L;};DayPilotCalendar.moveShadow=function($q){var $L=DayPilotCalendar.movingShadow;$L.parentNode.removeChild($L);$q.firstChild.appendChild($L);$L.style.left='0px';$L.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth)+'px';};DayPilotCalendar.Column=function($3p,name,$0s){this.value=$3p;this.id=$3p;this.name=name;this.date=new DayPilot.Date($0s);};DayPilot.CalendarVisible.dragStart=DayPilotCalendar.dragStart;DayPilot.CalendarVisible.Calendar=DayPilotCalendar.Calendar;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($3q){var $0C=null;var j=this.each(function(){if(this.daypilot){return;};var $3r=new DayPilot.Calendar(this.id);this.daypilot=$3r;for(var name in $3q){$3r[name]=$3q[name];};$3r.Init();if(!$0C){$0C=$3r;}});if(this.length===1){return $0C;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.$!=='undefined'){return;};DayPilot.$=function(id){return document.getElementById(id);};DayPilot.mo=function(t,ev){ev=ev||window.event;if(ev.layerX){var $a={x:ev.layerX,y:ev.layerY};if(!t){return $a;};return $a;};if(ev.offsetX){return{x:ev.offsetX,y:ev.offsetY};};return null;};DayPilot.isKhtml=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1);DayPilot.isIE=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);DayPilot.isIE7=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 7")!==-1);DayPilot.isIEQuirks=DayPilot.isIE&&(document.compatMode&&document.compatMode==="BackCompat");DayPilot.browser={};DayPilot.browser.ie9=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1);DayPilot.browser.ielt9=(function(){var $b=document.createElement("div");$b.innerHTML="<!--[if lt IE 9]><i></i><![endif]-->";var $c=($b.getElementsByTagName("i").length===1);return $c;})();DayPilot.mo2=function($d,ev){ev=ev||window.event;if(typeof(ev.offsetX)!=='undefined'){var $a={x:ev.offsetX+1,y:ev.offsetY+1};if(!$d){return $a;};var $e=ev.srcElement;while($e&&$e!==$d){if($e.tagName!=='SPAN'){$a.x+=$e.offsetLeft;if($e.offsetTop>0){$a.y+=$e.offsetTop-$e.scrollTop;}};$e=$e.offsetParent;};if($e){return $a;};return null;};if(typeof(ev.layerX)!=='undefined'){var $a={x:ev.layerX,y:ev.layerY,$f:ev.target};if(!$d){return $a;};var $e=ev.target;while($e&&$e.style.position!=='absolute'&&$e.style.position!=='relative'){$e=$e.parentNode;if(DayPilot.isKhtml){$a.y+=$e.scrollTop;}}while($e&&$e!==$d){$a.x+=$e.offsetLeft;$a.y+=$e.offsetTop-$e.scrollTop;$e=$e.offsetParent;};if($e){return $a;};return null;};return null;};DayPilot.mo3=function($d,ev){ev=ev||window.event;var $g=DayPilot.page(ev);if($g){var $h=DayPilot.abs($d);return{x:$g.x-$h.x,y:$g.y-$h.y};};return DayPilot.mo2($d,ev);};DayPilot.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};DayPilot.complete=function(f){if(document.readyState==="complete"){f();return;};if(!DayPilot.complete.list){DayPilot.complete.list=[];DayPilot.re(document,"readystatechange",function(){if(document.readyState==="complete"){for(var i=0;i<DayPilot.complete.list.length;i++){var d=DayPilot.complete.list[i];d();};DayPilot.complete.list=[];}});};DayPilot.complete.list.push(f);};DayPilot.page=function(ev){ev=ev||window.event;if(typeof ev.pageX!=='undefined'){return{x:ev.pageX,y:ev.pageY};};if(typeof ev.clientX!=='undefined'){return{x:ev.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:ev.clientY+document.body.scrollTop+document.documentElement.scrollTop};};return null;};DayPilot.abs=function(element,$i){if(!element){return null;};var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};if(element.getBoundingClientRect){var b=null;try{b=element.getBoundingClientRect();}catch(e){b={top:element.offsetTop,$j:element.offsetLeft};};r.x=b.left;r.y=b.top;var d=DayPilot.doc();r.x-=d.clientLeft||0;r.y-=d.clientTop||0;var $k=DayPilot.pageOffset();r.x+=$k.x;r.y+=$k.y;if($i){var $l=DayPilot.absOffsetBased(element,false);var $i=DayPilot.absOffsetBased(element,true);r.x+=$i.x-$l.x;r.y+=$i.y-$l.y;r.w=$i.w;r.h=$i.h;};return r;}else{return DayPilot.absOffsetBased(element,$i);}};DayPilot.isArray=function(o){return Object.prototype.toString.call(o)==='[object Array]';};DayPilot.absOffsetBased=function(element,$i){var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};while(DayPilot.op(element)){element=DayPilot.op(element);r.x-=element.scrollLeft;r.y-=element.scrollTop;if($i){if(r.x<0){r.w+=r.x;r.x=0;};if(r.y<0){r.h+=r.y;r.y=0;};if(element.scrollLeft>0&&r.x+r.w>element.clientWidth){r.w-=r.x+r.w-element.clientWidth;};if(element.scrollTop&&r.y+r.h>element.clientHeight){r.h-=r.y+r.h-element.clientHeight;}};r.x+=element.offsetLeft;r.y+=element.offsetTop;};var $k=DayPilot.pageOffset();r.x+=$k.x;r.y+=$k.y;return r;};DayPilot.wd=function(){var $m=DayPilot.isIEQuirks;var $n=document.documentElement.clientHeight;if($m){$n=document.body.clientHeight;};var $o=document.documentElement.clientWidth;if($m){$o=document.body.clientWidth;};var $p=(document.documentElement&&document.documentElement.scrollTop)||document.body.scrollTop;var $q=(document.documentElement&&document.documentElement.scrollLeft)||document.body.scrollLeft;var $r={};$r.width=$o;$r.height=$n;$r.scrollTop=$p;$r.scrollLeft=$q;return $r;};DayPilot.op=function(element){try{return element.offsetParent;}catch(e){return document.body;}};DayPilot.distance=function($s,$t){return Math.sqrt(Math.pow($s.x-$t.x,2)+Math.pow($s.y-$t.y,2));};DayPilot.doc=function(){var de=document.documentElement;return(de&&de.clientHeight)?de:document.body;};DayPilot.pageOffset=function(){if(typeof pageXOffset!=='undefined'){return{x:pageXOffset,y:pageYOffset};};var d=DayPilot.doc();return{x:d.scrollLeft,y:d.scrollTop};};DayPilot.ac=function(e,$u){if(!$u){var $u=[];};for(var i=0;e.children&&i<e.children.length;i++){$u.push(e.children[i]);DayPilot.ac(e.children[i],$u);};return $u;};DayPilot.indexOf=function($v,$w){if(!$v||!$v.length){return -1;};for(var i=0;i<$v.length;i++){if($v[i]===$w){return i;}};return -1;};DayPilot.rfa=function($v,$w){var i=DayPilot.indexOf($v,$w);if(i===-1){return;};$v.splice(i,1);};DayPilot.debug=function($x,$y){if(!DayPilot.debugMessages){DayPilot.debugMessages=[];};DayPilot.debugMessages.push($x);if(typeof console!=='undefined'){console.log($x);}};DayPilot.debug.show=function(){alert("Log:\n"+DayPilot.debugMessages.join("\n"));};DayPilot.debug.clear=function(){DayPilot.debugMessages=[];};DayPilot.re=function(el,ev,$z){if(el.addEventListener){el.addEventListener(ev,$z,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$z);}};DayPilot.ue=function(el,ev,$z){if(el.removeEventListener){el.removeEventListener(ev,$z,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$z);}};DayPilot.tr=function($A){if(!$A)return '';return $A.replace(/^\s+|\s+$/g,"");};DayPilot.ds=function(d){return DayPilot.Date.toStringSortable(d);};DayPilot.gs=function(el,$B){var x=el;if(x.currentStyle)var y=x.currentStyle[$B];else if(window.getComputedStyle)var y=document.defaultView.getComputedStyle(x,null).getPropertyValue($B);if(typeof(y)==='undefined')y='';return y;};DayPilot.ea=function(a){var $C="";for(var i=0;i<a.length;i++){if(a[i]||typeof(a[i])==='number'){if(a[i].isDayPilotDate){a[i]=a[i].toStringSortable();}else if(a[i].getFullYear){a[i]=DayPilot.ds(a[i]);};$C+=encodeURIComponent(a[i]);};if(i+1<a.length){$C+='&';}};return $C;};DayPilot.he=function(str){var $r=str.replace(/&/g,"&amp;");$r=$r.replace(/</g,"&lt;");$r=$r.replace(/>/g,"&gt;");$r=$r.replace(/"/g,"&quot;");return $r;};DayPilot.ci=function($D){var i=$D.cellIndex;if(i&&i>0)return i;var tr=$D.parentNode;var $E=tr.cells.length;for(i=0;i<$E;i++){if(tr.cells[i]===$D)return i;};return null;};DayPilot.us=function(element){if(element){element.setAttribute("unselectable","on");element.style.MozUserSelect='none';for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType===1){DayPilot.us(element.childNodes[i]);}}}};DayPilot.pu=function(d){var a=d.attributes,i,l,n;if(a){l=a.length;for(i=0;i<l;i+=1){if(!a[i]){continue;};n=a[i].name;if(typeof d[n]==='function'){d[n]=null;}}};a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){var $u=DayPilot.pu(d.childNodes[i]);}}};DayPilot.puc=function(d){var a=d.childNodes,i,l;if(a){var l=a.length;for(i=0;i<l;i+=1){DayPilot.pu(d.childNodes[i]);}}};DayPilot.de=function(e){if(!e){return;};if(!e.parentNode){return;};e.parentNode.removeChild(e);};DayPilot.gr=function($D){var i=0;var tr=$D.parentNode;while(tr.previousSibling){tr=tr.previousSibling;if(tr.tagName==="TR"){i++;}};return i;};DayPilot.fade=function(element,$F,end){var $G=50;var $i=element.style.display!=='none';var $H=$F>0;var $I=$F<0;if($F===0){return;};if($H&&!$i){element.target=parseFloat(element.style.opacity);element.opacity=0;element.style.opacity=0;element.style.filter="alpha(opacity=0)";element.style.display='';}else if($I&&!element.target){element.target=element.style.opacity;}else{var $e=element.opacity;var $J=Math.floor(10*($e+$F))/10;if($H&&$J>element.target){$J=element.target;};if($I&&$J<0){$J=0;};var ie=$J*100;element.opacity=$J;element.style.opacity=$J;element.style.filter="alpha(opacity="+ie+")";};if(($H&&(element.opacity>=element.target||element.opacity>=1))||($I&&element.opacity<=0)){element.target=null;if($I){element.style.opacity=element.target;element.opacity=element.target;var $K=element.target?"alpha(opacity="+(element.target*100)+")":null;element.style.filter=$K;element.style.display='none';};if(end&&typeof end==='function'){end();}}else{this.messageTimeout=setTimeout(function(){DayPilot.fade(element,$F,end);},$G);}};DayPilot.sw=function(element){if(!element){return 0;};return element.offsetWidth-element.clientWidth;};DayPilot.sh=function(element){if(!element){return 0;};return element.offsetHeight-element.clientHeight;};DayPilot.guid=function(){var S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);};return(""+S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());};DayPilot.ua=function($v){var u={},a=[];for(var i=0,l=$v.length;i<l;++i){if($v[i]in u)continue;a.push($v[i]);u[$v[i]]=1;};return a;};(function(){DayPilot.pop=wave;function wave($b,$L){var $d={w:$b.offsetWidth,h:$b.offsetHeight,x:parseInt($b.style.left),y:parseInt($b.style.top)};$d.height=$b.style.height;$d.width=$b.style.width;$d.top=$b.style.top;$d.left=$b.style.left;$d.toString=function(){return "w: "+this.w+" h:"+this.h};var $M={};$M.finished=null;$M.vertical='center';$M.horizontal='center';if($L){for(var name in $L){$M[name]=$L[name];}};$b.style.visibility='hidden';$b.style.display='';var $N=$L.animation||"fast";var $O=createPlan($N);$O.div=$b;$O.i=0;$O.target=$d;$O.config=$M;doStep($O);};function createPlan($P){var $Q=function(){var $O=[];$O.time=10;var $R;var $F=0.08;$R=0.1;for(var i=$R;i<1.2;i+=$F){$O.push(i);$R=i;};$F=0.03;for(var i=$R;i>0.8;i-=$F){$O.push(i);$R=i;};for(var i=$R;i<=1;i+=$F){$O.push(i);$R=i;};return $O;};var $S=function(){var $O=[];$O.time=15;var $R;var $F=0.04;$R=0.1;for(var i=$R;i<=1;i+=$F){$O.push(i);$R=i;};return $O;};var $T=function(){var $O=[];$O.time=9;var $R;var $F=0.04;$R=0.1;for(var i=$R;i<=1;i+=$F){$O.push(i);$R=i;};return $O;};var $U={"fast":$T,"slow":$S,"jump":$Q};if(!$U[$P]){$P="fast";};return $U[$P]();};function doStep($O){var $b=$O.div;var $V=$O[$O.i];var $W=$V*$O.target.h;var top;switch($O.config.vertical){case "center":top=$O.target.y-($W-$O.target.h)/2;break;case "top":top=$O.target.y;break;case "bottom":top=$O.target.y-($W-$O.target.h);break;default:throw "Unexpected 'vertical' value.";};var $X=$V*$O.target.w;var $j;switch($O.config.horizontal){case "left":$j=$O.target.x;break;case "center":$j=$O.target.x-($X-$O.target.w)/2;break;case "right":$j=$O.target.x-($X-$O.target.w);break;default:throw "Unexpected 'horizontal' value.";};var wd=DayPilot.wd();var $Y=(wd.height+wd.scrollTop)-(top+$W);if($Y<0){top+=$Y;};var $Z=(wd.width)-($j+$X);if($Z<0){$j+=$Z;};$b.style.height=$W+"px";$b.style.top=top+"px";$b.style.width=$X+"px";$b.style.left=$j+"px";$b.style.visibility='visible';$O.i++;if($O.i<$O.length-1){setTimeout((function($O){return function(){doStep($O);};})($O),$O.time);}else{$b.style.width=$O.target.width;$b.style.height=$O.target.height;$b.style.top=$O.target.top;$b.style.left=$O.target.left;if(typeof $O.config.finished==='function'){$O.config.finished();}}}})();DayPilot.Util={};DayPilot.Util.addClass=function($w,name){if(!$w){return;};if(!$w.className){$w.className=name;return;};var $00=new RegExp("(^|\\s)"+name+"($|\\s)");if(!$00.test($w.className)){$w.className=$w.className+' '+name;}};DayPilot.Util.addClassToString=function(str,name){if(!str){return name;};var $00=new RegExp("(^|\\s)"+name+"($|\\s)");if(!$00.test(str)){return str+' '+name;}else{return str;}};DayPilot.Util.removeClass=function($w,name){if(!$w){return;};var $00=new RegExp("(^|\\s)"+name+"($|\\s)");$w.className=$w.className.replace($00,' ').replace(/^\s\s*/,'').replace(/\s\s*$/,'');};DayPilot.Util.props=function(o){var t=[];for(a in o){t.push(a);t.push(o[a]);};return t.join("-");};DayPilot.Util.propArray=function($01,name){var $r=[];if(!$01||!$01.length){return $r;};for(var i=0;i<$01.length;i++){$r.push($01[i][name]);};return $r;};DayPilot.Util.updatePropsFromArray=function($01,name,$v){for(var i=0;i<$v.length;i++){$01[i][name]=$v[i];}};DayPilot.Util.copyProps=function($02,$d,$01){if(!$02){return;};if(typeof $01==='undefined'){for(var name in $02){$d[name]=$02[name];}}else{for(var i=0;i<$01.length;i++){var name=$01[i];$d[name]=$02[name];}}};DayPilot.Areas={};DayPilot.Areas.showAreas=function($b,e,ev){if(DayPilot.Global.resizing){return;};if(DayPilot.Global.moving){return;};if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0){for(var i=0;i<DayPilot.Areas.all.length;i++){var d=DayPilot.Areas.all[i];if(d!==$b){DayPilot.Areas.hideAreas(d,ev);}}};if($b.active){return;};$b.active={};var $03=e.areas;if(!$03&&e.data&&e.data.areas){$03=e.data.areas;};if(!$03||$03.length===0){return;};if($b.areas&&$b.areas.length>0){return;};$b.areas=[];for(var i=0;i<$03.length;i++){var $04=$03[i];if($04.v!=='Hover'){continue;};var a=DayPilot.Areas.createArea($b,e,$04);$b.areas.push(a);$b.appendChild(a);DayPilot.Areas.all.push($b);};$b.active.children=DayPilot.ac($b);};DayPilot.Areas.createArea=function($b,e,$04){var a=document.createElement("div");a.style.position="absolute";a.setAttribute("unselectable","on");if(typeof $04.w!=='undefined'){a.style.width=$04.w+"px";};if(typeof $04.h!=='undefined'){a.style.height=$04.h+"px";};if(typeof $04.right!=='undefined'){a.style.right=$04.right+"px";};if(typeof $04.top!=='undefined'){a.style.top=$04.top+"px";};if(typeof $04.left!=='undefined'){a.style.left=$04.left+"px";};if(typeof $04.bottom!=='undefined'){a.style.bottom=$04.bottom+"px";};if(typeof $04.html!=='undefined'&&$04.html){a.innerHTML=$04.html;};if($04.css){a.className=$04.css;};if($04.action==="ResizeEnd"||$04.action==="ResizeStart"||$04.action==="Move"){if(e.calendar.isCalendar){switch($04.action){case "ResizeEnd":$04.cursor="s-resize";$04.dpBorder="bottom";break;case "ResizeStart":$04.cursor="n-resize";$04.dpBorder="top";break;case "Move":$04.cursor="move";break;}};if(e.calendar.isScheduler||e.calendar.isMonth){switch($04.action){case "ResizeEnd":$04.cursor="e-resize";$04.dpBorder="right";break;case "ResizeStart":$04.cursor="w-resize";$04.dpBorder="left";break;case "Move":$04.cursor="move";break;}};a.onmousemove=(function($b,e,$04){return function(ev){var ev=ev||window.event;$b.style.cursor=$04.cursor;if($04.dpBorder)$b.dpBorder=$04.dpBorder;ev.cancelBubble=true;};})($b,e,$04);a.onmouseout=(function($b,e,$04){return function(ev){$b.style.cursor='';};})($b,e,$04);};if($04.action==="Bubble"&&e.isEvent){a.onmousemove=(function($b,e,$04){return function(ev){if(e.calendar.bubble){e.calendar.bubble.showEvent(e);}};})($b,e,$04);a.onmouseout=(function($b,e,$04){return function(ev){if(typeof DayPilot.Bubble!=="undefined"){if(e.calendar.bubble){e.calendar.bubble.hideOnMouseOut();}}};})($b,e,$04);};a.onmousedown=(function($b,e,$04){return function(ev){if(!e.calendar){return;};var $05=false;if(e.calendar.isMonth){$05=true;};if(e.calendar.isScheduler&&e.calendar.moveBy==='Full'){$05=true;};if($05){if($04.action==="Move"||$04.action==="ResizeEnd"||$04.action==="ResizeStart"){return;};ev=ev||window.event;ev.cancelBubble=true;}};})($b,e,$04);a.onclick=(function($b,e,$04){return function(ev){var ev=ev||window.event;switch($04.action){case "JavaScript":var f=$04.js;if(typeof f==='string'){f=eval("0, "+$04.js);};if(typeof f==='function'){f.call(this,e);};break;case "ContextMenu":var m=$04.menu;if(typeof m==='string'){m=eval(m);};if(m&&m.show){m.show(e);};break;case "CallBack":alert("callback not implemented yet, id: "+$04.id);break;};ev.cancelBubble=true;};})($b,e,$04);return a;};DayPilot.Areas.all=[];DayPilot.Areas.hideAreas=function($b,ev){if(!$b){return;};if(!$b||!$b.active){return;};var $06=$b.active;var $03=$b.areas;if($06&&$06.children){var ev=ev||window.event;if(ev){var $d=ev.toElement||ev.relatedTarget;if(~DayPilot.indexOf($06.children,$d)){return;}}};if(!$03||$03.length===0){$b.active=null;return;};for(var i=0;i<$03.length;i++){var a=$03[i];$b.removeChild(a);};$b.active=null;$b.areas=[];DayPilot.rfa(DayPilot.Areas.all,$b);$06.children=null;};DayPilot.Areas.hideAll=function(ev){if(!DayPilot.Areas.all||DayPilot.Areas.all.length===0){return;};for(var i=0;i<DayPilot.Areas.all.length;i++){DayPilot.Areas.hideAreas(DayPilot.Areas.all[i],ev);}};DayPilot.Action=function($07,$08,$09,$0a){this.calendar=$07;this.isAction=true;this.action=$08;this.params=$09;this.data=$0a;this.notify=function(){$07.internal.invokeEvent("Immediate",this.action,this.params,this.data);};this.auto=function(){$07.internal.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$07.queue.add(this);};this.toJSON=function(){var $0b={};$0b.name=this.action;$0b.params=this.params;$0b.data=this.data;return $0b;};};DayPilot.Selection=function($0c,end,$0d,$0e){this.type='selection';this.start=$0c.isDayPilotDate?$0c:new DayPilot.Date($0c);this.end=end.isDayPilotDate?end:new DayPilot.Date(end);this.resource=$0d;this.root=$0e;this.toJSON=function($0f){var $0b={};$0b.start=this.start;$0b.end=this.end;$0b.resource=this.resource;return $0b;};};DayPilot.Event=function($0a,$07,$0g){var e=this;this.calendar=$07;this.data=$0a?$0a:{};this.part=$0g?$0g:{};if(typeof this.data.id==='undefined'){this.data.id=this.data.value;};var $0h={};var $0i=["id","text","start","end","resource"];this.isEvent=true;this.temp=function(){if($0h.dirty){return $0h;};for(var i=0;i<$0i.length;i++){$0h[$0i[i]]=e.data[$0i[i]];};$0h.dirty=true;return $0h;};this.copy=function(){var $r={};for(var i=0;i<$0i.length;i++){$r[$0i[i]]=e.data[$0i[i]];};return $r;};this.commit=function(){if(!$0h.dirty){return;};for(var i=0;i<$0i.length;i++){e.data[$0i[i]]=$0h[$0i[i]];};$0h.dirty=false;};this.dirty=function(){return $0h.dirty;};this.id=function($0j){if(typeof $0j==='undefined'){return e.data.id;}else{this.temp().id=$0j;}};this.value=function($0j){if(typeof $0j==='undefined'){return e.id();}else{e.id($0j);}};this.text=function($0j){if(typeof $0j==='undefined'){return e.data.text;}else{this.temp().text=$0j;this.client.innerHTML($0j);}};this.start=function($0j){if(typeof $0j==='undefined'){return new DayPilot.Date(e.data.start);}else{this.temp().start=new DayPilot.Date($0j);}};this.end=function($0j){if(typeof $0j==='undefined'){return new DayPilot.Date(e.data.end);}else{this.temp().end=new DayPilot.Date($0j);}};this.partStart=function(){return new DayPilot.Date(this.part.start);};this.partEnd=function(){return new DayPilot.Date(this.part.end);};this.row=function(){return this.resource();};this.allday=function(){if(typeof $0j==='undefined'){return e.data.allday;}else{this.temp().allday=$0j;}};this.isAllDay=this.allday;this.resource=function($0j){if(typeof $0j==='undefined'){return e.data.resource;}else{this.temp().resource=$0j;}};this.recurrent=function(){return e.data.recurrent;};this.recurrentMasterId=function(){return e.data.recurrentMasterId;};this.useBox=function(){return this.part.box;};this.staticBubbleHTML=function(){return this.bubbleHtml();};this.bubbleHtml=function(){if(e.cache){return e.cache.bubbleHtml||e.data.bubbleHtml;};return e.data.bubbleHtml;};this.tag=function($0k){var $0l=e.data.tag;if(!$0l){return null;};if(typeof $0k==='undefined'){return e.data.tag;};var $0m=e.calendar.tagFields;var $0n=-1;for(var i=0;i<$0m.length;i++){if($0k===$0m[i])$0n=i;};if($0n===-1){throw "Field name not found.";};return $0l[$0n];};this.client={};this.client.innerHTML=function($0j){if(typeof $0j==='undefined'){if(e.cache&&typeof e.cache.html!=="undefined"){return e.cache.html;};if(typeof e.data.html!=="undefined"){return e.data.html;};return e.data.text;}else{e.data.html=$0j;}};this.client.html=this.client.innerHTML;this.client.header=function($0j){if(typeof $0j==='undefined'){return e.data.header;}else{e.data.header=$0j;}};this.client.cssClass=function($0j){if(typeof $0j==='undefined'){return e.data.cssClass;}else{e.data.cssClass=$0j;}};this.client.toolTip=function($0j){if(typeof $0j==='undefined'){if(e.cache&&typeof e.cache.toolTip!=="undefined"){return e.cache.toolTip;};return typeof e.data.toolTip!=='undefined'?e.data.toolTip:e.data.text;}else{e.data.toolTip=$0j;}};this.client.backColor=function($0j){if(typeof $0j==='undefined'){if(e.cache&&typeof e.cache.backColor!=="undefined"){return e.cache.backColor;};return typeof e.data.backColor!=="undefined"?e.data.backColor:e.calendar.eventBackColor;}else{e.data.backColor=$0j;}};this.client.borderColor=function($0j){if(typeof $0j==='undefined'){if(e.cache&&typeof e.cache.borderColor!=="undefined"){return e.cache.borderColor;};return typeof e.data.borderColor!=="undefined"?e.data.borderColor:e.calendar.eventBorderColor;}else{e.data.borderColor=$0j;}};this.client.barColor=function($0j){if(typeof $0j==='undefined'){if(e.cache&&typeof e.cache.barColor!=="undefined"){return e.cache.barColor;};return typeof e.data.barColor!=="undefined"?e.data.barColor:e.calendar.durationBarColor;}else{e.data.barColor=$0j;}};this.client.barVisible=function($0j){if(typeof $0j==='undefined'){return e.calendar.durationBarVisible&&!e.data.barHidden;}else{e.data.barHidden=!$0j;}};this.client.contextMenu=function($0j){if(typeof $0j==='undefined'){if(e.oContextMenu){return e.oContextMenu;};return(e.data.contextMenu)?eval(e.data.contextMenu):null;}else{e.oContextMenu=$0j;}};this.client.moveEnabled=function($0j){if(typeof $0j==='undefined'){return e.calendar.eventMoveHandling!=='Disabled'&&!e.data.moveDisabled;}else{e.data.moveDisabled=!$0j;}};this.client.resizeEnabled=function($0j){if(typeof $0j==='undefined'){return e.calendar.eventResizeHandling!=='Disabled'&&!e.data.resizeDisabled;}else{e.data.resizeDisabled=!$0j;}};this.client.rightClickEnabled=function($0j){if(typeof $0j==='undefined'){return e.calendar.rightClickHandling!=='Disabled'&&!e.data.rightClickDisabled;}else{e.data.rightClickDisabled=!$0j;}};this.client.clickEnabled=function($0j){if(typeof $0j==='undefined'){return e.calendar.clickHandling!=='Disabled'&&!e.data.clickDisabled;}else{e.data.clickDisabled=!$0j;}};this.client.deleteEnabled=function($0j){if(typeof $0j==='undefined'){return e.calendar.eventDeleteHandling!=='Disabled'&&!e.data.deleteDisabled;}else{e.data.deleteDisabled=!$0j;}};this.client.doubleClickEnabled=function($0j){if(typeof $0j==='undefined'){return e.calendar.doubleClickHandling!=='Disabled'&&!e.data.doubleClickDisabled;}else{e.data.doubleClickDisabled=!$0j;}};this.client.deleteClickEnabled=function($0j){if(typeof $0j==='undefined'){return e.calendar.eventDeleteHandling!=='Disabled'&&!e.data.deleteDisabled;}else{e.data.deleteDisabled=!$0j;}};this.toJSON=function($0f){var $0b={};$0b.value=this.id();$0b.id=this.id();$0b.text=this.text();$0b.start=this.start();$0b.end=this.end();$0b.resource=this.resource();$0b.isAllDay=false;$0b.recurrentMasterId=this.recurrentMasterId();$0b.tag={};if(e.calendar.tagFields){var $0m=e.calendar.tagFields;for(var i=0;i<$0m.length;i++){$0b.tag[$0m[i]]=this.tag($0m[i]);}};return $0b;};};DayPilot.EventData=function(e){this.value=function(){return id;};this.tag=function(){return null;};this.start=function(){return new Date(0);};this.end=function(){return new Date($0o*1000);};this.text=function(){return $0p;};this.isAllDay=function(){return false;};this.allday=this.isAllDay;};DayPilot.request=function($0q,$0r,$0s,$0t){var $0u=DayPilot.createXmlHttp();if(!$0u){return;};$0u.open("POST",$0q,true);$0u.setRequestHeader('Content-type','text/plain');$0u.onreadystatechange=function(){if($0u.readyState!==4)return;if($0u.status!==200&&$0u.status!==304){if($0t){$0t($0u);}else{DayPilot.debug('HTTP error '+$0u.status);};return;};$0r($0u);};if($0u.readyState===4){return;};if(typeof $0s==='object'){$0s=DayPilot.JSON.stringify($0s);};$0u.send($0s);};DayPilot.createXmlHttp=function(){var $0v;try{$0v=new XMLHttpRequest();}catch(e){try{$0v=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $0v;};DayPilot.Date=function($0w,$0x){if(typeof $0w==='undefined'){this.isDayPilotDate=true;this.d=DayPilot.Date.fromLocal();this.ticks=this.d.getTime();return;};if($0w.isDayPilotDate){return $0w;};var $0y=DayPilot.Date.Cache.Ctor;if($0y[$0w]){return $0y[$0w];};if(typeof $0w==="string"){var $r=DayPilot.Date.fromStringSortable($0w);$0y[$0w]=$r;return $r;};if(!$0w.getFullYear){throw "date parameter is not a Date object: "+$0w;};if($0x){this.isDayPilotDate=true;this.d=DayPilot.Date.fromLocal($0w);this.ticks=this.d.getTime();}else{this.isDayPilotDate=true;this.d=$0w;this.ticks=this.d.getTime();}};DayPilot.Date.Cache={};DayPilot.Date.Cache.Parsing={};DayPilot.Date.Cache.Ctor={};DayPilot.Date.prototype.addDays=function($0z){return new DayPilot.Date(DayPilot.Date.addDays(this.d,$0z));};DayPilot.Date.prototype.addHours=function($0A){return this.addTime($0A*60*60*1000);};DayPilot.Date.prototype.addMilliseconds=function($0B){return this.addTime($0B);};DayPilot.Date.prototype.addMinutes=function($0C){return this.addTime($0C*60*1000);};DayPilot.Date.prototype.addMonths=function($0D){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,$0D));};DayPilot.Date.prototype.addSeconds=function($0E){return this.addTime($0E*1000);};DayPilot.Date.prototype.addTime=function($0F){return new DayPilot.Date(DayPilot.Date.addTime(this.d,$0F));};DayPilot.Date.prototype.addYears=function($0G){var n=this.clone();n.d.setUTCFullYear(this.getYear()+$0G);return n;};DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d));};DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.getDayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.daysInMonth=function(){return DayPilot.Date.daysInMonth(this.d);};DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/86400000)+1;};DayPilot.Date.prototype.equals=function($0H){if($0H===null){return false;};if($0H.isDayPilotDate){return DayPilot.Date.equals(this.d,$0H.d);}else{throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";}};DayPilot.Date.prototype.firstDayOfMonth=function(){var $0I=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0I);};DayPilot.Date.prototype.firstDayOfYear=function(){var $0J=this.getYear();var d=new Date();d.setUTCFullYear($0J,0,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.prototype.firstDayOfWeek=function($0K){var $0I=DayPilot.Date.firstDayOfWeek(this.d,$0K);return new DayPilot.Date($0I);};DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate();};DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d));};DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear();};DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours();};DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds();};DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes();};DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth();};DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds();};DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime();};DayPilot.Date.prototype.getTime=function(){return this.ticks;};DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d);};DayPilot.Date.prototype.lastDayOfMonth=function(){var $0I=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0I);};DayPilot.Date.prototype.weekNumber=function(){var $0L=this.firstDayOfYear();var $0z=(this.getTime()-$0L.getTime())/86400000;return Math.ceil(($0z+$0L.dayOfWeek()+1)/7);};DayPilot.Date.prototype.local=function(){if(typeof this.offset==='undefined'){return new DayPilot.Date(this.d);};return this.addMinutes(this.offset);};DayPilot.Date.prototype.weekNumberISO=function(){var $0M=false;var $0N=this.dayOfYear();var $0O=this.firstDayOfYear().dayOfWeek();var $0P=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();if($0O===0){$0O=7;};if($0P===0){$0P=7;};var $0Q=8-($0O);if($0O===4||$0P===4){$0M=true;};var $0R=Math.ceil(($0N-($0Q))/7.0);var $0S=$0R;if($0Q>=4){$0S=$0S+1;};if($0S>52&&!$0M){$0S=1;};if($0S===0){$0S=this.firstDayOfYear().addDays(-1).weekNumberISO();};return $0S;};DayPilot.Date.prototype.toDateLocal=function(){return DayPilot.Date.toLocal(this.d);};DayPilot.Date.prototype.toJSON=function(){return this.toStringSortable();};DayPilot.Date.prototype.toString=function($0T,$0U){if(typeof $0T==='undefined'){return this.toStringSortable();};return new $0V($0T,$0U).print(this);};DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d);};DayPilot.Date.parse=function(str,$0T){var p=new $0V($0T);return p.parse(str);};DayPilot.Date.fromStringSortable=function($0W){var $r;if(!$0W){throw "Can't create DayPilot.Date from empty string";};var $E=$0W.length;var $0w=$E===10;var $0X=$E=19;var $0Y=$E===25;if(!$0w&&!$0X&&!$0Y){throw "Invalid string format (use '2010-01-01', '2010-01-01T00:00:00', or '2010-01-01T00:00:00+00:00'.";};if(DayPilot.Date.Cache.Parsing[$0W]){return DayPilot.Date.Cache.Parsing[$0W];};var $0J=$0W.substring(0,4);var $0Z=$0W.substring(5,7);var $10=$0W.substring(8,10);var d=new Date();d.setUTCFullYear($0J,$0Z-1,$10);if($0w){d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);$r=new DayPilot.Date(d);DayPilot.Date.Cache.Parsing[$0W]=$r;return $r;};var $0A=$0W.substring(11,13);var $0C=$0W.substring(14,16);var $0E=$0W.substring(17,19);d.setUTCHours($0A);d.setUTCMinutes($0C);d.setUTCSeconds($0E);d.setUTCMilliseconds(0);var $r=new DayPilot.Date(d);if($0X){DayPilot.Date.Cache.Parsing[$0W]=$r;return $r;};var $11=$0W[20];var $12=$0W.substring(21,23);var $13=$0W.substring(24);var $14=$12*60+$13;if($11==="-"){$14=-$14;};$r=$r.addMinutes(-$14);$r.offset=$15;DayPilot.Date.Cache.Parsing[$0W]=$r;return $r;};DayPilot.Date.addDays=function($0w,$0z){var d=new Date();d.setTime($0w.getTime()+$0z*24*60*60*1000);return d;};DayPilot.Date.addMinutes=function($0w,$0C){var d=new Date();d.setTime($0w.getTime()+$0C*60*1000);return d;};DayPilot.Date.addMonths=function($0w,$0D){if($0D===0)return $0w;var y=$0w.getUTCFullYear();var m=$0w.getUTCMonth()+1;if($0D>0){while($0D>=12){$0D-=12;y++;};if($0D>12-m){y++;m=$0D-(12-m);}else{m+=$0D;}}else{while($0D<=-12){$0D+=12;y--;};if(m<=$0D){y--;m=12-($0D+m);}else{m=m+$0D;}};var d=DayPilot.Date.clone($0w);d.setUTCFullYear(y);d.setUTCMonth(m-1);return d;};DayPilot.Date.addTime=function($0w,$16){var d=new Date();d.setTime($0w.getTime()+$16);return d;};DayPilot.Date.clone=function($17){var d=new Date();return DayPilot.Date.dateFromTicks($17.getTime());};DayPilot.Date.daysDiff=function($0L,$18){if($0L.getTime()>$18.getTime()){return null;};var i=0;var $19=DayPilot.Date.getDate($0L);var $1a=DayPilot.Date.getDate($18);while($19<$1a){$19=DayPilot.Date.addDays($19,1);i++;};return i;};DayPilot.Date.daysInMonth=function($0J,$0Z){if($0J.getUTCFullYear){$0Z=$0J.getUTCMonth()+1;$0J=$0J.getUTCFullYear();};var m=[31,28,31,30,31,30,31,31,30,31,30,31];if($0Z!==2)return m[$0Z-1];if($0J%4!==0)return m[1];if($0J%100===0&&$0J%400!==0)return m[1];return m[1]+1;};DayPilot.Date.daysSpan=function($0L,$18){if($0L.getTime()===$18.getTime()){return 0;};var $1b=DayPilot.Date.daysDiff($0L,$18);if(DayPilot.Date.equals($18,DayPilot.Date.getDate($18))){$1b--;};return $1b;};DayPilot.Date.diff=function($0L,$18){if(!($0L&&$18&&$0L.getTime&&$18.getTime)){throw "Both compared objects must be Date objects (DayPilot.Date.diff).";};return $0L.getTime()-$18.getTime();};DayPilot.Date.equals=function($0L,$18){return $0L.getTime()===$18.getTime();};DayPilot.Date.fromLocal=function($1c){if(!$1c){$1c=new Date();};var d=new Date();d.setUTCFullYear($1c.getFullYear(),$1c.getMonth(),$1c.getDate());d.setUTCHours($1c.getHours());d.setUTCMinutes($1c.getMinutes());d.setUTCSeconds($1c.getSeconds());d.setUTCMilliseconds($1c.getMilliseconds());return d;};DayPilot.Date.firstDayOfMonth=function($0J,$0Z){var d=new Date();d.setUTCFullYear($0J,$0Z-1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.firstDayOfWeek=function(d,$0K){var $10=d.getUTCDay();while($10!==$0K){d=DayPilot.Date.addDays(d,-1);$10=d.getUTCDay();};return d;};DayPilot.Date.dateFromTicks=function($0F){var d=new Date();d.setTime($0F);return d;};DayPilot.Date.getDate=function($17){var d=DayPilot.Date.clone($17);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.getStart=function($0J,$0Z,$0K){var $1d=DayPilot.Date.firstDayOfMonth($0J,$0Z);d=DayPilot.Date.firstDayOfWeek($1d,$0K);return d;};DayPilot.Date.getTime=function($17){var $0w=DayPilot.Date.getDate($17);return DayPilot.Date.diff($17,$0w);};DayPilot.Date.hours=function($0w,$1e){var $1f=$0w.getUTCMinutes();if($1f<10)$1f="0"+$1f;var $1g=$0w.getUTCHours();if($1e){var am=$1g<12;var $1g=$1g%12;if($1g===0){$1g=12;};var $1h=am?"AM":"PM";return $1g+':'+$1f+' '+$1h;}else{return $1g+':'+$1f;}};DayPilot.Date.lastDayOfMonth=function($0J,$0Z){var d=DayPilot.Date.firstDayOfMonth($0J,$0Z);var length=DayPilot.Date.daysInMonth($0J,$0Z);d.setUTCDate(length);return d;};DayPilot.Date.max=function($0L,$18){if($0L.getTime()>$18.getTime()){return $0L;}else{return $18;}};DayPilot.Date.min=function($0L,$18){if($0L.getTime()<$18.getTime()){return $0L;}else{return $18;}};DayPilot.Date.today=function(){var $1i=new Date();var d=new Date();d.setUTCFullYear($1i.getFullYear());d.setUTCMonth($1i.getMonth());d.setUTCDate($1i.getDate());return d;};DayPilot.Date.toLocal=function($0w){if(!$0w){$0w=new Date();};var d=new Date();d.setFullYear($0w.getUTCFullYear(),$0w.getUTCMonth(),$0w.getUTCDate());d.setHours($0w.getUTCHours());d.setMinutes($0w.getUTCMinutes());d.setSeconds($0w.getUTCSeconds());d.setMilliseconds($0w.getUTCMilliseconds());return d;};DayPilot.Date.toStringSortable=function($0w){if($0w.isDayPilotDate){return $0w.toStringSortable();};var d=$0w;var $18=d.getUTCSeconds();if($18<10)$18="0"+$18;var $1f=d.getUTCMinutes();if($1f<10)$1f="0"+$1f;var $1g=d.getUTCHours();if($1g<10)$1g="0"+$1g;var $10=d.getUTCDate();if($10<10)$10="0"+$10;var $0Z=d.getUTCMonth()+1;if($0Z<10)$0Z="0"+$0Z;var $0J=d.getUTCFullYear();if($0J<=0){throw "The minimum year supported is 1.";};if($0J<10){$0J="000"+$0J;}else if($0J<100){$0J="00"+$0J;}else if($0J<1000){$0J="0"+$0J;};return $0J+"-"+$0Z+"-"+$10+'T'+$1g+":"+$1f+":"+$18;};var $0V=function($0T,$0U){if(typeof $0U==="string"){$0U=DayPilot.Locale.find($0U);};var $0U=$0U||DayPilot.Locale.US;var $1j=[{"seq":"yyyy","expr":"[0-9]{4,4\u007d","str":function(d){return d.getYear();}},{"seq":"MMMM","expr":"[a-z]*","str":function(d){var r=$0U.monthNames[d.getMonth()];return r;}},{"seq":"MM","expr":"[0-9]{2,2\u007d","str":function(d){var r=d.getMonth()+1;return r<10?"0"+r:r;}},{"seq":"M","expr":"[0-9]{1,2\u007d","str":function(d){var r=d.getMonth()+1;return r;}},{"seq":"dddd","expr":"[a-z]*","str":function(d){var r=$0U.dayNames[d.getDayOfWeek()];return r;}},{"seq":"dd","expr":"[0-9]{2,2\u007d","str":function(d){var r=d.getDay();return r<10?"0"+r:r;}},{"seq":"d","expr":"[0-9]{1,2\u007d","str":function(d){var r=d.getDay();return r;}},{"seq":"m","expr":"[0-9]{1,2\u007d","str":function(d){var r=d.getMinutes();return r;}},{"seq":"mm","expr":"[0-9]{2,2\u007d","str":function(d){var r=d.getMinutes();return r<10?"0"+r:r;}},{"seq":"H","expr":"[0-9]{1,2\u007d","str":function(d){var r=d.getHours();return r;}},{"seq":"HH","expr":"[0-9]{2,2\u007d","str":function(d){var r=d.getHours();return r<10?"0"+r:r;}},{"seq":"h","expr":"[0-9]{1,2\u007d","str":function(d){var $1g=d.getHours();var $1g=$1g%12;if($1g===0){$1g=12;};return $1g;}},{"seq":"hh","expr":"[0-9]{2,2\u007d","str":function(d){var $1g=d.getHours();var $1g=$1g%12;if($1g===0){$1g=12;};var r=$1g;return r<10?"0"+r:r;}},{"seq":"tt","expr":"(AM|PM)","str":function(d){var $1g=d.getHours();var am=$1g<12;return am?"AM":"PM";}},{"seq":"s","expr":"[0-9]{1,2\u007d","str":function(d){var r=d.getSeconds();return r;}},{"seq":"ss","expr":"[0-9]{2,2\u007d","str":function(d){var r=d.getSeconds();return r<10?"0"+r:r;}}];var $1k=function($0p){return $0p.replace(/[-[\]{};()*+?.,\\^$|#\s]/g,"\\$&");};this.init=function(){this.year=this.findSequence("yyyy");this.month=this.findSequence("MM")||this.findSequence("M");this.day=this.findSequence("dd")||this.findSequence("d");this.hours=this.findSequence("HH")||this.findSequence("H");this.minutes=this.findSequence("mm")||this.findSequence("m");this.seconds=this.findSequence("ss")||this.findSequence("s");};this.findSequence=function($1l){var $0n=$0T.indexOf($1l);if($0n===-1){return null;};return{"findValue":function($1m){var $1n=$1k($0T);for(var i=0;i<$1j.length;i++){var $E=$1j[i].length;var $1o=($1l===$1j[i].seq);var $1p=$1j[i].expr;if($1o){$1p="("+$1p+")";};$1n=$1n.replace($1j[i].seq,$1p);};try{var r=new RegExp($1n);var $v=r.exec($1m);if(!$v){return null;};return parseInt($v[1]);}catch(e){throw "unable to create regex from: "+$1n;}}};};this.print=function($0w){var find=function(t){for(var i=0;i<$1j.length;i++){if($1j[i].seq===t){return $1j[i];}};return null;};var $1q=$0T.length<=0;var $1r=0;var $1s=[];while(!$1q){var $1t=$0T.substring($1r);var $1u=/(.)\1*/.exec($1t);if($1u&&$1u.length>0){var $1v=$1u[0];var q=find($1v);if(q){$1s.push(q);}else{$1s.push($1v);};$1r+=$1v.length;$1q=$0T.length<=$1r;}else{$1q=true;}};for(var i=0;i<$1s.length;i++){var c=$1s[i];if(typeof c!=='string'){$1s[i]=c.str($0w);}};return $1s.join("");};this.parse=function($1m){var $0J=this.year.findValue($1m);if(!$0J){return null;};var $0Z=this.month.findValue($1m);var $10=this.day.findValue($1m);var $0A=this.hours?this.hours.findValue($1m):0;var $0C=this.minutes?this.minutes.findValue($1m):0;var $0E=this.seconds?this.seconds.findValue($1m):0;var d=new Date();d.setUTCFullYear($0J,$0Z-1,$10);d.setUTCHours($0A);d.setUTCMinutes($0C);d.setUTCSeconds($0E);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};this.init();};DayPilot.Action=function($07,$08,$09,$0a){this.calendar=$07;this.isAction=true;this.action=$08;this.params=$09;this.data=$0a;this.notify=function(){$07.invokeEvent("Immediate",this.action,this.params,this.data);};this.auto=function(){$07.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$07.queue.add(this);};this.toJSON=function(){var $0b={};$0b.name=this.action;$0b.params=this.params;$0b.data=this.data;return $0b;};};DayPilot.Locale=function(id,$M){this.id=id;this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"];this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.datePattern="M/d/yyyy";this.timePattern="H:mm";this.dateTimePattern="M/d/yyyy H:mm";this.timeFormat="Clock12Hours";this.weekStarts=0;if($M){for(var name in $M){this[name]=$M[name];}}};DayPilot.Locale.all={};DayPilot.Locale.find=function(id){if(!id){return null;};var $1w=id.toLowerCase();if($1w.length>2){$1w[2]='-';};return DayPilot.Locale.all[$1w];};DayPilot.Locale.register=function($0U){DayPilot.Locale.all[$0U.id]=$0U;};DayPilot.Locale.register(new DayPilot.Locale('de-de',{'dayNames':['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],'dayNamesShort':['So','Mo','Di','Mi','Do','Fr','Sa'],'monthNames':['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-au',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'d/MM/yyyy','dateTimePattern':'d/MM/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-ca',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('en-gb',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-us',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'M/d/yyyy','dateTimePattern':'M/d/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('es-es',{'dayNames':['domingo','lunes','martes','miércoles','jueves','viernes','sábado'],'dayNamesShort':['D','L','M','X','J','V','S'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'timePattern':'H:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('es-mx',{'dayNames':['domingo','lunes','martes','miércoles','jueves','viernes','sábado'],'dayNamesShort':['do.','lu.','ma.','mi.','ju.','vi.','sá.'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'timePattern':'hh:mm tt','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy hh:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('fr-fr',{'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('it-it',{'dayNames':['domenica','lunedì','martedì','mercoledì','giovedì','venerdì','sabato'],'dayNamesShort':['do','lu','ma','me','gi','ve','sa'],'monthNames':['gennaio','febbraio','marzo','aprile','maggio','giugno','luglio','agosto','settembre','ottobre','novembre','dicembre',''],'timePattern':'HH.mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH.mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('ja-jp',{'dayNames':['日曜日','月曜日','火曜日','水曜日','木曜日','金曜日','土曜日'],'dayNamesShort':['日','月','火','水','木','金','土'],'monthNames':['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月',''],'timePattern':'H:mm','datePattern':'yyyy/MM/dd','dateTimePattern':'yyyy/MM/dd H:mm','timeFormat':'Clock24Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('pt-br',{'dayNames':['domingo','segunda-feira','terça-feira','quarta-feira','quinta-feira','sexta-feira','sábado'],'dayNamesShort':['D','S','T','Q','Q','S','S'],'monthNames':['janeiro','fevereiro','março','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('ru-ru',{'dayNames':['воскресенье','понедельник','вторник','среда','четверг','пятница','суббота'],'dayNamesShort':['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],'monthNames':['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь',''],'timePattern':'H:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('zh-cn',{'dayNames':['星期日','星期一','星期二','星期三','星期四','星期五','星期六'],'dayNamesShort':['日','一','二','三','四','五','六'],'monthNames':['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月',''],'timePattern':'H:mm','datePattern':'yyyy/M/d','dateTimePattern':'yyyy/M/d H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('sv-se',{'dayNames':['söndag','måndag','tisdag','onsdag','torsdag','fredag','lördag'],'dayNamesShort':['sö','må','ti','on','to','fr','lö'],'monthNames':['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('da-dk',{'dayNames':['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'],'dayNamesShort':['sø','ma','ti','on','to','fr','lø'],'monthNames':['januar','februar','marts','april','maj','juni','juli','august','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'dd-MM-yyyy','dateTimePattern':'dd-MM-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nb-no',{'dayNames':['søndag','mandag','tirsdag','onsdag','torsdag','fredag','lørdag'],'dayNamesShort':['sø','ma','ti','on','to','fr','lø'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nn-no',{'dayNames':['søndag','måndag','tysdag','onsdag','torsdag','fredag','laurdag'],'dayNamesShort':['sø','må','ty','on','to','fr','la'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('fi-fi',{'dayNames':['sunnuntai','maanantai','tiistai','keskiviikko','torstai','perjantai','lauantai'],'dayNamesShort':['su','ma','ti','ke','to','pe','la'],'monthNames':['tammikuu','helmikuu','maaliskuu','huhtikuu','toukokuu','kesäkuu','heinäkuu','elokuu','syyskuu','lokakuu','marraskuu','joulukuu',''],'timePattern':'H:mm','datePattern':'d.M.yyyy','dateTimePattern':'d.M.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nl-nl',{'dayNames':['zondag','maandag','dinsdag','woensdag','donderdag','vrijdag','zaterdag'],'dayNamesShort':['zo','ma','di','wo','do','vr','za'],'monthNames':['januari','februari','maart','april','mei','juni','juli','augustus','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'d-M-yyyy','dateTimePattern':'d-M-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('cs-cz',{'dayNames':['neděle','pondělí','úterý','středa','čtvrtek','pátek','sobota'],'dayNamesShort':['ne','po','út','st','čt','pá','so'],'monthNames':['leden','únor','březen','duben','květen','červen','červenec','srpen','září','říjen','listopad','prosinec',''],'timePattern':'H:mm','datePattern':'d. M. yyyy','dateTimePattern':'d. M. yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.US=DayPilot.Locale.find("en-us");DayPilot.Switcher=function(){var $1x=this;this.views=[];this.switchers=[];this.navigator={};this.selectedClass=null;this.active=null;this.day=new DayPilot.Date();this.navigator.updateMode=function($1y){var $1z=$1x.navigator.control;if(!$1z){return;};$1z.selectMode=$1y;$1z.select($1x.day);};this.addView=function($1z){var element;if(typeof $1z==='string'){element=document.getElementById($1z);}else{element=$1z;};$1z=element;var $1A={};$1A.isView=true;$1A.id=$1z.id;$1A.control=$1z;$1A.hide=function(){if($1z.hide){$1z.hide();}else if($1z.nav&&$1z.nav.top){$1z.nav.top.style.display='none';}else{$1z.style.display='none';}};$1A.show=function(){$1x.$1U();if($1z.show){$1z.show();}else if($1z.nav&&$1z.nav.top){$1z.nav.top.style.display='';}else{$1z.style.display='';}};$1A.selectMode=function(){if($1z.isCalendar){switch($1z.viewType){case "Day":return "day";case "Week":return "week";case "WorkWeek":return "week";default:return "day";}}else if($1z.isMonth){switch($1z.viewType){case "Month":return "month";case "Weeks":return "week";default:return "day";}};return "day";};this.views.push($1A);return $1A;};this.addButton=function(id,$1z){var element;if(typeof id==='string'){element=document.getElementById(id);}else{element=id;};var $1A=this.$1V($1z);if(!$1A){$1A=this.addView($1z);};var $1B={};$1B.element=element;$1B.id=element.id;$1B.view=$1A;$1B.onClick=function(ev){if($1x.onSelect){var $1C={};$1C.switcher=$1B;$1x.onSelect($1C);};$1x.show($1B.view);$1x.$1W($1B);var $1y=$1B.view.selectMode();$1x.navigator.updateMode($1y);ev=ev||window.event;if(ev){ev.preventDefault?ev.preventDefault():ev.returnValue=false;}};DayPilot.re(element,'click',$1B.onClick);this.switchers.push($1B);return $1B;};this.select=function(id){var $1B=this.$1X(id);if($1B){$1B.onClick();}else if(this.switchers.length>0){this.switchers[0].onClick();}};this.$1X=function(id){for(var i=0;i<this.switchers.length;i++){var $1B=this.switchers[i];if($1B.id===id){return $1B;}};return null;};this.$1W=function($1B){if(!this.selectedClass){return;};for(var i=0;i<this.switchers.length;i++){var s=this.switchers[i];DayPilot.Util.removeClass(s.element,this.selectedClass);};DayPilot.Util.addClass($1B.element,this.selectedClass);};this.addNavigator=function($1z){$1x.navigator.control=$1z;$1z.timeRangeSelectedHandling="JavaScript";$1z.onTimeRangeSelected=function($0c,end,$10){$1x.day=$10;$1x.active.control.commandCallBack("navigate",{"day":$1x.day});};};this.show=function($1z){var $1A=$1z.isView?$1z:this.$1V($1z);if(this.active===$1A){return;};this.active=$1A;$1A.show();if($1x.active.control.commandCallBack){$1x.active.control.commandCallBack("navigate",{"day":this.day});}};this.$1V=function($1z){for(var i=0;i<this.views.length;i++){if(this.views[i].control===$1z){return this.views[i];}};return null;};this.$1U=function(){for(var i=0;i<this.views.length;i++){this.views[i].hide();}};};var $1D=function(id){var $1x=this;this.id=id;this.widths=[];this.titles=[];this.height=null;this.splitterWidth=3;this.css={};this.css.title=null;this.css.titleInner=null;this.css.splitter=null;this.blocks=[];this.drag={};this.updated=function(){};this.updating=function(){};this.init=function(){var $b;if(!id){throw "error: id not provided";}else if(typeof id==='string'){$b=document.getElementById(id);}else if(id.appendChild){$b=id;}else{throw "error: invalid object provided";};this.div=$b;this.blocks=[];for(var i=0;i<this.widths.length;i++){var s=document.createElement("div");s.style.display="inline-block";if($1x.height!==null){s.style.height=$1x.height+"px";}else{s.style.height="100%";};s.style.width=(this.widths[i]-this.splitterWidth)+"px";s.style.display.overflow='hidden';s.style.verticalAlign="top";s.style.position="relative";s.setAttribute("unselectable","on");s.className=this.css.title;$b.appendChild(s);var $1E=document.createElement("div");$1E.innerHTML=this.titles[i];$1E.setAttribute("unselectable","on");$1E.className=this.css.titleInner;s.appendChild($1E);var $1F=document.createElement("div");$1F.style.display="inline-block";if($1x.height!==null){$1F.style.height=$1x.height+"px";}else{$1F.style.height="100%";};$1F.style.width=this.splitterWidth+"px";$1F.style.position="relative";$1F.appendChild(document.createElement("div"));$1F.style.cursor="col-resize";$1F.setAttribute("unselectable","on");$1F.className=this.css.splitter;var $0a={};$0a.index=i;$0a.width=this.widths[i];$1F.data=$0a;$1F.onmousedown=function(ev){$1x.drag.start=DayPilot.page(ev);$1x.drag.data=this.data;$1x.div.style.cursor="col-resize";ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;};$b.appendChild($1F);var $1G={};$1G.section=s;$1G.handle=$1F;this.blocks.push($1G);};this.registerGlobalHandlers();};this.updateWidths=function(){for(var i=0;i<this.blocks.length;i++){var $1G=this.blocks[i];var $X=this.widths[i];$1G.handle.data.width=$X;this.$1Y(i);}};this.$1Y=function(i){var $1G=this.blocks[i];var $X=this.widths[i];$1G.section.style.width=($X-this.splitterWidth)+"px";};this.totalWidth=function(){var t=0;for(var i=0;i<this.widths.length;i++){t+=this.widths[i];};return t;};this.gMouseMove=function(ev){if(!$1x.drag.start){return;};var $0a=$1x.drag.data;var $1H=DayPilot.page(ev);var $1I=$1H.x-$1x.drag.start.x;var i=$0a.index;$1x.widths[i]=$0a.width+$1I;$1x.$1Y(i);var $09={};$09.widths=this.widths;$09.index=$0a.index;$1x.updating($09);};this.gMouseUp=function(ev){if(!$1x.drag.start){return;};$1x.drag.start=null;document.body.style.cursor="";$1x.div.style.cursor="";var $0a=$1x.drag.data;$0a.width=$1x.widths[$0a.index];var $09={};$09.widths=this.widths;$09.index=$0a.index;$1x.updated($09);};this.registerGlobalHandlers=function(){DayPilot.re(document,'mousemove',this.gMouseMove);DayPilot.re(document,'mouseup',this.gMouseUp);};};DayPilot.Splitter=$1D;})();DayPilot.JSON={};(function(){function f(n){return n<10?'0'+n:n;};if(typeof Date.prototype.toJSON2!=='function'){Date.prototype.toJSON2=function($0f){return this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function($0f){return this.valueOf();};};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$1J=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$1K,$1L,$1M={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},$1N;function quote($0W){$1J.lastIndex=0;return $1J.test($0W)?'"'+$0W.replace($1J,function(a){var c=$1M[a];if(typeof c==='string'){return c;};return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+$0W+'"';};function str($0f,$1O){var i,k,v,length,$1P=$1K,$1Q,$1R=$1O[$0f];if($1R&&typeof $1R==='object'&&typeof $1R.toJSON2==='function'){$1R=$1R.toJSON2($0f);}else if($1R&&typeof $1R==='object'&&typeof $1R.toJSON==='function'&&!$1R.ignoreToJSON){$1R=$1R.toJSON($0f);};if(typeof $1N==='function'){$1R=$1N.call($1O,$0f,$1R);};switch(typeof $1R){case 'string':return quote($1R);case 'number':return isFinite($1R)?String($1R):'null';case 'boolean':case 'null':return String($1R);case 'object':if(!$1R){return 'null';};$1K+=$1L;$1Q=[];if(typeof $1R.length==='number'&&!$1R.propertyIsEnumerable('length')){length=$1R.length;for(i=0;i<length;i+=1){$1Q[i]=str(i,$1R)||'null';};v=$1Q.length===0?'[]':$1K?'[\n'+$1K+$1Q.join(',\n'+$1K)+'\n'+$1P+']':'['+$1Q.join(',')+']';$1K=$1P;return v;};if($1N&&typeof $1N==='object'){length=$1N.length;for(i=0;i<length;i+=1){k=$1N[i];if(typeof k==='string'){v=str(k,$1R);if(v){$1Q.push(quote(k)+($1K?': ':':')+v);}}}}else{for(k in $1R){if(Object.hasOwnProperty.call($1R,k)){v=str(k,$1R);if(v){$1Q.push(quote(k)+($1K?': ':':')+v);}}}};v=($1Q.length===0)?'{\u007D':$1K?'{\n'+$1K+$1Q.join(',\n'+$1K)+'\n'+$1P+'\u007D':'{'+$1Q.join(',')+'\u007D';$1K=$1P;return v;}};if(typeof DayPilot.JSON.stringify!=='function'){DayPilot.JSON.stringify=function($1R,$1S,$1T){var i;$1K='';$1L='';if(typeof $1T==='number'){for(i=0;i<$1T;i+=1){$1L+=' ';}}else if(typeof $1T==='string'){$1L=$1T;};$1N=$1S;if($1S&&typeof $1S!=='function'&&(typeof $1S!=='object'||typeof $1S.length!=='number')){throw new Error('JSON.stringify');};return str('',{'':$1R});};};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};(function(){if(typeof DayPilot.DatePicker!=='undefined'){return;};DayPilot.DatePicker=function($a){this.v='542';var $b="navigator_"+new Date().getTime();var $c=this;this.prepare=function(){this.locale="en-us";this.target=null;this.resetTarget=true;this.pattern=this.$m.locale().datePattern;this.cssClassPrefix="navigator_white";this.patterns=[];if($a){for(var name in $a){this[name]=$a[name];}};this.init();};this.init=function(){this.date=new DayPilot.Date(this.date);var $d=this.$n();if(this.resetTarget&&!$d){this.$o(this.date);}};this.close=function(){if(this.navigator){this.navigator.dispose();};this.div.innerHTML='';if(this.div&&this.div.parentNode===document.body){document.body.removeChild(this.div);}};this.$n=function(){var element=this.$p();if(!element){return this.date;};var $d=null;if(element.tagName==="INPUT"){$d=element.value;}else{$d=element.innerText;};if(!$d){return null;};var $e=DayPilot.Date.parse($d,$c.pattern);for(var i=0;i<$c.patterns.length;i++){if($e){return $e;};$e=DayPilot.Date.parse($d,$c.patterns[i]);};return $e;};this.$o=function($e){var element=this.$p();if(!element){return;};var $d=$e.toString($c.pattern,$c.locale);if(element.tagName==="INPUT"){element.value=$d;}else{element.innerHTML=$d;}};this.$m={};this.$m.locale=function(){return DayPilot.Locale.find($c.locale);};this.$p=function(){var id=this.target;var element=(id&&id.nodeType&&id.nodeType===1)?id:document.getElementById(id);return element;};this.show=function(){var element=this.$p();var navigator=this.navigator;var navigator=new DayPilot.Navigator($b);navigator.api=2;navigator.cssOnly=true;navigator.cssClassPrefix=$c.cssClassPrefix;navigator.weekStarts="Auto";navigator.locale=$c.locale;navigator.onTimeRangeSelected=function($f){$c.date=$f.start;var $g=$f.start;var $d=$g.toString($c.pattern,$c.locale);var $f={};$f.start=$g;$f.date=$g;$f.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeSelect==='function'){$c.onTimeRangeSelect($f);if($f.preventDefault.value){return;}};$c.$o($d);$c.close();if(typeof $c.onTimeRangeSelected==='function'){$c.onTimeRangeSelected($f);}};this.navigator=navigator;var $h=DayPilot.abs(element);var $i=element.offsetHeight;var $j=document.createElement("div");$j.style.position="absolute";$j.style.left=$h.x+"px";$j.style.top=($h.y+$i)+"px";var $k=document.createElement("div");$k.id=$b;$j.appendChild($k);document.body.appendChild($j);this.div=$j;var $l=$c.$n()||new DayPilot.Date().getDatePart();navigator.startDate=$l;navigator.selectionStart=$l;navigator.init();};this.prepare();};})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMenu==='undefined'){var DayPilotMenu=DayPilot.MenuVisible={};};(function(){if(typeof DayPilot.Menu!=='undefined'){return;};var DayPilotMenu={};DayPilotMenu.mouse=null;DayPilotMenu.menu=null;DayPilotMenu.clickRegistered=false;DayPilot.Menu=function($a){var $b=this;this.v='542';this.zIndex=10;this.useShadow=true;this.cssClassPrefix=null;this.cssOnly=true;this.menuTitle=null;this.showMenuTitle=false;this.ref=null;if($a&&DayPilot.isArray($a)){this.items=$a;};this.show=function(e,$c){var $d=(typeof e.value==='function')?e.value():null;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if(!$c){DayPilotMenu.menuClean();};this.submenu=null;if(DayPilotMenu.mouse===null)return;var $e=document.createElement("div");$e.style.position="absolute";$e.style.top="0px";$e.style.left="0px";$e.style.display='none';$e.style.overflow='hidden';$e.style.zIndex=this.zIndex+1;$e.className=this.applyCssClass('main');$e.onclick=function(){this.parentNode.removeChild(this);};if(!this.items||this.items.length===0){throw "No menu items defined.";};if(this.showMenuTitle){var title=document.createElement("div");title.innerHTML=this.menuTitle;title.className=this.applyCssClass("title");$e.appendChild(title);};for(var i=0;i<this.items.length;i++){var mi=this.items[i];var $f=document.createElement("div");if(typeof mi==='undefined'){continue;};if(mi.text==='-'){var $g=document.createElement("div");$f.appendChild($g);}else{var $h=document.createElement("a");$h.style.position='relative';$h.style.display="block";if(mi.href){$h.href=mi.href.replace(/\x7B0\x7D/gim,$d);$h.setAttribute("target",mi.target);}else if(mi.onclick){$h.item=mi;$h.onclick=mi.onclick;}else if(mi.command){var $i=function(mi,$h){return function(){var $j=$h.source;var $f=mi;$f.action=$f.action?$f.action:'CallBack';var $k=$j.calendar||$j.root;switch($j.type){case 'resource':$k.internal.resourceHeaderMenuClick($f.command,$j,$f.action);return;case 'selection':$k.internal.timeRangeMenuClick($f.command,$j,$f.action);return;default:$k.internal.eventMenuClick($f.command,$j,$f.action);return;}};};$h.onclick=$i(mi,$h);};$h.source=e;var $l=document.createElement("span");$l.innerHTML=mi.text;$h.appendChild($l);if(mi.image){var $m=document.createElement("img");$m.src=mi.image;$m.style.position='absolute';$m.style.top='0px';$m.style.left='0px';$h.appendChild($m);};var $n=function(mi,$h){return function(){var $j=$h.source;var $f=mi;setTimeout(function(){if($b.submenu&&$b.submenu.item===$f){return;};if($b.submenu&&$b.submenu.item!==$f){$b.submenu.menu.hide();$b.submenu=null;};if(!$f.items){return;};var $o=$b.cloneOptions();$o.items=$f.items;$b.submenu={};$b.submenu.menu=new DayPilot.Menu($o);$b.submenu.menu.show($j,true);$b.submenu.item=$f;},500);};};$h.onmouseover=$n(mi,$h);$f.appendChild($h);};$e.appendChild($f);};$e.onclick=function(e){window.setTimeout(function(){DayPilotMenu.menuClean();},100);};$e.onmousedown=function(e){if(!e)var e=window.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();};$e.oncontextmenu=function(){return false;};document.body.appendChild($e);$e.style.display='';var $p=$e.clientHeight;var $q=$e.offsetWidth;$e.style.display='none';var $r=document.documentElement.clientHeight;if(!this.ref){var x=DayPilotMenu.mouse.x+1;var y=DayPilotMenu.mouse.y+1;if(DayPilotMenu.mouse.clientY>$r-$p&&$r!==0){var $s=DayPilotMenu.mouse.clientY-($r-$p)+5;$e.style.top=(y-$s)+'px';}else{$e.style.top=y+'px';};var $t=document.documentElement.clientWidth;if(DayPilotMenu.mouse.clientX>$t-$q&&$t!==0){var $u=DayPilotMenu.mouse.clientX-($t-$q)+5;$e.style.left=(x-$u)+'px';}else{$e.style.left=x+'px';}}else{var $v=DayPilot.abs(this.ref);var $p=this.ref.offsetHeight;$e.style.left=$v.x+"px";$e.style.top=($v.y+$p)+"px";};$e.style.display='';this.addShadow($e);this.div=$e;if(!$c){DayPilot.Menu.active=this;};return;};this.applyCssClass=function($w){if(this.cssClassPrefix){return this.cssClassPrefix+(this.cssOnly?"_":"")+$w;}else{return "";}};this.cloneOptions=function(){var $o={};var $x=['cssOnly','cssClassPrefix','useShadow','zIndex'];for(var i=0;i<$x.length;i++){var p=$x[i];$o[p]=this[p];};return $o;};this.hide=function(){if(this.submenu){this.submenu.menu.hide();};this.removeShadow();if(this.div&&this.div.parentNode===document.body){document.body.removeChild(this.div);}};this.init=function(ev){DayPilotMenu.mouseMove(ev);};this.addShadow=function($y){if(!this.useShadow||this.cssOnly){return;};if(!$y){return;};if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $z=document.createElement('div');$z.style.position='absolute';$z.style.width=$y.offsetWidth+'px';$z.style.height=$y.offsetHeight+'px';$z.style.top=$y.offsetTop+i+'px';$z.style.left=$y.offsetLeft+i+'px';$z.style.zIndex=this.zIndex;$z.style.filter='alpha(opacity:10)';$z.style.opacity=0.1;$z.style.backgroundColor='#000000';document.body.appendChild($z);this.shadows.push($z);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};var $o=DayPilot.isArray($a)?null:$a;if($o){for(var name in $o){this[name]=$o[name];}};DayPilot.re(document.body,'mousemove',DayPilotMenu.mouseMove);if(!DayPilotMenu.clickRegistered){DayPilot.re(document,'mousedown',DayPilotMenu.menuClean);DayPilotMenu.clickRegistered=true;}};DayPilotMenu.menuClean=function(ev){if(typeof(DayPilot.Menu.active)==='undefined')return;if(DayPilot.Menu.active){DayPilot.Menu.active.hide();DayPilot.Menu.active=null;}};DayPilotMenu.mouseMove=function(ev){if(typeof(DayPilotMenu)==='undefined')return;DayPilotMenu.mouse=DayPilotMenu.mousePosition(ev);};DayPilotMenu.mousePosition=function(e){var $A=0;var $B=0;if(!e)var e=window.event;if(e.pageX||e.pageY){$A=e.pageX;$B=e.pageY;}else if(e.clientX||e.clientY){$A=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;$B=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;};var $C={};$C.x=$A;$C.y=$B;$C.clientY=e.clientY;$C.clientX=e.clientX;return $C;};DayPilot.MenuVisible.Menu=DayPilotMenu.Menu;if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof(DayPilot)==='undefined'){DayPilot={};};(function(){DayPilot.ModalStatic={};DayPilot.ModalStatic.list=[];DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var $a=this.list.pop();if($a){$a.hide();}}};DayPilot.ModalStatic.remove=function($b){var $c=DayPilot.ModalStatic.list;for(var i=0;i<$c.length;i++){if($c[i]===$b){$c.splice(i,1);return;}}};DayPilot.ModalStatic.close=function($d){DayPilot.ModalStatic.result($d);DayPilot.ModalStatic.hide();};DayPilot.ModalStatic.result=function(r){var $c=DayPilot.ModalStatic.list;if($c.length>0){$c[$c.length-1].result=r;}};DayPilot.ModalStatic.displayed=function($b){var $c=DayPilot.ModalStatic.list;for(var i=0;i<$c.length;i++){if($c[i]===$b){return true;}};return false;};var $e=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);DayPilot.Modal=function(){this.autoStretch=true;this.autoStretchFirstLoadOnly=false;this.border="10px solid #ccc";this.corners='Rounded';this.className=null;this.dragDrop=true;this.height=200;this.maxHeight=null;this.opacity=30;this.scrollWithPage=true;this.top=20;this.useIframe=true;this.width=500;this.zIndex=null;this.closed=null;var $f=this;this.id='_'+new Date().getTime()+'n'+(Math.random()*10);this.registered=false;this.start=null;this.coords=null;this.showHtml=function($g){if(DayPilot.ModalStatic.displayed(this)){throw "This modal dialog is already displayed.";};if(!this.div){this.create();};this.update();if(this.useIframe){var $h=function(p,$i){return function(){p.setInnerHTML(p.id+"iframe",$i);};};window.setTimeout($h(this,$g),0);}else{this.div.innerHTML=$g;};this.update();this.register();};this.rounded=function(){return this.corners&&this.corners.toLowerCase()==='rounded';};this.showUrl=function($j){if(DayPilot.ModalStatic.displayed(this)){throw "This modal dialog is already displayed.";};this.useIframe=true;if(!this.div){this.create();};this.re(this.iframe,"load",this.onIframeLoad);this.iframe.src=$j;this.update();this.register();};this.update=function(){var $k=window;var $l=document;var scrollY=$k.pageYOffset?$k.pageYOffset:(($l.documentElement&&$l.documentElement.scrollTop)?$l.documentElement.scrollTop:$l.body.scrollTop);var $m=function(){return $f.windowRect().y;};this.hideDiv.style.filter="alpha(opacity="+this.opacity+")";this.hideDiv.style.opacity="0."+this.opacity;this.hideDiv.style.backgroundColor="black";if(this.zIndex){this.hideDiv.style.zIndex=this.zIndex;};this.hideDiv.style.display='';window.setTimeout(function(){$f.hideDiv.onclick=function(){$f.hide();};},500);this.div.className=this.className;this.div.style.border=this.border;if(this.rounded()){this.div.style.MozBorderRadius="5px";this.div.style.webkitBorderRadius="5px";this.div.style.borderRadius="5px";};this.div.style.marginLeft='-'+Math.floor(this.width/2)+"px";this.div.style.position='absolute';this.div.style.top=(scrollY+this.top)+'px';this.div.style.width=this.width+'px';if(this.zIndex){this.div.style.zIndex=this.zIndex;};if(this.height){this.div.style.height=this.height+'px';};if(this.useIframe&&this.height){this.iframe.style.height=(this.height)+'px';};this.div.style.display='';DayPilot.ModalStatic.list.push(this);};this.onIframeLoad=function(){$f.iframe.contentWindow.modal=$f;if($f.autoStretch){$f.stretch();}};this.stretch=function(){var $m=function(){return $f.windowRect().y;};var $n=this.maxHeight||$m()-2*this.top;for(var h=this.height;h<$n&&this.hasScrollbar();h+=10){this.iframe.style.height=(h)+'px';this.div.style.height=h+'px';};if(this.autoStretchFirstLoadOnly){this.ue(this.iframe,"load",this.onIframeLoad);}};this.hasScrollbar=function(){var document=this.iframe.contentWindow.document;var $o=document.compatMode==='BackCompat'?document.body:document.documentElement;var $p=$o.scrollHeight>$o.clientHeight;var $q=$o.scrollWidth>$o.clientWidth;return $p;};this.windowRect=function(){var $l=document;if($l.compatMode==="CSS1Compat"&&$l.documentElement&&$l.documentElement.clientWidth){var x=$l.documentElement.clientWidth;var y=$l.documentElement.clientHeight;return{x:x,y:y};}else{var x=$l.body.clientWidth;var y=$l.body.clientHeight;return{x:x,y:y};}};this.register=function(){if(this.registered){return;};this.re(window,'resize',this.resize);this.re(window,'scroll',this.resize);if(this.dragDrop){this.re(document,'mousemove',this.drag);this.re(document,'mouseup',this.drop);};this.registered=true;};this.drag=function(e){if(!$f.coords){return;};var e=e||window.event;var $r=$f.mc(e);var x=$r.x-$f.coords.x;var y=$r.y-$f.coords.y;$f.div.style.marginLeft='0px';$f.div.style.top=($f.start.y+y)+"px";$f.div.style.left=($f.start.x+x)+"px";};this.drop=function(e){if(!$f.coords){return;};$f.unmaskIframe();$f.coords=null;};this.maskIframe=function(){if(!this.useIframe){return;};var $s=80;var $t=document.createElement("div");$t.style.backgroundColor="#ffffff";$t.style.filter="alpha(opacity="+$s+")";$t.style.opacity="0."+$s;$t.style.width="100%";$t.style.height=this.height+"px";$t.style.position="absolute";$t.style.left='0px';$t.style.top='0px';this.div.appendChild($t);this.mask=$t;};this.unmaskIframe=function(){if(!this.useIframe){return;};this.div.removeChild(this.mask);this.mask=null;};this.resize=function(){if(!$f.hideDiv){return;};if(!$f.div){return;};if($f.hideDiv.style.display==='none'){return;};if($f.div.style.display==='none'){return;};var scrollY=window.pageYOffset?window.pageYOffset:((document.documentElement&&document.documentElement.scrollTop)?document.documentElement.scrollTop:document.body.scrollTop);if(!$f.scrollWithPage){$f.div.style.top=(scrollY+$f.top)+'px';}};this.re=function(el,ev,$u){if(el.addEventListener){el.addEventListener(ev,$u,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$u);}};this.ue=function(el,ev,$u){if(el.removeEventListener){el.removeEventListener(ev,$u,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$u);}};this.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};this.abs=function(element){var r={x:element.offsetLeft,y:element.offsetTop};while(element.offsetParent){element=element.offsetParent;r.x+=element.offsetLeft;r.y+=element.offsetTop;};return r;};this.create=function(){var $v=document.createElement("div");$v.id=this.id+"hide";$v.style.position='fixed';$v.style.left="0px";$v.style.top="0px";$v.style.right="0px";$v.style.bottom="0px";$v.style.backgroundColor="black";$v.style.opacity=0.50;$v.oncontextmenu=function(){return false;};document.body.appendChild($v);var $w=document.createElement("div");$w.id=this.id+'popup';$w.style.position='fixed';$w.style.left='50%';$w.style.top='0px';$w.style.backgroundColor='white';$w.style.width="50px";$w.style.height="50px";if(this.dragDrop){$w.onmousedown=this.dragStart;};var $x=50;var $y=null;if(this.useIframe){$y=document.createElement("iframe");$y.id=this.id+"iframe";$y.name=this.id+"iframe";$y.frameBorder='0';$y.style.width='100%';$y.style.height=$x+'px';$w.appendChild($y);};document.body.appendChild($w);this.div=$w;this.iframe=$y;this.hideDiv=$v;};this.dragStart=function(e){$f.maskIframe();$f.coords=$f.mc(e||window.event);$f.start={x:$f.div.offsetLeft,y:$f.div.offsetTop};};this.setInnerHTML=function(id,$i){var $z=window.frames[id];var $l=$z.contentWindow||$z.document||$z.contentDocument;if($l.document){$l=$l.document;};$l.body.innerHTML=$i;};this.close=function($d){this.result=$d;this.hide();};this.hide=function(){if(this.div){this.div.style.display='none';this.hideDiv.style.display='none';if(!this.useIframe){this.div.innerHTML=null;}};DayPilot.ModalStatic.remove(this);if(this.closed){this.closed();}};};})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMonth==='undefined'){var DayPilotMonth=DayPilot.MonthVisible={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};var DayPilotMonth={};DayPilot.Month=function($b){this.v='542';this.nav={};this.nav.top=document.getElementById($b);var $c=this;this.id=$b;this.isMonth=true;this.api=2;this.hideUntilInit=true;this.startDate=new DayPilot.Date();this.width='100%';this.cellHeight=100;this.cellMarginBottom=0;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.doubleClickTimeout=300;this.eventFontColor="#000000";this.eventFontFamily="Tahoma";this.eventFontSize="11px";this.headerBackColor='#ECE9D8';this.headerFontColor='#000000';this.headerFontFamily="Tahoma";this.headerFontSize="10pt";this.headerHeight=20;this.heightSpec="Auto";this.weekStarts=1;this.innerBorderColor='#cccccc';this.borderColor='black';this.eventHeight=25;this.cellHeaderHeight=16;this.numberFormat="0.00";this.clientState={};this.afterRender=function(){};this.backColor='#FFFFD5';this.nonBusinessBackColor='#FFF4BC';this.cellHeaderBackColor='';this.cellHeaderFontColor='#000000';this.cellHeaderFontFamily='Tahoma';this.cellHeaderFontSize='10pt';this.cssOnly=true;this.eventBackColor='White';this.eventBorderColor='Black';this.eventCorners="Regular";this.eventFontColor='#000000';this.eventFontFamily='Tahoma';this.eventFontSize='11px';this.cellWidth=14.285;this.lineSpace=1;this.locale="en-us";this.messageHideAfter=5000;this.notifyCommit='Immediate';this.eventMoveToPosition=false;this.eventTextLayer='Top';this.eventStartTime=true;this.eventEndTime=true;this.eventTextAlignment='Center';this.eventTextLeftIndent=20;this.showWeekend=true;this.cellMode=false;this.shadowType="Fill";this.eventTimeFontColor='gray';this.eventTimeFontFamily='Tahoma';this.eventTimeFontSize='8pt';this.viewType='Month';this.weeks=1;this.eventClickHandling='Enabled';this.eventDoubleClickHandling='Enabled';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.headerClickHandling="Enabled";this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling='Enabled';this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.$1F={};this.$1F.events={};this.events={};this.autoRefreshCount=0;this.$1G=function($d,$e){var $d=eval("("+$d+")");if($d.BubbleGuid){var $f=$d.BubbleGuid;var $g=this.bubbles[$f];delete this.bubbles[$f];$c.$1H();if(typeof $d.Result.BubbleHTML!=='undefined'){$g.updateView($d.Result.BubbleHTML,$g);};return;};if($d.CallBackRedirect){document.location.href=$d.CallBackRedirect;return;};if(typeof $d.ClientState!=='undefined'){$c.clientState=$d.ClientState;};if($d.UpdateType==="None"){$c.$1I($d.CallBackData,true);if($d.Message){$c.message($d.Message);};return;};if($d.VsUpdate){var $h=document.createElement("input");$h.type='hidden';$h.name=$c.id+"_vsupdate";$h.id=$h.name;$h.value=$d.VsUpdate;$c.vsph.innerHTML='';$c.vsph.appendChild($h);};$c.events.list=$d.Events;if(typeof $d.TagFields!=='undefined'){$c.tagFields=$d.TagFields;};if(typeof $d.SortDirections!=='undefined'){$c.sortDirections=$d.SortDirections;};if($d.UpdateType==="Full"){$c.cellProperties=$d.CellProperties;$c.headerProperties=$d.HeaderProperties;$c.startDate=$d.StartDate;if(typeof $d.ShowWeekend!=='undefined'){$c.showWeekend=$d.ShowWeekend;};$c.headerBackColor=$d.HeaderBackColor?$d.HeaderBackColor:$c.headerBackColor;$c.backColor=$d.BackColor?$d.BackColor:$c.backColor;$c.nonBusinessBackColor=$d.NonBusinessBackColor?$d.NonBusinessBackColor:$c.nonBusinessBackColor;$c.locale=$d.Locale?$d.Locale:$c.locale;$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat;if(typeof $d.WeekStarts!=='undefined'){$c.weekStarts=$d.WeekStarts;};$c.hashes=$d.Hashes;};$c.multiselect.clear(true);$c.multiselect.initList=$d.SelectedEvents;$c.$1J();$c.$1K();$c.$1L();if($d.UpdateType==="Full"){$c.$1M();$c.$1N();};$c.$1O();$c.$1P();$c.$1Q();$c.$1I($d.CallBackData,true);$c.$1R();if($d.Message){$c.message($d.Message);}};this.$1I=function($i,$j){var $k=function($i,$l){return function(){if($c.$1S()){if(typeof $c.onAfterRender==='function'){var $m={};$m.isCallBack=$l;$m.data=$i;$c.onAfterRender($m);}}else{if($c.afterRender){$c.afterRender($i,$l);}}};};window.setTimeout($k($i,$j),0);};this.$1S=function(){return $c.api===2;};this.$1T=function($n){if(this.cssClassPrefix){return this.cssClassPrefix+$n;}else{return "";}};this.$1L=function(){if(!this.events.list){return;};if(typeof this.onBeforeEventRender==='function'){var length=this.events.list.length;for(var i=0;i<length;i++){this.$1U(i);}};if(this.cellMode){this.$1V();}else{this.$1W();}};this.$1H=function(){};this.$1W=function(){if(!this.events.list){return;};for(var x=0;x<this.events.list.length;x++){var e=this.events.list[x];e.start=new DayPilot.Date(e.start).d;e.end=new DayPilot.Date(e.end).d;if(e.start.getTime()>e.end.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $o=this.rows[i];if($o.belongsHere(e)){var ep=new DayPilot.Event(e,$c);$o.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$1F.events[x];}}}};for(var ri=0;ri<this.rows.length;ri++){var $o=this.rows[ri];$o.events.sort(this.$1X);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$o.events[ei];var $p=$o.getStartColumn(ev);var $q=$o.getWidth(ev);$o.putIntoLine(ev,$p,$q,ri);}}};this.$1V=function(){this.cellEvents=[];for(var x=0;x<this.$1Y();x++){this.cellEvents[x]=[];for(var y=0;y<this.rows.length;y++){var $r={};var d=DayPilot.Date.addDays(this.firstDate,y*7+x);$r.start=d;$r.end=DayPilot.Date.addDays(d,1);$r.events=[];this.cellEvents[x][y]=$r;}};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.start);if(e.start.getTime()>e.end.getTime()){continue;};for(var x=0;x<this.$1Y();x++){for(var y=0;y<this.rows.length;y++){var $r=this.cellEvents[x][y];if(e.start.getTime()>=$r.start.getTime()&&e.start.getTime()<$r.end.getTime()){var ep=new DayPilot.Event(e,$c);$r.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$1F.events[i];}}}}};for(var x=0;x<this.$1Y();x++){for(var y=0;y<this.rows.length;y++){var $r=this.cellEvents[x][y];$r.events.sort(this.$1X);}}};this.$1J=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.$1Q=function(){this.$1F.events={};if(this.cellMode){this.$1Z();}else{this.$20();};this.multiselect.redraw();};this.$1Z=function(){this.elements.events=[];for(var x=0;x<this.$1Y();x++){for(var y=0;y<this.rows.length;y++){var $r=this.cellEvents[x][y];var $s=this.cells[x][y];for(var i=0;i<$r.events.length;i++){var ep=$r.events[i];ep.part.colStart=x;ep.part.colWidth=1;ep.part.row=y;ep.part.line=i;ep.part.startsHere=true;ep.part.endsHere=true;this.$21(ep);}}}};this.$20=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $o=this.rows[ri];for(var li=0;li<$o.lines.length;li++){var $t=$o.lines[li];for(var pi=0;pi<$t.length;pi++){this.$21($t[pi]);}}}};this.$22=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $u=a.start().ticks-b.start().ticks;if($u!==0){return $u;};var $v=b.end().ticks-a.end().ticks;return $v;};this.$1X=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $c.$22(a,b);};var $d=0;var i=0;while($d===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$d=0;}else{$d=$c.$23(a.data.sort[i],b.data.sort[i],$c.sortDirections[i]);};i++;};return $d;};this.$23=function(a,b,$w){var $x=($w!=="desc");var $y=$x?-1:1;var $z=-$y;if(a===null&&b===null){return 0;};if(b===null){return $z;};if(a===null){return $y;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$y:$z;};this.$24=function(x,y,$t,$A,$B,e){if(!$B){$B=0;};var $C=$A;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$A;if(this.eventMoveToPosition){$C=1;this.shadow.position=$t;};var $D=y*7+x-$B;if($D<0){$C+=$D;x=0;y=0;};var $E=$B;while($E>=7){y--;$E-=7;};if($E>x){var $F=7-this.$1Y();if($E>(x+$F)){y--;x=x+7-$E;}else{$C=$C-$E+x;x=0;}}else{x-=$E;};if(y<0){y=0;x=0;};var $G=null;if(DayPilotMonth.resizingEvent){$G='w-resize';}else if(DayPilotMonth.movingEvent){$G="move";};this.nav.top.style.cursor=$G;while($C>0&&y<this.rows.length){var $H=Math.min(this.$1Y()-x,$C);var $o=this.rows[y];var top=this.$25(y);var $I=$o.getHeight();if(this.eventMoveToPosition){top=this.$26(y,$t);$I=2;};var $J=document.createElement("div");$J.setAttribute("unselectable","on");$J.style.position='absolute';$J.style.left=(this.$27()*x)+'%';$J.style.width=(this.$27()*$H)+'%';$J.style.top=(top)+'px';$J.style.height=($I)+'px';$J.style.cursor=$G;var $K=document.createElement("div");$K.setAttribute("unselectable","on");$J.appendChild($K);if(this.cssOnly){$J.className=this.$1T("_shadow");$K.className=this.$1T("_shadow_inner");};if(!this.cssOnly){$K.style.position="absolute";$K.style.top="0px";$K.style.right="0px";$K.style.left="0px";$K.style.bottom="0px";if(this.shadowType==='Fill'){$K.style.backgroundColor="#aaaaaa";$K.style.opacity=0.5;$K.style.filter="alpha(opacity=50)";if(e&&e.event){$K.style.overflow='hidden';$K.style.fontSize=this.eventFontSize;$K.style.fontFamily=this.eventFontFamily;$K.style.color=this.eventFontColor;$K.innerHTML=e.event.client.innerHTML()?e.event.client.innerHTML():e.event.text();}}else{$K.style.border='2px dotted #666666';}};var $L=this.nav.events;$L.appendChild($J);this.shadow.list.push($J);$C-=($H+7-this.$1Y());x=0;y++;}};this.$28=function(){if(this.shadow){var $L=this.nav.events;for(var i=0;i<this.shadow.list.length;i++){$L.removeChild(this.shadow.list[i]);};this.shadow=null;this.nav.top.style.cursor='';}};this.$26=function($o,$t){var top=0;for(var i=0;i<$o;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$t*$M.lineHeight();return top;};this.$29=function(x,y){return DayPilot.Date.addDays(this.firstDate,y*7+x);};this.$1U=function(i){var $N=this.$1F.events;var $i=this.events.list[i];var $O={};for(var name in $i){$O[name]=$i[name];};if(typeof this.onBeforeEventRender==='function'){var $m={};$m.e=$O;this.onBeforeEventRender($m);};$N[i]=$O;};this.$21=function(ep,$P){var $P=this.cellMode;var $o=ep.part.row;var $t=ep.part.line;var $p=ep.part.colStart;var $q=ep.part.colWidth;var $N=ep.cache||ep.data;var $Q=$P?0:this.$27()*($p);var $A=$P?100:this.$27()*($q);var top=$P?$t*$M.lineHeight():this.$26($o,$t);var e=document.createElement("div");e.setAttribute("unselectable","on");e.style.height=this.eventHeight+'px';if(!this.cssOnly){e.style.fontFamily=this.eventFontFamily;}else{e.style.position="relative";e.style.overflow="hidden";e.className=this.$1T("_event");};if($N.cssClass){DayPilot.Util.addClass(e,$N.cssClass);};e.event=ep;if($P){e.style.marginRight="2px";e.style.marginBottom="2px";}else{e.style.width=$A+'%';e.style.position='absolute';e.style.left=$Q+'%';e.style.top=top+'px';};if(this.showToolTip&&$N.toolTip){e.title=$N.toolTip;};e.onclick=this.$2a;;e.ondblclick=this.$2b;e.oncontextmenu=this.$2c;e.onmousedown=this.$2d;e.onmousemove=this.$2e;e.onmouseout=this.$2f;e.ontouchstart=$R.onEventTouchStart;e.ontouchmove=$R.onEventTouchMove;e.ontouchend=$R.onEventTouchEnd;if(!this.cssOnly){var back=(ep.client.backColor())?ep.client.backColor():this.eventBackColor;var $S=document.createElement("div");$S.setAttribute("unselectable","on");$S.style.height=(this.eventHeight-2)+'px';$S.style.overflow='hidden';$S.style.position="absolute";$S.style.left="2px";$S.style.right="2px";$S.style.paddingLeft='2px';$S.style.border='1px solid '+$c.eventBorderColor;$S.style.backgroundColor=back;$S.style.fontFamily="";$S.className=this.$1T("event");if($M.rounded()){$S.style.MozBorderRadius="5px";$S.style.webkitBorderRadius="5px";$S.style.borderRadius="5px";};var $K=[];var $T=this.eventTextLayer==='Top';var $U=this.eventStartTime;var $V=this.eventEndTime;var $W=this.eventTextAlignment;var $X=this.eventTextLeftIndent;var $Y=this.eventTextLayer==='Floats';if($Y){if($U){$K.push("<div unselectable='on' style='float:left; font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push("'>");$K.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));$K.push("</div>");};if($V){$K.push("<div unselectable='on' style='float:right;font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push("'>");$K.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));$K.push("</div>");};$K.push("<div unselectable='on' style='");$K.push("font-size:");$K.push(this.eventFontSize);$K.push(";color:");$K.push(this.eventFontColor);$K.push(";font-family:");$K.push(this.eventFontFamily);if($W==='Center'){$K.push(";text-align:center;");};$K.push("'>");if(ep.client.innerHTML()){$K.push(ep.client.innerHTML());}else{$K.push(ep.text());};$K.push("</div>");}else{if($U){if($W==='Left'){$K.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push(";text-align:right;");$K.push("width:");$K.push($X-4);$K.push("px;");$K.push("><span style='background-color:");}else{$K.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push(";'><span style='background-color:");};$K.push(back);$K.push("' unselectable='on'>");if(ep.part.startsHere){$K.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));}else{$K.push("~");};$K.push("</span></div></div>");};if($V){$K.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push(";'><span style='background-color:");$K.push(back);$K.push("' unselectable='on'>");if(ep.part.endsHere){$K.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));}else{$K.push("~");};$K.push("</span></div></div>");};if($W==='Left'){var $Q=$U?$X:0;$K.push("<div style='margin-top:0px;height:");$K.push(this.eventHeight-2);$K.push("px;");$K.push(";overflow:hidden;text-align:left;padding-left:");$K.push($Q);$K.push("px;font-size:");$K.push(this.eventFontSize);$K.push(";color:");$K.push(this.eventFontColor);$K.push(";font-family:");$K.push(this.eventFontFamily);$K.push("' unselectable='on'>");if(ep.client.innerHTML()){$K.push(ep.client.innerHTML());}else{$K.push(ep.text());};$K.push("</div>");}else if($W==='Center'){if($T){$K.push("<div style='position:absolute; text-align:center; width: 98%; height:1px; font-size: 1px;'>");$K.push("<span style='background-color:");$K.push(back);$K.push(";font-size:");$K.push(this.eventFontSize);$K.push(";color:");$K.push(this.eventFontColor);$K.push(";font-family:");$K.push(this.eventFontFamily);$K.push("' unselectable='on'>");if(ep.client.innerHTML()){$K.push(ep.client.innerHTML());}else{$K.push(ep.text());};$K.push("</span>");$K.push("</div>");}else{$K.push("<div style='margin-top:0px;height:");$K.push(this.eventHeight-2);$K.push("px;");$K.push(";overflow:hidden;text-align:center;font-size:");$K.push(this.eventFontSize);$K.push(";color:");$K.push(this.eventFontColor);$K.push(";font-family:");$K.push(this.eventFontFamily);$K.push("' unselectable='on'>");if(ep.client.innerHTML()){$K.push(ep.client.innerHTML());}else{$K.push(ep.text());};$K.push("</div>");}}};$S.innerHTML=$K.join('');e.appendChild($S);}else{if(!ep.part.startsHere){DayPilot.Util.addClass(e,this.$1T("_event_continueleft"));};if(!ep.part.endsHere){DayPilot.Util.addClass(e,this.$1T("_event_continueright"));};var $S=document.createElement("div");$S.setAttribute("unselectable","on");$S.className=this.$1T("_event_inner");if(ep.client.innerHTML()){$S.innerHTML=ep.client.innerHTML();}else{$S.innerHTML=ep.text();};if($N.backColor){$S.style.background=$N.backColor;};e.appendChild($S);};if($N.areas){var $Z=$N.areas;for(var i=0;i<$Z.length;i++){var $00=$Z[i];if($00.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea(e,ep,$00);e.appendChild(a);}};this.elements.events.push(e);if($P){this.cells[$p][$o].body.appendChild(e);}else{this.nav.events.appendChild(e);};if($c.multiselect.$2g(e.event)){$c.multiselect.add(e.event,true);};var $s=e;if($c.$1S()){if(typeof $c.onAfterEventRender==='function'){var $m={};$m.e=$s.event;$m.div=$s;$c.onAfterEventRender($m);}}else{if($c.afterEventRender){$c.afterEventRender($s.event,$s);}}};this.$2a=function(ev){if($R.start){return;};$c.$2h(this,ev);};this.$2b=function(ev){$c.$2i(this,ev);};this.$2e=function(ev){var e=this;var ep=e.event;if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $B=DayPilot.mo3(e,ev);if(!$B){return;};DayPilot.Areas.showAreas(e,e.event);if($c.cssOnly){$c.$2j(e.event).each(function($s){DayPilot.Util.addClass($s,$c.$1T("_event_hover"));});};var $01=6;if(!$c.cellMode&&$B.x<=$01&&ep.client.resizeEnabled()){if(ep.part.startsHere){e.style.cursor="w-resize";e.dpBorder='left';}else{e.style.cursor='not-allowed';}}else if(!$c.cellMode&&e.clientWidth-$B.x<=$01&&ep.client.resizeEnabled()){if(ep.part.endsHere){e.style.cursor="e-resize";e.dpBorder='right';}else{e.style.cursor='not-allowed';}}else{e.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){if(!DayPilotMonth.movingEvent&&!DayPilotMonth.resizingEvent){var $02=this.$2k&&$B.x===this.$2k.x&&$B.y===this.$2k.y;if(!$02){this.$2k=$B;$c.bubble.showEvent(e.event);}}else{DayPilotBubble.hideActive();}}};this.$2f=function(ev){var e=this;if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){$c.bubble.hideOnMouseOut();};e.style.cursor='';if($c.cssOnly){$c.$2j(e.event).each(function($s){DayPilot.Util.removeClass($s,$c.$1T("_event_hover"));});};DayPilot.Areas.hideAreas(e,ev);};this.$2c=function(){var e=this;$c.$2l(e.event);return false;};this.$2d=function(ev){if($R.start){return;};var e=this;var ep=e.event;var $o=ep.part.row;var $p=ep.part.colStart;var $t=ep.part.line;var $q=ep.part.colWidth;ev=ev||window.event;var $03=ev.which||ev.button;ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($03===1){if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){DayPilotBubble.hideActive();};DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $04={};$04.start={};$04.start.x=$p;$04.start.y=$o;$04.event=e.event;$04.width=DayPilot.Date.daysSpan($04.event.start().d,$04.event.end().d)+1;$04.direction=this.style.cursor;DayPilotMonth.resizingEvent=$04;}else if(this.style.cursor==='move'||ep.client.moveEnabled()){$c.$28();var $05=DayPilot.mo2($c.nav.events,ev);if(!$05){return;};var $r=$c.$2m($05.x,$05.y);if(!$r){return;};var $D=DayPilot.Date.daysDiff(ep.start(),$c.rows[$o].start);var $B=($r.y*7+$r.x)-($o*7+$p);if($D){$B+=$D;};var $06={};$06.start={};$06.start.x=$p;$06.start.y=$o;$06.start.line=$t;$06.offset=$c.eventMoveToPosition?0:$B;$06.colWidth=$q;$06.event=e.event;$06.coords=$05;DayPilotMonth.movingEvent=$06;}}};this.temp={};this.temp.getPosition=function(){if(!$c.coords){return null;};var $r=$c.$2m($c.coords.x,$c.coords.y);if(!$r){return null;};var d=new DayPilot.Date($c.$29($r.x,$r.y));var $r={};$r.start=d;$r.end=d.addDays(1);return $r;};this.$2n={};var $R=$c.$2n;$R.active=false;$R.start=false;$R.timeouts=[];$R.onEventTouchStart=function(ev){if($R.active||$R.start){return;};$R.clearTimeouts();$R.start=true;$R.active=false;var $s=this;var $07=500;$R.timeouts.push(window.setTimeout(function(){$R.active=true;$R.start=false;var $05=$R.relativeCoords(ev);$R.startMoving($s,$05);ev.preventDefault();},$07));ev.stopPropagation();};$R.onEventTouchMove=function(ev){$R.clearTimeouts();$R.start=false;};$R.onEventTouchEnd=function(ev){$R.clearTimeouts();if($R.start){$c.$2o(this,false);};window.setTimeout(function(){$R.start=false;$R.active=false;},500);};$R.onMainTouchStart=function(ev){if($R.active||$R.start){return;};$R.clearTimeouts();$R.start=true;$R.active=false;var $07=500;$R.timeouts.push(window.setTimeout(function(){$R.active=true;$R.start=false;ev.preventDefault();var $05=$R.relativeCoords(ev);$R.startRange($05);},$07));};$R.onMainTouchMove=function(ev){$R.clearTimeouts();$R.start=false;if($R.active){ev.preventDefault();var $05=$R.relativeCoords(ev);if($R.moving){$R.updateMoving($05);return;};if($R.range){$R.updateRange($05);}}};$R.onMainTouchEnd=function(ev){$R.clearTimeouts();if($R.active){if($R.moving){var $08=$R.moving;var e=$R.moving.event;var $09=$c.shadow.start;var $0a=$c.shadow.position;var $B=$R.moving.offset;$c.$28();$R.moving=null;$c.$2p(e,$09.x,$09.y,$B,ev,$0a);};if($R.range){var $0b=$R.range;var $09=new DayPilot.Date($c.$29($0b.from.x,$0b.from.y));var end=$09.addDays($0b.width);$R.range=null;$c.$2q($09,end);}};window.setTimeout(function(){$R.start=false;$R.active=false;},500);};$R.clearTimeouts=function(){for(var i=0;i<$R.timeouts.length;i++){clearTimeout($R.timeouts[i]);};$R.timeouts=[];};$R.relativeCoords=function(ev){var $L=$c.nav.events;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $05={x:x,y:y};var $0c=DayPilot.abs($L);var $05={x:x-$0c.x,y:y-$0c.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $05;};$R.startMoving=function($s,$05){$c.$28();ep=$s.event;var $r=$c.$2m($05.x,$05.y);if(!$r){return;};var $D=DayPilot.Date.daysDiff(ep.start(),$c.rows[ep.part.row].start);var $B=($r.y*7+$r.x)-(ep.part.row*7+ep.part.colStart);if($D){$B+=$D;};var $06={};$06.start={};$06.start.x=ep.part.colStart;$06.start.y=ep.part.row;$06.start.line=ep.part.line;$06.offset=$c.eventMoveToPosition?0:$B;$06.colWidth=ep.part.colWidth;$06.event=ep;$06.coords=$05;$R.moving=$06;$R.updateMoving($05);};$R.updateMoving=function($05){var $r=$c.$2m($05.x,$05.y);if(!$r){return;};var $0d=$c.$2r($r);$c.$28();var event=$R.moving.event;var $B=$R.moving.offset;var $A=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($A<1){$A=1;};$c.$24($r.x,$r.y,$0d,$A,$B,event);};$R.startRange=function($05){var $r=$c.$2m($05.x,$05.y);if(!$r){return;};$c.$28();var $0e={};$0e.start={};$0e.start.x=$r.x;$0e.start.y=$r.y;$0e.x=$r.x;$0e.y=$r.y;$0e.width=1;$R.range=$0e;$R.updateRange($05);};$R.updateRange=function($05){var $r=$c.$2m($05.x,$05.y);if(!$r){return;};$c.$28();var $09=$R.range.start;var $0f=$09.y*7+$09.x;var $0g=$r.y*7+$r.x;var $A=Math.abs($0g-$0f)+1;if($A<1){$A=1;};var $0h=$0f<$0g?$09:$r;$R.range.width=$A;$R.range.from={x:$0h.x,y:$0h.y};$c.$24($0h.x,$0h.y,0,$A,0,null);};this.isWeekend=function($0i){var $0j=0;var $0k=6;if($0i.dayOfWeek()===$0j){return true;};if($0i.dayOfWeek()===$0k){return true;};return false;};this.$2s=function(){var $0l=this.startDate.lastDayOfMonth();if(this.showWeekend){return $0l;}while(this.isWeekend($0l)){$0l=$0l.addDays(-1);};return $0l;};this.$1K=function(){if(typeof this.startDate==='string'){this.startDate=DayPilot.Date.fromStringSortable(this.startDate);};if(this.viewType==='Month'){this.startDate=this.startDate.firstDayOfMonth();}else{this.startDate=this.startDate.getDatePart();};this.firstDate=this.startDate.firstDayOfWeek($M.getWeekStart());if(!this.showWeekend){var $0m=this.startDate.addMonths(-1).getMonth();var $0n=new DayPilot.Date(this.firstDate).addDays(6);while(this.isWeekend($0n)){$0n=$0n.addDays(-1);};if($0n.getMonth()===$0m){this.firstDate=DayPilot.Date.addDays(this.firstDate,7);}};var $0o=this.startDate;var $0p;if(this.viewType==='Month'){var $0q=this.$2s().d;var $0r=DayPilot.Date.daysDiff(this.firstDate,$0q)+1;$0p=Math.ceil($0r/7);}else{$0p=this.weeks;};this.days=$0p*7;this.rows=[];for(var x=0;x<$0p;x++){var r={};r.start=DayPilot.Date.addDays(this.firstDate,x*7);r.end=DayPilot.Date.addDays(r.start,this.$1Y());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function(ev){if(ev.end.getTime()===ev.start.getTime()&&ev.start.getTime()===this.start.getTime()){return true;};return !(ev.end.getTime()<=this.start.getTime()||ev.start.getTime()>=this.end.getTime());};r.getPartStart=function(ep){return DayPilot.Date.max(this.start,ep.start());};r.getPartEnd=function(ep){return DayPilot.Date.min(this.end,ep.end());};r.getStartColumn=function(ep){var $0s=this.getPartStart(ep);return DayPilot.Date.daysDiff(this.start,$0s);};r.getWidth=function(ep){return DayPilot.Date.daysSpan(this.getPartStart(ep),this.getPartEnd(ep))+1;};r.putIntoLine=function(ep,$p,$q,$o){var $0t=this;for(var i=0;i<this.lines.length;i++){var $t=this.lines[i];if($t.isFree($p,$q)){$t.addEvent(ep,$p,$q,$o,i);return i;}};var $t=[];$t.isFree=function($p,$q){var $0u=true;for(var i=0;i<this.length;i++){var ep=this[i];if(!($p+$q-1<ep.part.colStart||$p>ep.part.colStart+ep.part.colWidth-1)){$0u=false;}};return $0u;};$t.addEvent=function(ep,$p,$q,$o,$0v){ep.part.colStart=$p;ep.part.colWidth=$q;ep.part.row=$o;ep.part.line=$0v;ep.part.startsHere=$0t.start.getTime()<=ep.start().getTime();ep.part.endsHere=$0t.end.getTime()>=ep.end().getTime();this.push(ep);};$t.addEvent(ep,$p,$q,$o,this.lines.length);this.lines.push($t);return this.lines.length-1;};r.getStart=function(){var $09=0;for(var i=0;i<$c.rows.length&&i<this.index;i++){$09+=$c.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$M.lineHeight()+$c.cellHeaderHeight+$c.cellMarginBottom,this.calendar.cellHeight);};this.rows.push(r);};this.endDate=DayPilot.Date.addDays(this.firstDate,$0p*7);};this.$2t=function(){switch(this.heightSpec){case "Auto":var $I=this.headerHeight;for(var i=0;i<this.rows.length;i++){$I+=this.rows[i].getHeight();};return $I;case "Fixed":return this.height;}};this.$2u=function($09,end){var $0w=(end.y*7+end.x)-($09.y*7+$09.x);return $0w+1;};this.$2v=function(){var $0x=this.nav.top;this.nav.top.dp=this;$0x.setAttribute("unselectable","on");$0x.style.MozUserSelect='none';$0x.style.KhtmlUserSelect='none';$0x.style.WebkitUserSelect='none';$0x.style.position='relative';if(this.width){$0x.style.width=this.width;};$0x.onselectstart=function(e){return false;};if(this.cssOnly){$0x.className=this.$1T("_main");}else{$0x.style.border="1px solid "+this.borderColor;};if(this.hideUntilInit){$0x.style.visibility='hidden';};$0x.onmousemove=this.$2w;$0x.ontouchstart=$R.onMainTouchStart;$0x.ontouchmove=$R.onMainTouchMove;$0x.ontouchend=$R.onMainTouchEnd;this.vsph=document.createElement("div");this.vsph.style.display='none';this.nav.top.appendChild(this.vsph);var $0y=document.createElement("div");$0y.style.position="relative";$0y.style.height=this.headerHeight+"px";$0y.oncontextmenu=function(){return false;};this.nav.top.appendChild($0y);this.nav.header=$0y;var $0z=document.createElement("div");$0z.style.position="relative";$0z.style.zoom="1";if(this.heightSpec==="Parent100Pct"||this.heightSpec==='Fixed'){$0z.style.overflow="auto";};var $0A=document.createElement("div");$0A.style.position="relative";$0z.appendChild($0A);this.nav.top.appendChild($0z);this.nav.scrollable=$0z;this.nav.events=$0A;};this.$2w=function(ev){$c.coords=DayPilot.mo2($c.nav.events,ev);var $05=$c.coords;if(!$05){return;};var $r=$c.$2m($05.x,$05.y);if(!$r){return;};if(DayPilotMonth.resizingEvent){$c.$28();var $04=DayPilotMonth.resizingEvent;var $0B=$04.start;var $A,$09;if($04.direction==='w-resize'){$09=$r;var $0C=$04.event.end().d;if(DayPilot.Date.getDate($0C).getTime()===$0C.getTime()){$0C=DayPilot.Date.addDays($0C,-1);};var end=$c.$2x($0C);$A=$c.$2u($r,end);}else{$09=$c.$2x($04.event.start().d);$A=$c.$2u($09,$r);};if($A<1){$A=1;};$c.$24($09.x,$09.y,0,$A);}else if(DayPilotMonth.movingEvent){if($05.x===DayPilotMonth.movingEvent.coords.x&&$05.y===DayPilotMonth.movingEvent.coords.y){return;};var $0d=$c.$2r($r);$c.$28();var event=DayPilotMonth.movingEvent.event;var $B=DayPilotMonth.movingEvent.offset;var $A=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($A<1){$A=1;};$c.$24($r.x,$r.y,$0d,$A,$B,event);}else if(DayPilotMonth.timeRangeSelecting){DayPilotMonth.cancelCellClick=true;$c.$28();var $09=DayPilotMonth.timeRangeSelecting;var $0f=$09.y*7+$09.x;var $0g=$r.y*7+$r.x;var $A=Math.abs($0g-$0f)+1;if($A<1){$A=1;};var $0h=$0f<$0g?$09:$r;DayPilotMonth.timeRangeSelecting.from={x:$0h.x,y:$0h.y};DayPilotMonth.timeRangeSelecting.width=$A;DayPilotMonth.timeRangeSelecting.moved=true;$c.$24($0h.x,$0h.y,0,$A,0,null);}};this.$2r=function($r){var y=$r.relativeY;var $o=$c.rows[$r.y];var top=$c.cellHeaderHeight;var lh=$M.lineHeight();var $0D=$o.lines.length;for(var i=0;i<$o.lines.length;i++){var $t=$o.lines[i];if($t.isFree($r.x,1)){$0D=i;break;}};var $0E=Math.floor((y-top+lh/ 2)/ lh);var $0E=Math.min($0D,$0E);var $0E=Math.max(0,$0E);return $0E;};this.message=function($0F,$0G,$0H,$0I){if($0F===null){return;};var $0G=$0G||this.messageHideAfter||2000;var $0H=$0H||"#ffffff";var $0I=$0I||"#000000";var $0J=0.8;var top=this.headerHeight;var $Q=1;var $0K=0;var $s;if(!this.nav.message){$s=document.createElement("div");$s.setAttribute("unselectable","on");$s.style.position="absolute";$s.style.right="0px";$s.style.left="0px";$s.style.top=top+"px";$s.style.opacity=$0J;$s.style.filter="alpha(opacity="+($0J*100)+")";$s.style.display='none';$s.onmousemove=function(){if($c.messageTimeout){clearTimeout($c.messageTimeout);}};$s.onmouseout=function(){if($c.nav.message.style.display!=='none'){$c.messageTimeout=setTimeout($c.$2y,500);}};if(!this.cssOnly){$s.style.textAlign="left";};var $S=document.createElement("div");$S.setAttribute("unselectable","on");$S.onclick=function(){$c.nav.message.style.display='none';};if(!this.cssOnly){$S.style.padding="5px";}else{$S.className=this.$1T("_message");};$s.appendChild($S);var close=document.createElement("div");close.setAttribute("unselectable","on");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($c.nav.scroll)+5)+"px";close.style.color=$0H;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$1T("_message_close");};close.onclick=function(){$c.nav.message.style.display='none';};$s.appendChild(close);this.nav.top.appendChild($s);this.nav.message=$s;};var $0L=function(){$c.nav.message.style.opacity=$0J;var $S=$c.nav.message.firstChild;if(!$c.cssOnly){$S.style.backgroundColor=$0I;$S.style.color=$0H;};$S.innerHTML=$0F;var end=function(){$c.messageTimeout=setTimeout($c.$2y,$0G);};DayPilot.fade($c.nav.message,0.2,end);};clearTimeout($c.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($c.nav.message,-0.2,$0L);}else{$0L();}};this.message.show=function($0F){$c.message($0F);};this.message.hide=function(){$c.$2y();};this.$2y=function(){var end=function(){$c.nav.message.style.display='none';};DayPilot.fade($c.nav.message,-0.2,end);};this.$2z=function(ev){if($c.heightSpec==="Parent100Pct"){$c.$1O();}};this.$1O=function(){if(this.heightSpec==='Parent100Pct'){this.nav.top.style.height="100%";var $I=this.nav.top.clientHeight;this.nav.scrollable.style.height=($I-this.headerHeight)+"px";}else{this.nav.top.style.height=this.$2t()+'px';};for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.$25(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}};this.$2A();};this.$2m=function(x,y){var $0M=Math.floor(this.nav.top.clientWidth/this.$1Y());var $0N=Math.min(Math.floor(x/$0M),this.$1Y()-1);var $o=null;var $I=this.headerHeight;var $0O=0;if(y<$I){return null;};for(var i=0;i<this.rows.length;i++){var $0P=$I;$I+=this.rows[i].getHeight();if(y<$I){$0O=y-$0P;$o=i;break;}};if($o===null){$o=this.rows.length-1;};var $r={};$r.x=$0N;$r.y=$o;$r.relativeY=$0O;return $r;};this.$2x=function($0i){var $A=DayPilot.Date.daysDiff(this.firstDate,$0i);var $r={x:0,y:0};while($A>=7){$r.y++;$A-=7;};$r.x=$A;return $r;};this.$2A=function(){var $A=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=$A+"px";};this.$1N=function(){var $0y=this.nav.header;var $0A=this.nav.events;this.cells=[];for(var x=0;x<this.$1Y();x++){this.cells[x]=[];var $0Q=this.headerProperties?this.headerProperties[x]:null;var $0R=x+$M.getWeekStart();if($0R>6){$0R-=7;};if(!$0Q){var $0Q={};$0Q.html=$M.locale().dayNames[$0R];if(!this.cssOnly){$0Q.backColor=this.headerBackColor;}};if(typeof $c.onBeforeHeaderRender==='function'){var $m={};$m.header={};$m.header.dayOfWeek=$0R;DayPilot.Util.copyProps($0Q,$m.header,['html','backColor']);$c.onBeforeHeaderRender($m);DayPilot.Util.copyProps($m.header,$0Q,['html','backColor']);};var $0S=document.createElement("div");$0S.setAttribute("unselectable","on");$0S.style.position='absolute';$0S.style.left=(this.$27()*x)+'%';$0S.style.width=(this.$27())+'%';$0S.style.top='0px';$0S.style.height=(this.headerHeight)+'px';(function(x){$0S.onclick=function(){$c.$2B(x);};})($0R);var $S=document.createElement("div");$S.setAttribute("unselectable","on");$S.className=this.$1T("_header_inner");$S.innerHTML=$0Q.html;$0S.appendChild($S);if(!this.cssOnly){$S.style.position="absolute";$S.style.top="0px";$S.style.bottom="0px";$S.style.left="0px";$S.style.right="0px";$S.style.backgroundColor=$0Q.backColor;$S.style.fontFamily=this.headerFontFamily;$S.style.fontSize=this.headerFontSize;$S.style.color=this.headerFontColor;$S.style.textAlign='center';$S.style.cursor='default';$S.className=this.$1T("header");if(x!==this.$1Y()-1){$S.style.borderRight='1px solid '+this.borderColor;}}else{$0S.className=this.$1T("_header");if($0Q&&$0Q.backColor){$S.style.background=$0Q.backColor;}};$0y.appendChild($0S);for(var y=0;y<this.rows.length;y++){this.$2C(x,y,$0A);}};var $s=document.createElement("div");$s.style.position='absolute';$s.style.padding='2px';$s.style.top='0px';$s.style.left='0px';$s.style.backgroundColor="#FF6600";$s.style.color="white";$s.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)this.nav.top.appendChild($s);};this.$1M=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.header.innerHTML='';this.nav.events.innerHTML='';};this.$2C=function(x,y,$0y){var $o=this.rows[y];var d=DayPilot.Date.addDays(this.firstDate,y*7+x);var $0T=this.cellProperties?this.cellProperties[y*this.$1Y()+x]:null;var $0U=null;if($0T){$0U=$0T["headerHtml"];}else{var $0i=d.getUTCDate();if($0i===1){$0U=$M.locale().monthNames[d.getUTCMonth()]+' '+$0i;}else{$0U=$0i+"";}};if(typeof $c.onBeforeCellRender==='function'){if(!$0T){var $0T={};};var $m={};$m.cell={};$m.cell.areas=null;$m.cell.backColor=null;$m.cell.backImage=null;$m.cell.backRepeat=null;$m.cell.business=false;$m.cell.headerHtml=$0U;$m.cell.headerBackColor=null;$m.cell.cssClass=null;$m.cell.html=null;$m.cell.start=new DayPilot.Date(d);$m.cell.end=$m.cell.start.addDays(1);DayPilot.Util.copyProps($0T,$m.cell);$c.onBeforeCellRender($m);DayPilot.Util.copyProps($m.cell,$0T,['areas','backColor','backImage','backRepeat','business','headerHtml','headerBackColor','cssClass','html']);};var $r=document.createElement("div");$r.setAttribute("unselectable","on");$r.style.position='absolute';$r.style.cursor='default';$r.style.left=(this.$27()*x)+'%';$r.style.width=(this.$27())+'%';$r.style.top=(this.$25(y))+'px';$r.style.height=($o.getHeight())+'px';$r.d=d;$r.x=x;$r.y=y;$r.properties=$0T;var $0m=this.startDate.addMonths(-1).getMonth();var $0V=this.startDate.addMonths(1).getMonth();var $0W=this.startDate.getMonth();var $S=document.createElement("div");$S.setAttribute("unselectable","on");$r.appendChild($S);if(this.cssOnly){$S.className=this.$1T("_cell_inner");};if(!this.cssOnly){$S.style.position="absolute";$S.style.left="0px";$S.style.right="0px";$S.style.top="0px";$S.style.bottom="0px";if(d.getUTCMonth()===$0W){$r.className=this.$1T("cell");}else if(d.getUTCMonth()===$0m){$r.className=this.$1T("cell")+" "+this.$1T("previous");}else if(d.getUTCMonth()===$0V){$r.className=this.$1T("cell")+" "+this.$1T("next");};if($0T){$S.style.background=$0T["backColor"];$S.className+=" "+this.$1T($0T["cssClass"]);if($0T["backImage"]){$S.style.backgroundImage="url('"+$0T["backImage"]+"')";};if($0T["backRepeat"]){$S.style.backgroundRepeat=$0T["backRepeat"];}}else{$S.style.background=this.$2D(d);};if(x!==this.$1Y()-1){$S.style.borderRight='1px solid '+this.innerBorderColor;};if(y===0){$S.style.borderTop='1px solid '+this.borderColor;};$S.style.borderBottom='1px solid '+this.innerBorderColor;}else{$S.className=this.$1T("_cell_inner");if(d.getUTCMonth()===$0W){$r.className=this.$1T("_cell");}else if(d.getUTCMonth()===$0m){$r.className=this.$1T("_cell")+" "+this.$1T("_previous");}else if(d.getUTCMonth()===$0V){$r.className=this.$1T("_cell")+" "+this.$1T("_next");}else{$a();};if($0T){if($0T["cssClass"]){DayPilot.Util.addClass($r,$0T.cssClass);};if($0T["business"]){DayPilot.Util.addClass($r,this.$1T("_cell_business"));};if($0T["backColor"]){$S.style.backgroundColor=$0T["backColor"];};if($0T["backImage"]){$S.style.backgroundImage="url('"+$0T["backImage"]+"')";};if($0T["backRepeat"]){$S.style.backgroundRepeat=$0T["backRepeat"];}}};$r.onmousedown=this.$2E;$r.onmousemove=this.$2F;$r.onmouseout=this.$2G;$r.oncontextmenu=this.$2H;$r.onclick=this.$2I;$r.ondblclick=this.$2J;var $0X=document.createElement("div");$0X.setAttribute("unselectable","on");$0X.style.height=this.cellHeaderHeight+"px";if(!this.cssOnly){if($0T&&$0T["headerBackColor"]){$0X.style.backgroundColor=$0T["headerBackColor"];}else if(this.cellHeaderBackColor){$0X.style.backgroundColor=this.cellHeaderBackColor;};$0X.style.paddingRight='2px';$0X.style.textAlign="right";$0X.style.fontFamily=this.cellHeaderFontFamily;$0X.style.fontSize=this.cellHeaderFontSize;$0X.style.color=this.cellHeaderFontColor;$0X.className=this.$1T("cellheader");}else{if($0T&&$0T["headerBackColor"]){$0X.style.background=$0T["headerBackColor"];};$0X.className=this.$1T("_cell_header");};$0X.innerHTML=$0U;$S.appendChild($0X);if($0T&&$0T["html"]){var $0F=document.createElement("div");$0F.setAttribute("unselectable","on");$0F.style.height=($o.getHeight()-this.cellHeaderHeight)+'px';$0F.style.overflow='hidden';$0F.innerHTML=$0T["html"];$S.appendChild($0F);};if(this.cellMode){var $0Y=document.createElement("div");$0Y.setAttribute("unselectable","on");$0Y.style.height=(this.cellHeight-this.cellHeaderHeight)+"px";$0Y.style.overflow='auto';$0Y.style.position='relative';var $K=document.createElement('div');$K.setAttribute("unselectable","on");$K.style.paddingTop="1px";$K.style.paddingBottom="1px";$0Y.appendChild($K);$S.appendChild($0Y);$r.body=$K;$r.scrolling=$0Y;};if($r.properties){var $Z=$r.properties.areas||[];for(var i=0;i<$Z.length;i++){var $00=$Z[i];if($00.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($r,$r.properties,$00);$r.appendChild(a);}};this.cells[x][y]=$r;$0y.appendChild($r);};this.$2F=function(){var c=this;if(c.properties){DayPilot.Areas.showAreas(c,c.properties);}};this.$2G=function(ev){var c=this;if(c.properties){DayPilot.Areas.hideAreas(c,ev);}};this.$2H=function(){var d=this.d;var go=function(d){var $09=new DayPilot.Date(d);var end=$09.addDays(1);var $0Z=new DayPilot.Selection($09,end,null,$c);if($c.contextMenuSelection){$c.contextMenuSelection.show($0Z);}};go(d);};this.$2J=function(){var d=this.d;if($c.timeouts){for(var $10 in $c.timeouts){window.clearTimeout($c.timeouts[$10]);};$c.timeouts=null;};if($c.timeRangeDoubleClickHandling!=='Disabled'){var $09=new DayPilot.Date(d);var end=$09.addDays(1);$c.$2K($09,end);}};this.$2I=function(){if(DayPilotMonth.cancelCellClick){return;};var d=this.d;var $11=function(d){var $09=new DayPilot.Date(d);var end=$09.addDays(1);$c.$2q($09,end);};if($c.timeRangeSelectedHandling!=='Disabled'&&$c.timeRangeDoubleClickHandling==='Disabled'){$11(d);return;};if(!$c.timeouts){$c.timeouts=[];};var $12=function(d){return function(){$11(d);};};$c.timeouts.push(window.setTimeout($12(d),$c.doubleClickTimeout));};this.$2E=function(e){var $r=this;var x=$r.x;var y=$r.y;DayPilotMonth.cancelCellClick=false;if($r.scrolling){var $B=DayPilot.mo3($r.scrolling,e);var sw=DayPilot.sw($r.scrolling);var $A=$r.scrolling.offsetWidth;if($B.x>$A-sw){return;}};if($c.timeRangeSelectedHandling!=='Disabled'){$c.$28();DayPilotMonth.timeRangeSelecting={"root":$c,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};this.$1Y=function(){if(this.showWeekend){return 7;}else{return 5;}};this.$27=function(){if(this.showWeekend){return 14.285;}else{return 20;}};this.$2D=function(d){if(d.getUTCDay()===6||d.getUTCDay()===0){return this.nonBusinessBackColor;};return this.backColor;};this.$25=function($0v){var top=0;for(var i=0;i<$0v;i++){top+=this.rows[i].getHeight();};return top;};this.clearSelection=function(){this.$28();};this.$2L=function($13,$i,$14){var $15={};$15.action=$13;$15.parameters=$14;$15.data=$i;$15.header=this.$2M();var $16="JSON"+DayPilot.JSON.stringify($15);__doPostBack($c.uniqueID,$16);};this.$2N=function($13,$14,$i,$17){if(typeof $17==='undefined'){$17="CallBack";};var $15={};$15.action=$13;$15.type=$17;$15.parameters=$14;$15.data=$i;$15.header=this.$2M();var $16="JSON"+DayPilot.JSON.stringify($15);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$2O,$16,this.$2P);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$16,this.$1G,null,this.callbackError,true);}};this.$2P=function($18){if(typeof $c.onAjaxError==='function'){var $m={};$m.request=$18;$c.onAjaxError($m);}else if(typeof $c.ajaxError==='function'){$c.ajaxError($18);}};this.$2O=function($19){$c.$1G($19.responseText);};this.$2M=function(){var h={};h.v=this.v;h.control="dpm";h.id=this.id;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.clientState=this.clientState;h.cssOnly=$c.cssOnly;h.cssClassPrefix=$c.cssClassPrefix;h.startDate=$c.startDate;h.showWeekend=this.showWeekend;h.headerBackColor=this.headerBackColor;h.backColor=this.backColor;h.nonBusinessBackColor=this.nonBusinessBackColor;h.locale=this.locale;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;h.viewType=this.viewType;h.weeks=this.weeks;h.selected=$c.multiselect.events();h.hashes=$c.hashes;return h;};this.$2Q=function($17,$13,$1a,$i){if($17==='PostBack'){$c.postBack2($13,$1a,$i);}else if($17==='CallBack'){$c.$2N($13,$1a,$i,"CallBack");}else if($17==='Immediate'){$c.$2N($13,$1a,$i,"Notify");}else if($17==='Queue'){$c.queue.add(new DayPilot.Action(this,$13,$1a,$i));}else if($17==='Notify'){if($M.notifyType()==='Notify'){$c.$2N($13,$1a,$i,"Notify");}else{$c.queue.add(new DayPilot.Action($c,$13,$1a,$i));}}else{throw "Invalid event invocation type";}};this.$2R=function($m,$g){var $f=$c.$2S($g);var $1a={};$1a.args=$m;$1a.guid=$f;$c.$2N("Bubble",$1a);};this.$2S=function($g){var $f=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$f]=$g;return $f;};this.eventClickPostBack=function(e,$i){this.$2L("EventClick",$i,e);};this.eventClickCallBack=function(e,$i){this.$2N('EventClick',e,$i);};this.$2h=function($s,e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var e=e||window.event;var $1b=e.ctrlKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.eventDoubleClickHandling==='Disabled'){$c.$2o($s,$1b);return;};if(!$c.timeouts){$c.timeouts=[];}else{for(var $10 in $c.timeouts){window.clearTimeout($c.timeouts[$10]);};$c.timeouts=[];};var $1c=function($s,$1b){return function(){$c.$2o($s,$1b);};};$c.timeouts.push(window.setTimeout($1c($s,$1b),$c.doubleClickTimeout));};this.$2o=function($s,$1b){var e=$s.event;if(!e.client.clickEnabled()){return;};if($c.$1S()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventClick==='function'){$c.onEventClick($m);if($m.preventDefault.value){return;}};switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'Select':$c.$2T($s,e,$1b);break;case 'ContextMenu':var $1d=e.client.contextMenu();if($1d){$1d.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventClicked==='function'){$c.onEventClicked($m);}}else{switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;case 'Select':$c.$2T($s,e,$1b);break;case 'ContextMenu':var $1d=e.client.contextMenu();if($1d){$1d.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.eventDoubleClickPostBack=function(e,$i){this.$2L('EventDoubleClick',$i,e);};this.eventDoubleClickCallBack=function(e,$i){this.$2N('EventDoubleClick',e,$i);};this.$2i=function($s,ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.timeouts){for(var $10 in $c.timeouts){window.clearTimeout($c.timeouts[$10]);};$c.timeouts=null;};var ev=ev||window.event;var e=$s.event;if($c.$1S()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDoubleClick==='function'){$c.onEventDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'Select':$c.$2T($s,e,ev.ctrlKey);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventDoubleClicked==='function'){$c.onEventDoubleClicked($m);}}else{switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'JavaScript':$c.onEventDoubleClick(e);break;case 'Select':$c.$2T($s,e,ev.ctrlKey);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.$2T=function($s,e,$1b){$c.$2U($s,e,$1b);};this.eventSelectPostBack=function(e,$1e,$i){var $1a={};$1a.e=e;$1a.change=$1e;this.$2L('EventSelect',$i,$1a);};this.eventSelectCallBack=function(e,$1e,$i){var $1a={};$1a.e=e;$1a.change=$1e;this.$2N('EventSelect',$1a,$i);};this.$2U=function($s,e,$1b){if($c.$1S()){var m=$c.multiselect;m.previous=m.events();var $m={};$m.e=e;$m.selected=m.isSelected(e);$m.ctrl=$1b;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventSelect==='function'){$c.onEventSelect($m);if($m.preventDefault.value){return;}};switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1e);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$1e);break;case 'Update':m.$2V($s,$1b);break;};if(typeof $c.onEventSelected==='function'){$m.change=m.isSelected(e)?"selected":"deselected";$m.selected=m.isSelected(e);$c.onEventSelected($m);}}else{var m=$c.multiselect;m.previous=m.events();m.$2V($s,$1b);var $1e=m.isSelected(e)?"selected":"deselected";switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1e);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$1e);break;case 'JavaScript':$c.onEventSelect(e,$1e);break;}}};this.eventRightClickPostBack=function(e,$i){this.$2L("EventRightClick",$i,e);};this.eventRightClickCallBack=function(e,$i){this.$2N('EventRightClick',e,$i);};this.$2l=function(e){this.event=e;if(!e.client.rightClickEnabled()){return false;};if($c.$1S()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventRightClick==='function'){$c.onEventRightClick($m);if($m.preventDefault.value){return;}};switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'ContextMenu':var $1d=e.client.contextMenu();if($1d){$1d.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventRightClicked==='function'){$c.onEventRightClicked($m);}}else{switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'JavaScript':$c.onEventRightClick(e);break;case 'ContextMenu':var $1d=e.client.contextMenu();if($1d){$1d.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}};return false;};this.eventMenuClickPostBack=function(e,$1f,$i){var $1a={};$1a.e=e;$1a.command=$1f;this.$2L('EventMenuClick',$i,$1a);};this.eventMenuClickCallBack=function(e,$1f,$i){var $1a={};$1a.e=e;$1a.command=$1f;this.$2N('EventMenuClick',$1a,$i);};this.$2W=function($1f,e,$1g){switch($1g){case 'PostBack':$c.eventMenuClickPostBack(e,$1f);break;case 'CallBack':$c.eventMenuClickCallBack(e,$1f);break;}};this.eventMovePostBack=function(e,$1h,$1i,$i,$0a){if(!$1h)throw 'newStart is null';if(!$1i)throw 'newEnd is null';var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;$1a.position=$0a;this.$2L('EventMove',$i,$1a);};this.eventMoveCallBack=function(e,$1h,$1i,$i,$0a){if(!$1h)throw 'newStart is null';if(!$1i)throw 'newEnd is null';var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;$1a.position=$0a;this.$2N('EventMove',$1a,$i);};this.$2p=function(e,x,y,$B,ev,$0a){var $1j=DayPilot.Date.getTime(e.start().d);var $0C=DayPilot.Date.getDate(e.end().d);if($0C.getTime()!==e.end().d.getTime()){$0C=DayPilot.Date.addDays($0C,1);};var $1k=DayPilot.Date.diff(e.end().d,$0C);var $1l=this.$29(x,y);$1l=DayPilot.Date.addDays($1l,-$B);var $A=DayPilot.Date.daysSpan(e.start().d,e.end().d)+1;var $1m=DayPilot.Date.addDays($1l,$A);var $1h=new DayPilot.Date(DayPilot.Date.addTime($1l,$1j));var $1i=new DayPilot.Date(DayPilot.Date.addTime($1m,$1k));if($c.$1S()){var $m={};$m.e=e;$m.newStart=$1h;$m.newEnd=$1i;$m.position=$0a;$m.ctrl=false;if(ev){$m.ctrl=ev.ctrlKey;};$m.shift=false;if(ev){$m.shift=ev.shiftKey;};$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventMove==='function'){$c.onEventMove($m);if($m.preventDefault.value){return;}};switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1h,$1i,null,$0a);break;case 'CallBack':$c.eventMoveCallBack(e,$1h,$1i,null,$0a);break;case 'Notify':$c.eventMoveNotify(e,$1h,$1i,null,$0a);break;case 'Update':e.start($1h);e.end($1i);$c.events.update(e);break;};if(typeof $c.onEventMoved==='function'){$c.onEventMoved($m);}}else{switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1h,$1i,null,$0a);break;case 'CallBack':$c.eventMoveCallBack(e,$1h,$1i,null,$0a);break;case 'JavaScript':$c.onEventMove(e,$1h,$1i,ev.ctrlKey,ev.shiftKey,$0a);break;case 'Notify':$c.eventMoveNotify(e,$1h,$1i,null,$0a);break;}}};this.eventMoveNotify=function(e,$1h,$1i,$i,$t){var $1n=new DayPilot.Event(e.copy(),this);e.start($1h);e.end($1i);e.commit();$c.update();this.$2X("Notify",$1n,$1h,$1i,$i,$t);};this.$2X=function($17,e,$1h,$1i,$i,$t){var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;$1a.position=$t;this.$2Q($17,"EventMove",$1a,$i);};this.eventResizePostBack=function(e,$1h,$1i,$i){if(!$1h)throw 'newStart is null';if(!$1i)throw 'newEnd is null';var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;this.$2L('EventResize',$i,$1a);};this.eventResizeCallBack=function(e,$1h,$1i,$i){if(!$1h)throw 'newStart is null';if(!$1i)throw 'newEnd is null';var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;this.$2N('EventResize',$1a,$i);};this.$2Y=function(e,$09,$A){var $1j=DayPilot.Date.getTime(e.start().d);var $0C=DayPilot.Date.getDate(e.end().d);if(!DayPilot.Date.equals($0C,e.end().d)){$0C=DayPilot.Date.addDays($0C,1);};var $1k=DayPilot.Date.diff(e.end().d,$0C);var $1l=this.$29($09.x,$09.y);var $1m=DayPilot.Date.addDays($1l,$A);var $1h=new DayPilot.Date(DayPilot.Date.addTime($1l,$1j));var $1i=new DayPilot.Date(DayPilot.Date.addTime($1m,$1k));if($c.$1S()){var $m={};$m.e=e;$m.newStart=$1h;$m.newEnd=$1i;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventResize==='function'){$c.onEventResize($m);if($m.preventDefault.value){return;}};switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1h,$1i);break;case 'CallBack':$c.eventResizeCallBack(e,$1h,$1i);break;case 'Notify':$c.eventResizeNotify(e,$1h,$1i);break;case 'Update':e.start($1h);e.end($1i);$c.events.update(e);break;};if(typeof $c.onEventResized==='function'){$c.onEventResized($m);}}else{switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1h,$1i);break;case 'CallBack':$c.eventResizeCallBack(e,$1h,$1i);break;case 'JavaScript':$c.onEventResize(e,$1h,$1i);break;case 'Notify':$c.eventResizeNotify(e,$1h,$1i);break;}}};this.eventResizeNotify=function(e,$1h,$1i,$i){var $1n=new DayPilot.Event(e.copy(),this);e.start($1h);e.end($1i);e.commit();$c.update();this.$2Z("Notify",$1n,$1h,$1i,$i);};this.$2Z=function($17,e,$1h,$1i,$i){var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;this.$2Q($17,"EventResize",$1a,$i);};this.timeRangeSelectedPostBack=function($09,end,$i){var $0e={};$0e.start=$09;$0e.end=end;this.$2L('TimeRangeSelected',$i,$0e);};this.timeRangeSelectedCallBack=function($09,end,$i){var $0e={};$0e.start=$09;$0e.end=end;this.$2N('TimeRangeSelected',$0e,$i);};this.$2q=function($09,end){if($c.$1S()){var $m={};$m.start=$09;$m.end=end;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeSelect==='function'){$c.onTimeRangeSelect($m);if($m.preventDefault.value){return;}};switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($09,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($09,end);$c.clearSelection();break;};if(typeof $c.onTimeRangeSelected==='function'){$c.onTimeRangeSelected($m);}}else{switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($09,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($09,end);$c.clearSelection();break;case 'JavaScript':$c.onTimeRangeSelected($09,end);break;}}};this.timeRangeMenuClickPostBack=function(e,$1f,$i){var $1a={};$1a.selection=e;$1a.command=$1f;this.$2L("TimeRangeMenuClick",$i,$1a);};this.timeRangeMenuClickCallBack=function(e,$1f,$i){var $1a={};$1a.selection=e;$1a.command=$1f;this.$2N("TimeRangeMenuClick",$1a,$i);};this.$30=function($1f,e,$1g){switch($1g){case 'PostBack':$c.timeRangeMenuClickPostBack(e,$1f);break;case 'CallBack':$c.timeRangeMenuClickCallBack(e,$1f);break;}};this.headerClickPostBack=function(c,$i){this.$2L('HeaderClick',$i,c);};this.headerClickCallBack=function(c,$i){this.$2N('HeaderClick',c,$i);};this.$2B=function(x){var $i=this.data;var c={$0X:x};if($c.$1S()){var $m={};$m.header={};$m.header.dayOfWeek=x;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onHeaderClick==='function'){$c.onHeaderClick($m);if($m.preventDefault.value){return;}};switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;};if(typeof $c.onHeaderClicked==='function'){$c.onHeaderClicked($m);}}else{switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;case 'JavaScript':$c.onHeaderClick(c);break;}}};this.timeRangeDoubleClickPostBack=function($09,end,$i){var $0e={};$0e.start=$09;$0e.end=end;this.$2L('TimeRangeDoubleClick',$i,$0e);};this.timeRangeDoubleClickCallBack=function($09,end,$i){var $0e={};$0e.start=$09;$0e.end=end;this.$2N('TimeRangeDoubleClick',$0e,$i);};this.$2K=function($09,end){if($c.$1S()){var $m={};$m.start=$09;$m.end=end;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeDoubleClick==='function'){$c.onTimeRangeDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($09,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($09,end);break;};if(typeof $c.onTimeRangeDoubleClicked==='function'){$c.onTimeRangeDoubleClicked($m);}}else{switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($09,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($09,end);break;case 'JavaScript':$c.onTimeRangeDoubleClick($09,end);break;}}};this.commandCallBack=function($1f,$i){this.$31();var $1a={};$1a.command=$1f;this.$2N('Command',$1a,$i);};this.$32=function(e){for(var i=0;i<$c.elements.events.length;i++){var $s=$c.elements.events[i];if($s.event===e||$s.event.data===e.data){return $s;}};return null;};this.$2j=function(e){var $d={};$d.list=[];$d.each=function(m){if(!m){return;};for(var i=0;i<this.list.length;i++){m(this.list[i]);}};for(var i=0;i<this.elements.events.length;i++){var $s=this.elements.events[i];if($s.event.data===e.data){$d.list.push($s);}};return $d;};this.$33={};var $M=this.$33;$M.lineHeight=function(){return $c.eventHeight+$c.lineSpace;};$M.rounded=function(){return $c.eventCorners==="Rounded";};$M.loadFromServer=function(){if($c.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $c.events.list==='undefined')||(!$c.events.list);}else{return false;}};$M.locale=function(){return DayPilot.Locale.find($c.locale);};$M.getWeekStart=function(){if($c.showWeekend){return $c.weekStarts;}else{return 1;}};$M.notifyType=function(){var $17;if($c.notifyCommit==='Immediate'){$17="Notify";}else if($c.notifyCommit==='Queue'){$17="Queue";}else{throw "Invalid notifyCommit value: "+$c.notifyCommit;};return $17;};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$34=function(){var m=$c.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$c.multiselect;var $1o=[];$1o.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$1o.push(m.list[i]);};return $1o;};this.multiselect.$35=function(){};this.multiselect.$2V=function($s,$1p){var m=$c.multiselect;if(m.isSelected($s.event)){if($c.allowMultiSelect){if($1p){m.remove($s.event,true);}else{var $0r=m.list.length;m.clear(true);if($0r>1){m.add($s.event,true);}}}else{m.clear(true);}}else{if($c.allowMultiSelect){if($1p){m.add($s.event,true);}else{m.clear(true);m.add($s.event,true);}}else{m.clear(true);m.add($s.event,true);}};m.redraw();m.$35();};this.multiselect.$2g=function(ev){var m=$c.multiselect;return m.$36(ev,m.initList);};this.multiselect.$37=function(){var m=$c.multiselect;var $1q=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$1q.push(event.value());};alert($1q.join("\n"));};this.multiselect.add=function(ev,$1r){var m=$c.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($1r){return;};m.redraw();};this.multiselect.remove=function(ev,$1r){var m=$c.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);}};this.multiselect.clear=function($1r){var m=$c.multiselect;m.list=[];if($1r){return;};m.redraw();};this.multiselect.redraw=function(){var m=$c.multiselect;for(var i=0;i<$c.elements.events.length;i++){var $s=$c.elements.events[i];if(m.isSelected($s.event)){m.$38($s);}else{m.$39($s);}}};this.multiselect.$38=function($s){var m=$c.multiselect;var cn=$c.cssOnly?$c.$1T("_selected"):$c.$1T("selected");var $s=m.$3a($s);DayPilot.Util.addClass($s,cn);m.divs.push($s);};this.multiselect.$3a=function($s){if($c.cssOnly){return $s;};return $s.firstChild;};this.multiselect.$3b=function(){var m=$c.multiselect;for(var i=0;i<m.divs.length;i++){var $s=m.divs[i];m.$39($s,true);};m.divs=[];};this.multiselect.$39=function($s,$1s){var m=$c.multiselect;var cn=$c.cssOnly?$c.$1T("_selected"):$c.$1T("selected");var c=m.$3a($s);if(c&&c.className&&c.className.indexOf(cn)!==-1){c.className=c.className.replace(cn,"");};if($1s){return;};var i=DayPilot.indexOf(m.divs,$s);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $c.multiselect.$36(ev,$c.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($c.multiselect.list,ev);};this.multiselect.$36=function(e,$1q){if(!$1q){return false;};for(var i=0;i<$1q.length;i++){var ei=$1q[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.events.find=function(id){var $1t=$c.events.list.length;for(var i=0;i<$1t;i++){if($c.events.list[i].id===id){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.findRecurrent=function($1u,$1v){var $1t=$c.events.list.length;for(var i=0;i<$1t;i++){if($c.events.list[i].recurrentMasterId===$1u&&$c.events.list[i].start.getTime()===$1v.getTime()){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.update=function(e,$i){var $1a={};$1a.oldEvent=new DayPilot.Event(e.copy(),$c);$1a.newEvent=new DayPilot.Event(e.temp(),$c);var $13=new DayPilot.Action($c,"EventUpdate",$1a,$i);e.commit();$c.update();return $13;};this.events.remove=function(e,$i){var $1a={};$1a.e=new DayPilot.Event(e.data,$c);var $13=new DayPilot.Action($c,"EventRemove",$1a,$i);var $0v=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($0v,1);$c.update();return $13;};this.events.add=function(e,$i){e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);var $1a={};$1a.e=e;var $13=new DayPilot.Action($c,"EventAdd",$1a,$i);$c.update();return $13;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($13){if(!$13){return;};if($13.isAction){$c.queue.list.push($13);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($i){var $1a={};$1a.actions=$c.queue.list;$c.$2N('Notify',$1a,$i,"Notify");$c.queue.list=[];};this.queue.clear=function(){$c.queue.list=[];};this.queue.pop=function(){return $c.queue.list.pop();};this.$1R=function($1w){if($1w){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$31();var $1x=this.autoRefreshInterval;if(!$1x||$1x<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$c.$3c();},this.autoRefreshInterval*1000);};this.$31=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$3c=function(){if(!DayPilotMonth.eventResizing&&!DayPilotMonth.eventMoving&&!DayPilotMonth.timeRangeSelecting){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$c.$3c();},this.autoRefreshInterval*1000);}};this.$3d=function($1y,$1z){if(!this.debuggingEnabled){return;};if(!$c.debugMessages){$c.debugMessages=[];};$c.debugMessages.push($1y);if(typeof console!=='undefined'){console.log($1y);}};this.update=function(){if(!this.cells){return;};var $1A=true;$c.$1J();$c.$1K();$c.$1L();if($1A){$c.$1M();$c.$1N();};$c.$1O();$c.$1P();$c.$1Q();};this.dispose=function(){var c=$c;if(!c.nav.top){return;};c.$31();c.$1J();c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilotMonth.unregister(c);};this.$3e=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);};DayPilot.re(window,'resize',this.$2z);};this.$1P=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.show=function(){$c.nav.top.style.display='';};this.hide=function(){$c.nav.top.style.display='none';};this.$3f=function(){this.$1K();this.$2v();this.$1N();this.$3e();this.$1R();this.$2N('Init');DayPilotMonth.register(this);};this.init=function(){this.nav.top=document.getElementById($b);if(this.nav.top.dp){return;};var $1B=$M.loadFromServer();if($1B){this.$3f();this.initialized=true;return;};this.$1K();this.$1L();this.$2v();this.$1N();this.$1P();this.$1Q();this.$1O();this.$3e();if(this.messageHTML){this.message(this.messageHTML);};this.$1I(null,false);this.$1R();DayPilotMonth.register(this);this.initialized=true;};this.internal={};this.internal.invokeEvent=this.$2Q;this.internal.eventMenuClick=this.$2W;this.internal.timeRangeMenuClick=this.$30;this.internal.bubbleCallBack=this.$2R;this.internal.findEventDiv=this.$32;this.Init=this.init;};DayPilotMonth.register=function($c){if(!DayPilotMonth.registered){DayPilotMonth.registered=[];};for(var i=0;i<DayPilotMonth.registered.length;i++){if(DayPilotMonth.registered[i]===$c){return;}};DayPilotMonth.registered.push($c);};DayPilotMonth.unregister=function($c){var a=DayPilotMonth.registered;if(a){var i=DayPilot.indexOf(a,$c);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mouseup',DayPilotMonth.gMouseUp);DayPilotMonth.globalHandlers=false;}};DayPilotMonth.gMouseUp=function(ev){if(DayPilotMonth.movingEvent){var $08=DayPilotMonth.movingEvent;if(!$08.event||!$08.event.calendar||!$08.event.calendar.shadow||!$08.event.calendar.shadow.start){return;};var $c=DayPilotMonth.movingEvent.event.calendar;var e=DayPilotMonth.movingEvent.event;var $09=$c.shadow.start;var $0a=$c.shadow.position;var $B=DayPilotMonth.movingEvent.offset;$c.$28();DayPilotMonth.movingEvent=null;var ev=ev||window.event;$c.$2p(e,$09.x,$09.y,$B,ev,$0a);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};DayPilotMonth.movingEvent=null;return false;}else if(DayPilotMonth.resizingEvent){var $08=DayPilotMonth.resizingEvent;if(!$08.event||!$08.event.calendar||!$08.event.calendar.shadow||!$08.event.calendar.shadow.start){return;};var $c=DayPilotMonth.resizingEvent.event.calendar;var e=DayPilotMonth.resizingEvent.event;var $09=$c.shadow.start;var $A=$c.shadow.width;$c.$28();DayPilotMonth.resizingEvent=null;$c.$2Y(e,$09,$A);ev.cancelBubble=true;DayPilotMonth.resizingEvent=null;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $0b=DayPilotMonth.timeRangeSelecting;var $c=$0b.root;var $09=new DayPilot.Date($c.$29($0b.from.x,$0b.from.y));var end=$09.addDays($0b.width);$c.$2q($09,end);};DayPilotMonth.timeRangeSelecting=null;}};DayPilot.MonthVisible.Month=DayPilotMonth.Month;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($1C){var $1D=null;var j=this.each(function(){if(this.daypilot){return;};var $1E=new DayPilot.Month(this.id);this.daypilot=$1E;for(var name in $1C){$1E[name]=$1C[name];};$1E.Init();if(!$1D){$1D=$1E;}});if(this.length===1){return $1D;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotNavigator==='undefined'){var DayPilotNavigator=DayPilot.NavigatorVisible={};};(function(){if(typeof DayPilot.Navigator!=='undefined'){return;};DayPilotNavigator={};DayPilot.Navigator=function(id){this.v='542';var $a=this;this.id=id;this.api=2;this.isNavigator=true;this.weekStarts='Auto';this.selectMode='day';this.titleHeight=20;this.dayHeaderHeight=20;this.cellWidth=20;this.cellHeight=20;this.cssOnly=true;this.selectionStart=new DayPilot.Date().getDatePart();this.selectionEnd=null;this.selectionDay=null;this.showMonths=1;this.skipMonths=1;this.command="navigate";this.year=new DayPilot.Date().getYear();this.month=new DayPilot.Date().getMonth()+1;this.showWeekNumbers=false;this.weekNumberAlgorithm='Auto';this.rowsPerMonth='Six';this.orientation="Vertical";this.locale="en-us";this.timeRangeSelectedHandling="Bind";this.visibleRangeChangedHandling="Enabled";this.$08=function(){this.root.dp=this;if(this.cssOnly){this.root.className=this.$09('_main');}else{this.root.className=this.$09('main');};if(this.orientation==="Horizontal"){this.root.style.width=this.showMonths*(this.cellWidth*7+this.$0a())+'px';this.root.style.height=(this.cellHeight*6+this.titleHeight+this.dayHeaderHeight)+'px';}else{this.root.style.width=(this.cellWidth*7+this.$0a())+'px';};this.root.style.position="relative";var $b=document.createElement("input");$b.type='hidden';$b.name=$a.id+"_state";$b.id=$b.name;this.root.appendChild($b);this.state=$b;if(!this.startDate){this.startDate=new DayPilot.Date(DayPilot.Date.firstDayOfMonth(this.year,this.month));}else{this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth();};this.calendars=[];this.selected=[];this.months=[];};this.$0b=function(){return $a.api===2;};this.$0c=function(){this.root.innerHTML='';};this.$09=function($c){if(this.cssClassPrefix){return this.cssClassPrefix+$c;}else{return "";}};this.$0d=function($d,name){var $e=this.cssOnly?this.$09("_"+name):this.$09(name);DayPilot.Util.addClass($d,$e);};this.$0e=function($d,name){var $e=this.cssOnly?this.$09("_"+name):this.$09(name);DayPilot.Util.removeClass($d,$e);};this.$0f=function(j,$f){var $g={};$g.cells=[];$g.days=[];$g.weeks=[];var $h=this.startDate.addMonths(j);var $i=$f.before;var $j=$f.after;var $k=$h.firstDayOfMonth();var $l=$k.firstDayOfWeek($m.weekStarts());var $n=$k.addMonths(1);var $o=DayPilot.Date.daysDiff($l.d,$n.d);var $p=(this.rowsPerMonth==="Auto")?Math.ceil($o/7):6;$g.rowCount=$p;var $q=(new DayPilot.Date()).getDatePart();var $r=this.cellWidth*7+this.$0a();var $s=this.cellHeight*$p+this.titleHeight+this.dayHeaderHeight;$g.height=$s;var $t=document.createElement("div");$t.style.width=($r)+'px';$t.style.height=($s)+'px';if(this.orientation==="Horizontal"){$t.style.position="absolute";$t.style.left=($r*j)+"px";$t.style.top="0px";}else{$t.style.position='relative';};if(this.cssOnly){$t.className=this.$09('_month');}else{$t.className=this.$09('month');};$t.style.cursor='default';$t.style.MozUserSelect='none';$t.style.KhtmlUserSelect='none';$t.style.WebkitUserSelect='none';$t.month=$g;this.root.appendChild($t);var $u=this.titleHeight+this.dayHeaderHeight;var tl=document.createElement("div");tl.style.position='absolute';tl.style.left='0px';tl.style.top='0px';tl.style.width=this.cellWidth+'px';tl.style.height=this.titleHeight+'px';tl.style.lineHeight=this.titleHeight+'px';tl.style.textAlign='left';tl.setAttribute("unselectable","on");if(this.cssOnly){tl.className=this.$09('_titleleft');}else{tl.className=this.$09('titleleft');};if($f.left){tl.style.cursor='pointer';tl.innerHTML="<span style='margin-left:2px;'>&lt;</span>";tl.onclick=this.$0g;};$t.appendChild(tl);this.tl=tl;var ti=document.createElement("div");ti.style.position='absolute';ti.style.left=this.cellWidth+'px';ti.style.top='0px';ti.style.width=(this.cellWidth*5+this.$0a())+'px';ti.style.height=this.titleHeight+'px';ti.style.lineHeight=this.titleHeight+'px';ti.style.textAlign='center';ti.setAttribute("unselectable","on");if(this.cssOnly){ti.className=this.$09('_title');}else{ti.className=this.$09('title');};ti.innerHTML=$m.locale().monthNames[$h.getMonth()]+' '+$h.getYear();$t.appendChild(ti);this.ti=ti;var tr=document.createElement("div");tr.style.position='absolute';tr.style.left=(this.cellWidth*6+this.$0a())+'px';tr.style.top='0px';tr.style.width=this.cellWidth+'px';tr.style.height=this.titleHeight+'px';tr.style.lineHeight=this.titleHeight+'px';tr.style.textAlign='right';tr.setAttribute("unselectable","on");if(this.cssOnly){tr.className=this.$09('_titleright');}else{tr.className=this.$09('titleright');};if($f.right){tr.style.cursor='pointer';tr.innerHTML="<span style='margin-right:2px;'>&gt;</span>";tr.onclick=this.$0h;};$t.appendChild(tr);this.tr=tr;var $v=this.$0a();if(this.showWeekNumbers){for(var y=0;y<$p;y++){var $w=$l.addDays(y*7);var $x=null;switch(this.weekNumberAlgorithm){case "Auto":$x=($m.weekStarts()===0)?$w.weekNumber():$w.weekNumberISO();break;case "US":$x=$w.weekNumber();break;case "ISO8601":$x=$w.weekNumberISO();break;default:throw "Unknown weekNumberAlgorithm value.";};var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(0)+'px';dh.style.top=(y*this.cellHeight+$u)+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.cellHeight+'px';dh.style.lineHeight=this.cellHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.$09('_weeknumber');}else{dh.className=this.$09('weeknumber');};dh.innerHTML="<span style='margin-right: 2px'>"+$x+"</span>";$t.appendChild(dh);$g.weeks.push(dh);}};for(var x=0;x<7;x++){$g.cells[x]=[];var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(x*this.cellWidth+$v)+'px';dh.style.top=this.titleHeight+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.dayHeaderHeight+'px';dh.style.lineHeight=this.dayHeaderHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.$09('_dayheader');}else{dh.className=this.$09('dayheader');};dh.innerHTML="<span style='margin-right: 2px'>"+this.$0i(x)+"</span>";$t.appendChild(dh);$g.days.push(dh);for(var y=0;y<$p;y++){var $w=$l.addDays(y*7+x);var $y=this.$0j($w)&&this.selectMode!=='none';var $z=$w.getMonth()===$h.getMonth();var $A=$w.getTime()<$h.getTime();var $B=$w.getTime()>$h.getTime();var $C;var dc=document.createElement("div");dc.day=$w;dc.x=x;dc.y=y;dc.isCurrentMonth=$z;if(this.cssOnly){dc.className=this.$09(($z?'_day':'_dayother'));}else{dc.className=this.$09(($z?'day':'dayother'));};if($w.getTime()===$q.getTime()&&$z){this.$0d(dc,'today');};if($w.dayOfWeek()===0||$w.dayOfWeek()===6){this.$0d(dc,'weekend');};dc.style.position='absolute';dc.style.left=(x*this.cellWidth+$v)+'px';dc.style.top=(y*this.cellHeight+$u)+'px';dc.style.width=this.cellWidth+'px';dc.style.height=this.cellHeight+'px';dc.style.lineHeight=this.cellHeight+'px';dc.style.textAlign='right';var $D=document.createElement("div");$D.style.position='absolute';if(this.cssOnly){$D.className=($w.getTime()===$q.getTime()&&$z)?this.$09('_todaybox'):this.$09('_daybox');}else{$D.className=($w.getTime()===$q.getTime()&&$z)?this.$09('todaybox'):this.$09('daybox');};$D.style.left='0px';$D.style.top='0px';$D.style.width=(this.cellWidth-2)+'px';$D.style.height=(this.cellHeight-2)+'px';dc.appendChild($D);var $E=null;if(this.cells&&this.cells[$w.toStringSortable()]){$E=this.cells[$w.toStringSortable()];if($E.css){this.$0d(dc,$E.css);}};var $F=null;if($z||($i&&$A)||($j&&$B)){$F=document.createElement("span");$F.innerHTML=$w.getDay();dc.style.cursor='pointer';dc.isClickable=true;if($y){this.$0d(dc,'select');};if($E&&$E.html){$F.innerHTML=$E.html;};$F.style.marginRight='2px';dc.appendChild($F);};dc.setAttribute("unselectable","on");dc.onclick=this.$0k;dc.onmousedown=this.$0l;dc.onmousemove=this.$0m;if($y){this.selected.push(dc);};$t.appendChild(dc);$g.cells[x][y]=dc;}};var $G=document.createElement("div");$G.style.position='absolute';$G.style.left='0px';$G.style.top=($u-2)+'px';$G.style.width=(this.cellWidth*7+this.$0a())+'px';$G.style.height='1px';$G.style.fontSize='1px';$G.style.lineHeight='1px';if(this.cssOnly){$G.className=this.$09("_line");}else{$G.className=this.$09("line");};$t.appendChild($G);this.months.push($g);};this.$0a=function(){if(this.showWeekNumbers){return this.cellWidth;};return 0;};this.$0n=function(){if(!this.items){return;};for(var j=0;j<this.showMonths;j++){for(var x=0;x<7;x++){for(var y=0;y<6;y++){var $E=this.months[j].cells[x][y];if(!$E){continue;};if(this.items[$E.day.toStringSortable()]===1){this.$0d($E,'busy');}else{this.$0e($E,'busy');}}}}};this.$0o=function(){var s={};s.startDate=$a.startDate;s.selectionStart=$a.selectionStart;s.selectionEnd=$a.selectionEnd.addDays(1);$a.state.value=DayPilot.JSON.stringify(s);};this.$0p=function(){switch(this.selectMode){case 'day':this.selectionEnd=this.selectionStart;break;case 'week':this.selectionStart=this.selectionStart.firstDayOfWeek($m.weekStarts());this.selectionEnd=this.selectionStart.addDays(6);break;case 'month':this.selectionStart=this.selectionStart.firstDayOfMonth();this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case 'none':this.selectionEnd=this.selectionStart;break;default:throw "Unkown selectMode value.";}};this.select=function($H){var $I=true;var $J=this.selectionStart;var $K=this.selectionEnd;this.selectionStart=new DayPilot.Date($H).getDatePart();this.selectionDay=this.selectionStart;var $L=false;if($I){var $M=this.startDate;if(this.selectionStart.getTime()<this.visibleStart().getTime()||this.selectionStart.getTime()>this.visibleEnd().getTime()){$M=this.selectionStart.firstDayOfMonth();};if($M.toStringSortable()!==this.startDate.toStringSortable()){$L=true;};this.startDate=$M;};this.$0p();this.$0c();this.$08();this.$0q();this.$0n();this.$0o();if(!$J.equals(this.selectionStart)||!$K.equals(this.selectionEnd)){this.$0r();};if($L){this.$0s();}};this.update=function(){this.$0c();this.$08();this.$0q();this.$0n();this.$0o();};this.$0t=function($N,$O,$P){var $Q={};$Q.action=$N;$Q.parameters=$P;$Q.data=$O;$Q.header=this.$0u();var $R="JSON"+DayPilot.JSON.stringify($Q);var $S=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$0v,$R,this.$0w);}else{WebForm_DoCallback(this.uniqueID,$R,this.$0x,$S,this.callbackError,true);}};this.$0w=function($T){if(typeof $a.onAjaxError==='function'){var $U={};$U.request=$T;$a.onAjaxError($U);}else if(typeof $a.ajaxError==='function'){$a.ajaxError($T);}};this.$0v=function($V){$a.$0x($V.responseText);};this.$0y=function($N,$O,$P){var $Q={};$Q.action=$N;$Q.parameters=$P;$Q.data=$O;$Q.header=this.$0u();var $R="JSON"+DayPilot.JSON.stringify($Q);__doPostBack($a.uniqueID,$R);};this.$0u=function(){var h={};h.v=this.v;h.startDate=this.startDate;h.selectionStart=this.selectionStart;return h;};this.$0z=function($N,$O){if($N==='refresh'){this.$0s();}};this.$0i=function(i){var x=i+$m.weekStarts();if(x>6){x-=7;};return $m.locale().dayNamesShort[x];};this.$0j=function($H){if(this.selectionStart===null||this.selectionEnd===null){return false;};if(this.selectionStart.getTime()<=$H.getTime()&&$H.getTime()<=this.selectionEnd.getTime()){return true;};return false;};this.$0l=function(ev){};this.$0m=function(ev){};this.$0k=function(ev){var $g=this.parentNode.month;var x=this.x;var y=this.y;var $w=$g.cells[x][y].day;if(!$g.cells[x][y].isClickable){return;};$a.clearSelection();$a.selectionDay=$w;var $w=$a.selectionDay;switch($a.selectMode){case 'none':$a.selectionStart=$w;$a.selectionEnd=$w;break;case 'day':var s=$g.cells[x][y];$a.$0d(s,'select');$a.selected.push(s);$a.selectionStart=s.day;$a.selectionEnd=s.day;break;case 'week':for(var j=0;j<7;j++){$a.$0d($g.cells[j][y],'select');$a.selected.push($g.cells[j][y]);};$a.selectionStart=$g.cells[0][y].day;$a.selectionEnd=$g.cells[6][y].day;break;case 'month':var $W=null;var end=null;for(var y=0;y<6;y++){for(var x=0;x<7;x++){var s=$g.cells[x][y];if(!s){continue;};if(s.day.getYear()===$w.getYear()&&s.day.getMonth()===$w.getMonth()){$a.$0d(s,'select');$a.selected.push(s);if($W===null){$W=s.day;};end=s.day;}}};$a.selectionStart=$W;$a.selectionEnd=end;break;default:throw 'unknown selectMode';};$a.$0o();$a.$0r();};this.$0r=function(){var $W=$a.selectionStart;var end=$a.selectionEnd.addDays(1);var $o=DayPilot.Date.daysDiff($W.d,end.d);var $w=$a.selectionDay;if($a.$0b()){var $U={};$U.start=$W;$U.end=end;$U.day=$w;$U.days=$o;$U.preventDefault=function(){this.preventDefault.value=true;};if(typeof $a.onTimeRangeSelect==='function'){$a.onTimeRangeSelect($U);if($U.preventDefault.value){return;}};switch($a.timeRangeSelectedHandling){case 'Bind':var $X=eval($a.bound);if($X){var $Y={};$Y.start=$W;$Y.end=end;$Y.days=$o;$Y.day=$w;$X.commandCallBack($a.command,$Y);};break;case 'None':break;case 'PostBack':$a.timeRangeSelectedPostBack($W,end,$w);break;};if(typeof $a.onTimeRangeSelected==='function'){$a.onTimeRangeSelected($U);}}else{switch($a.timeRangeSelectedHandling){case 'Bind':var $X=eval($a.bound);if($X){var $Y={};$Y.start=$W;$Y.end=end;$Y.days=$o;$Y.day=$w;$X.commandCallBack($a.command,$Y);};break;case 'JavaScript':$a.onTimeRangeSelected($W,end,$w);break;case 'None':break;case 'PostBack':$a.timeRangeSelectedPostBack($W,end,$w);break;}}};this.timeRangeSelectedPostBack=function($W,end,$O,$w){var $Z={};$Z.start=$W;$Z.end=end;$Z.day=$w;this.$0y('TimeRangeSelected',$O,$Z);};this.$0h=function(ev){$a.$0A($a.skipMonths);};this.$0g=function(ev){$a.$0A(-$a.skipMonths);};this.$0A=function(i){this.startDate=this.startDate.addMonths(i);this.$0c();this.$08();this.$0q();this.$0o();this.$0s();};this.visibleStart=function(){return $a.startDate.firstDayOfMonth().firstDayOfWeek($m.weekStarts());};this.visibleEnd=function(){return $a.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek($m.weekStarts()).addDays(42);};this.$0s=function(){var $W=this.visibleStart();var end=this.visibleEnd();if($a.$0b()){var $U={};$U.start=$W;$U.end=end;$U.preventDefault=function(){this.preventDefault.value=true;};if(typeof $a.onVisibleRangeChange==='function'){$a.onVisibleRangeChange($U);if($U.preventDefault.value){return;}};switch(this.visibleRangeChangedHandling){case "CallBack":this.visibleRangeChangedCallBack(null);break;case "PostBack":this.visibleRangeChangedPostBack(null);break;case "Disabled":break;};if(typeof $a.onVisibleRangeChanged==='function'){$a.onVisibleRangeChanged($U);}}else{switch(this.visibleRangeChangedHandling){case "CallBack":this.visibleRangeChangedCallBack(null);break;case "PostBack":this.visibleRangeChangedPostBack(null);break;case "JavaScript":this.onVisibleRangeChanged($W,end);break;case "Disabled":break;}}};this.visibleRangeChangedCallBack=function($O){var $P={};this.$0t("Visible",$O,$P);};this.visibleRangeChangedPostBack=function($O){var $P={};this.$0y("Visible",$O,$P);};this.$0x=function($00,$S){var $00=eval("("+$00+")");$a.items=$00.Items;$a.cells=$00.Cells;$a.$0n();};this.$0q=function(){for(var j=0;j<this.showMonths;j++){var $f=this.$0B(j);this.$0f(j,$f);};this.root.style.height=this.$0C()+"px";};this.$0C=function(){if(this.orientation==="Horizontal"){var $01=0;for(var i=0;i<this.months.length;i++){var $g=this.months[i];if($g.height>$01){$01=$g.height;}};return $01;}else{var $02=0;for(var i=0;i<this.months.length;i++){var $g=this.months[i];$02+=$g.height;};return $02;}};this.$0B=function(j){if(this.internal.showLinks){return this.internal.showLinks;};var $f={};$f.left=(j===0);$f.right=(j===0);$f.before=j===0;$f.after=j===this.showMonths-1;if(this.orientation==="Horizontal"){$f.right=(j===this.showMonths-1);};return $f;};this.internal={};this.$0D={};var $m=this.$0D;$m.locale=function(){return DayPilot.Locale.find($a.locale);};$m.weekStarts=function(){if($a.weekStarts==='Auto'){var $03=$m.locale();if($03){return $03.weekStarts;}else{return 0;}}else{return $a.weekStarts;}};this.clearSelection=function(){for(var j=0;j<this.selected.length;j++){this.$0e(this.selected[j],'select');};this.selected=[];};this.$0E=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $a.items==='undefined')||(!$a.items);}else{return false;}};this.init=function(){this.root=document.getElementById(id);if(this.root.dp){return;};this.$0p();this.$08();this.$0q();this.$0n();this.$0F();var $04=this.$0E();if($04){this.$0s();};this.initialized=true;};this.dispose=function(){var c=$a;if(!c.root){return;};c.root.removeAttribute("style");c.root.removeAttribute("class");c.root.dp=null;c.root.innerHTML=null;c.root=null;};this.$0F=function(){var $05=document.getElementById(id);$05.dispose=this.dispose;};this.Init=this.init;};DayPilot.NavigatorVisible.Navigator=DayPilotNavigator.Navigator;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotNavigator=function($06){var $l=null;var j=this.each(function(){if(this.daypilot){return;};var $07=new DayPilot.Navigator(this.id);this.daypilot=$07;for(var name in $06){$07[name]=$06[name];};$07.Init();if(!$l){$l=$07;}});if(this.length===1){return $l;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotScheduler==='undefined'){var DayPilotScheduler=DayPilot.SchedulerVisible={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Scheduler!=='undefined'){return;};var DayPilotScheduler={};var $a=function(){};DayPilot.Scheduler=function(id){this.v='542';var $b=this;this.id=id;this.isScheduler=true;this.hideUntilInit=true;this.api=2;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#EAD098";this.cellDuration=60;this.cellGroupBy='Day';this.cellSelectColor="#316AC5";this.cellWidth=20;this.clientSide=true;this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType='Header';this.debuggingEnabled=false;this.doubleClickTimeout=300;this.dragOutAllowed=false;this.durationBarColor='blue';this.durationBarHeight=3;this.durationBarVisible=true;this.durationBarMode="Duration";this.durationBarDetached=false;this.days=1;this.drawBlankCells=true;this.dynamicEventRendering='Progressive';this.dynamicEventRenderingMargin=50;this.dynamicLoading=false;this.eventBorderColor="#000000";this.eventBorderVisible=true;this.eventBackColor="#FFFFFF";this.eventFontFamily="Tahoma, Arial";this.eventFontSize='8pt';this.eventFontColor='#000000';this.eventHeight=20;this.eventMoveMargin=5;this.eventMoveToPosition=false;this.eventResizeMargin=5;this.ganttAppendToResources=false;this.headerFontColor="#000000";this.headerFontFamily="Tahoma, Arial";this.headerFontSize='8pt';this.headerHeight=20;this.heightSpec='Auto';this.hourFontFamily="Tahoma, Arial";this.hourFontSize='10pt';this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.layout='Auto';this.locale="en-us";this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.messageHideAfter=5000;this.moveBy='Top';this.notifyCommit='Immediate';this.numberFormat="0.00";this.treePreventParentUsage=true;this.rowHeaderWidth=80;this.rowHeaderCols=null;this.rowMarginBottom=0;this.rowMinHeight=0;this.scale="CellDuration";this.scrollX=0;this.scrollY=0;this.shadow="Fill";this.showBaseTimeHeader=true;this.showNonBusiness=true;this.showToolTip=true;this.snapToGrid=true;this.startDate=new DayPilot.Date().getDatePart();this.syncResourceTree=true;this.timeBreakColor='#000000';this.treeEnabled=false;this.treeIndent=20;this.treeImageMarginLeft=2;this.treeImageMarginTop=2;this.timeFormat="Auto";this.useEventBoxes='Always';this.viewType='Resources';this.weekStarts='Auto';this.width=null;this.eventCorners='Regular';;this.separators=[];this.afterRender=function(){};this.cornerHtml='';this.crosshairLastY=-1;this.crosshairLastX=-1;this.eventClickHandling='Enabled';this.eventHoverHandling='Bubble';this.eventDoubleClickHandling='Enabled';this.eventEditHandling='Update';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.resourceHeaderClickHandling='Enabled';this.timeRangeDoubleClickHandling='Enabled';this.timeRangeSelectedHandling='Enabled';this.cssOnly=true;this.backendUrl=null;if($b.api===1){this.onEventMove=function(){};this.onEventResize=function(){};this.onResourceExpand=function(){};this.onResourceCollapse=function(){};};this.debugMessages=[];this.autoRefreshCount=0;this.innerHeightTree=0;this.rows=[];this.itline=[];this.timeline=[];this.events={};this.cells={};this.elements={};this.elements.events=[];this.elements.bars=[];this.elements.cells=[];this.elements.linesVertical=[];this.elements.separators=[];this.elements.range=[];this.elements.breaks=[];this.cache={};this.cache.cells=[];this.cache.linesVertical=[];this.cache.linesHorizontal=[];this.cache.timeHeaderGroups=[];this.cache.pixels=[];this.cache.breaks=[];this.cache.events=[];this.clientState={};this.nav={};this.$4M=function($c,$d){var $c=eval("("+$c+")");if($c.BubbleGuid){var $e=$c.BubbleGuid;var $f=this.bubbles[$e];delete this.bubbles[$e];$b.$4N();if(typeof $c.Result.BubbleHTML!=='undefined'){$f.updateView($c.Result.BubbleHTML,$f);};return;};if($c.CallBackRedirect){document.location.href=$c.CallBackRedirect;return;};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();};if(typeof $c.ClientState!=='undefined'){$b.clientState=$c.ClientState;};if($c.UpdateType==="None"){$b.$4N();if($c.Message){$b.message($c.Message);};$b.$4O($c.CallBackData,true);return;};if($c.VsUpdate){var $g=document.createElement("input");$g.type='hidden';$g.name=$b.id+"_vsupdate";$g.id=$g.name;$g.value=$c.VsUpdate;$b.vsph.innerHTML='';$b.vsph.appendChild($g);};if(typeof $c.TagFields!=='undefined'){$b.tagFields=$c.TagFields;};if(typeof $c.SortDirections!=='undefined'){$b.sortDirections=$c.SortDirections;};if($c.UpdateType==="Full"){$b.resources=$c.Resources;$b.colors=$c.Colors;$b.palette=$c.Palette;$b.dirtyColors=$c.DirtyColors;$b.cellProperties=$c.CellProperties;$b.cellConfig=$c.CellConfig;$b.separators=$c.Separators;$b.timeline=$c.Timeline;$b.timeHeader=$c.TimeHeader;$b.timeHeaders=$c.TimeHeaders;if(typeof $c.RowHeaderColumns!=='undefined')$b.rowHeaderColumns=$c.RowHeaderColumns;$b.startDate=$c.StartDate?new DayPilot.Date($c.StartDate):$b.startDate;$b.days=$c.Days?$c.Days:$b.days;$b.cellDuration=$c.CellDuration?$c.CellDuration:$b.cellDuration;$b.cellGroupBy=$c.CellGroupBy?$c.CellGroupBy:$b.cellGroupBy;$b.cellWidth=$c.CellWidth?$c.CellWidth:$b.cellWidth;$b.viewType=$c.ViewType?$c.ViewType:$b.viewType;$b.hourNameBackColor=$c.HourNameBackColor?$c.HourNameBackColor:$b.hourNameBackColor;$b.showNonBusiness=$c.ShowNonBusiness?$c.ShowNonBusiness:$b.showNonBusiness;$b.businessBeginsHour=$c.BusinessBeginsHour?$c.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$c.BusinessEndsHour?$c.BusinessEndsHour:$b.businessEndsHour;if(typeof $c.DynamicLoading!=='undefined')$b.dynamicLoading=$c.DynamicLoading;if(typeof $c.TreeEnabled!=='undefined')$b.treeEnabled=$c.TreeEnabled;$b.backColor=$c.BackColor?$c.BackColor:$b.backColor;$b.nonBusinessBackColor=$c.NonBusinessBackColor?$c.NonBusinessBackColor:$b.nonBusinessBackColor;$b.locale=$c.Locale?$c.Locale:$b.locale;if(typeof $c.TimeZone!=='undefined')$b.timeZone=$c.TimeZone;$b.timeFormat=$c.TimeFormat?$c.TimeFormat:$b.timeFormat;$b.rowHeaderCols=$c.RowHeaderCols?$c.RowHeaderCols:$b.rowHeaderCols;if(typeof $c.DurationBarMode!=="undefined")$b.durationBarMode=$c.DurationBarMode;if(typeof $c.ShowBaseTimeHeader!=="undefined")$b.showBaseTimeHeader=$c.ShowBaseTimeHeader;$b.cornerBackColor=$c.CornerBackColor?$c.CornerBackColor:$b.cornerBackColor;if(typeof $c.CornerHTML!=='undefined'){$b.cornerHtml=$c.CornerHTML;};$b.hashes=$c.Hashes;$b.$4P();$b.$4Q();$b.$4R();$b.$4S();};var $h=$b.$4T($c.Events,$c.Action==="Scroll");if($c.UpdateType==='Full'){$b.$4U();$b.$4V();};$b.$4W();$b.$4X();if($c.Action!=="Scroll"){$b.$4Y();$b.$4Z();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$50();};$b.$51();$b.$52();$b.$53();$b.multiselect.clear(true);$b.multiselect.initList=$c.SelectedEvents;$b.$54();$b.$55();$b.$56();}else{$b.multiselect.clear(true);$b.multiselect.initList=$c.SelectedEvents;$b.$57($h,true);$b.$54();};if($b.timeRangeSelectedHandling!=="HoldForever"){$b.$58();};if($c.UpdateType==="Full"){$b.setScroll($c.ScrollX,$c.ScrollY);$b.$59();};$b.$5a();$b.$4N();if($c.UpdateType==='Full'&&navigator.appVersion.indexOf("MSIE 7.")!==-1){window.setTimeout(function(){$b.$4U();$b.$50();},0);};$b.$5b();if($c.Message){if($b.message){$b.message($c.Message);}};$b.$4O($c.CallBackData,true);};this.$5a=function(){if($b.todo){if($b.todo.del){var $i=$b.todo.del;$i.parentNode.removeChild($i);$b.todo.del=null;}}};this.$4O=function($j,$k){var $l=function($j,$m){return function(){if($b.$5c()){if(typeof $b.onAfterRender==='function'){var $n={};$n.isCallBack=$m;$n.data=$j;$b.onAfterRender($n);}}else{if($b.afterRender){$b.afterRender($j,$m);}}};};window.setTimeout($l($j,$k),0);};this.scrollTo=function($o){var $p=this.getPixels(new DayPilot.Date($o)).left;this.setScrollX($p);};this.scrollToResource=function(id){DayPilot.complete(function(){var $q=$b.$5d(id);if(!$q){return;};setTimeout(function(){var scrollY=$q.Top;$b.nav.scroll.scrollTop=scrollY;},100);});};this.setScrollX=function(scrollX){this.setScroll(scrollX,$b.scrollY);};this.setScrollY=function(scrollY){this.setScroll($b.scrollX,scrollY);};this.setScroll=function(scrollX,scrollY){var scroll=$b.nav.scroll;var $r=$b.innerHeightTree;var $s=$b.$5e()*$b.cellWidth;if(scroll.clientWidth+scrollX>$s){scrollX=$s-scroll.clientWidth;};if(scroll.clientHeight+scrollY>$r){scrollY=$r-scroll.clientHeight;};$b.divTimeScroll.scrollLeft=scrollX;$b.divResScroll.scrollTop=scrollY;scroll.scrollLeft=scrollX;scroll.scrollTop=scrollY;};this.message=function($t,$u,$v,$w){if($t===null){return;};var $u=$u||this.messageHideAfter||2000;var $v=$v||"#ffffff";var $w=$w||"#000000";var $x=0.8;var top=this.$5f()+1;var $y=this.$5g()+1;var $z=DayPilot.sw($b.nav.scroll)+1;var $A=DayPilot.sh($b.nav.scroll)+1;var $B;if(!this.nav.message){$B=document.createElement("div");$B.style.position="absolute";$B.style.left=$y+"px";$B.style.right=$z+"px";$B.style.display='none';$B.onmousemove=function(){if($b.messageTimeout){clearTimeout($b.messageTimeout);}};$B.onmouseout=function(){if($b.nav.message.style.display!=='none'){$b.messageTimeout=setTimeout($b.$5h,500);}};var $C=document.createElement("div");$C.onclick=function(){$b.nav.message.style.display='none';};if(!this.cssOnly){$C.style.padding="5px";$C.style.opacity=$x;$C.style.filter="alpha(opacity="+($x*100)+")";}else{$C.className=this.$5i("_message");};$B.appendChild($C);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($b.nav.scroll)+5)+"px";close.style.color=$v;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$5i("_message_close");};close.onclick=function(){$b.nav.message.style.display='none';};$B.appendChild(close);this.nav.top.appendChild($B);this.nav.message=$B;};var $D=function(){var $C=$b.nav.message.firstChild;if(!$b.cssOnly){$C.style.backgroundColor=$w;$C.style.color=$v;};$C.innerHTML=$t;var $z=DayPilot.sw($b.nav.scroll)+1;$b.nav.message.style.right=$z+"px";var $E=$b.messageBarPosition||"Top";if($E==="Bottom"){$b.nav.message.style.bottom=$A+"px";$b.nav.message.style.top="";}else if($E==="Top"){$b.nav.message.style.bottom="";$b.nav.message.style.top=top+"px";};var end=function(){$b.messageTimeout=setTimeout($b.$5h,$u);};DayPilot.fade($b.nav.message,0.2,end);};clearTimeout($b.messageTimeout);if(this.nav.message.style.display!=='none'){DayPilot.fade($b.nav.message,-0.2,$D);}else{$D();}};this.$5h=function(){var end=function(){$b.nav.message.style.display='none';};DayPilot.fade($b.nav.message,-0.2,end);};this.message.show=function($t){$b.message($t);};this.message.hide=function(){$b.$5h();};this.$50=function(){if(this.nav.scroll){if(this.heightSpec==='Parent100Pct'){this.height=parseInt(this.nav.top.clientHeight,10)-(this.$5f()+2);};var $F=this.$5j();var $G=1;var $H=$F+this.$5f()+$G;if($F>0){this.nav.scroll.style.height=($F)+'px';this.scrollRes.style.height=($F)+'px';};if(this.nav.divider){if(!$H||isNaN($H)||$H<0){$H=0;};this.nav.divider.style.height=($H)+"px";};if(this.heightSpec!=="Parent100Pct"){this.nav.top.style.height=($H)+"px";};for(var i=0;i<this.elements.separators.length;i++){this.elements.separators[i].style.height=this.innerHeightTree+'px';};for(var i=0;i<this.elements.linesVertical.length;i++){this.elements.linesVertical[i].style.height=this.innerHeightTree+'px';}}};this.$4P=function(){this.endDate=(this.viewType!=='Days')?this.startDate.addDays(this.days):this.startDate.addDays(1);this.cache.pixels=[];this.itline=[];if(this.timeHeader){if(this.timeline){this.itline=[];var $I=null;var $y=0;for(var i=0;i<this.timeline.length;i++){var $J=this.timeline[i];var $K={};$K.start=new DayPilot.Date($J.start);$K.end=$J.end?new DayPilot.Date($J.end):$K.start.addMinutes(this.cellDuration);$K.width=$J.width||this.cellWidth;$K.left=$J.left||$y;$y+=$K.width;$K.breakBefore=$I&&$I.ticks!==$K.start.ticks;$I=$K.end;this.itline.push($K);}}else{var $L=this.startDate.getTime();var $q=this.timeHeader[this.timeHeader.length-1];for(var i=0;i<$q.length;i++){var h=$q[i];var $M={};$M.start=new DayPilot.Date(h.start);if(h.end){$M.end=new DayPilot.Date(h.end);}else{$M.end=$M.start.addMinutes(this.cellDuration);};$M.breakBefore=$M.start.ticks!==$L;this.itline.push($M);$L=$M.end.ticks;}}}else{this.timeHeader=[];if(this.scale==="Manual"){this.itline=[];var $y=0;var $I=null;for(var i=0;i<this.timeline.length;i++){var $J=this.timeline[i];var $K={};$K.start=new DayPilot.Date($J.start);$K.end=$J.end?new DayPilot.Date($J.end):$K.start.addMinutes(this.cellDuration);$K.left=$y;$K.width=$J.width||this.cellWidth;$K.breakBefore=$I&&$I.ticks!==$K.start.ticks;$I=$K.end;this.itline.push($K);$y+=$K.width;}}else{this.$5k();};this.$5l();}};this.$5k=function(){var $N=this.startDate;var end=this.$5m($N);var $O=false;var $P=this.timeHeaders;var $y=0;while(end.ticks<=this.endDate.ticks&&end.ticks>$N.ticks){if(this.$5n($N,end)){var $M={};$M.start=$N;$M.end=end;$M.left=$y;$M.width=this.cellWidth;$M.breakBefore=$O;this.itline.push($M);$y+=this.cellWidth;$O=false;}else{$O=true;};$N=end;end=this.$5m($N);}};this.$5l=function(){var $P=this.timeHeaders;if(!$P){$P=[{"groupBy":this.cellGroupBy},{"groupBy":"Cell"}];};for(var i=0;i<$P.length;i++){var $Q=$P[i].groupBy;var $R=$P[i].format;var $N=this.startDate;var $S=[];var $N=this.startDate;while($N.ticks<this.endDate.ticks){var h={};h.start=$N;h.end=this.$5o(h.start,$Q);if(h.start.ticks===h.end.ticks){break;};h.left=this.getPixels(h.start).left;var $z=this.getPixels(h.end).left;var $T=$z-h.left;h.width=$T;h.colspan=Math.ceil($T/(1.0*this.cellWidth));if($R){h.innerHTML=h.start.toString($R,$U.locale());}else{h.innerHTML=this.$5p(h,$Q);};if($T>0){if(typeof this.onBeforeTimeHeaderRender==='function'){var $K={};$K.start=h.start;$K.end=h.end;$K.html=h.innerHTML;$K.toolTip=h.innerHTML;$K.color=null;$K.level=this.timeHeader.length;var $n={};$n.header=$K;this.onBeforeTimeHeaderRender($n);h.innerHTML=$K.html;h.backColor=$K.color;h.toolTip=$K.toolTip;};$S.push(h);};$N=h.end;};this.timeHeader.push($S);}};this.$5n=function($N,end){if(typeof this.onIncludeTimeCell==='function'){var $K={};$K.start=$N;$K.end=end;$K.visible=true;var $n={};$n.cell=$K;this.onIncludeTimeCell($n);return $K.visible;};if(this.showNonBusiness){return true;};if($N.d.getUTCDay()===0){return false;};if($N.d.getUTCDay()===6){return false;};if(this.cellDuration<60*24){var $V=$N.d.getUTCHours();$V+=$N.d.getUTCMinutes()/60.0;$V+=$N.d.getUTCSeconds()/3600.0;$V+=$N.d.getUTCMilliseconds()/3600000.0;if($V<this.businessBeginsHour){return false;};if(this.businessEndsHour>=24){return true;};if($V>=this.businessEndsHour){return false;}};return true;};this.getPixels=function($o){var $W=$o.ticks;var $X=this.cache.pixels[$W];if($X){return $X;};var $Y=null;var $Z=221876841600000;if(this.itline.length===0||$W<this.itline[0].start.ticks){var $c={};$c.cut=false;$c.left=0;$c.boxLeft=$c.left;$c.boxRight=$c.left;$c.i=null;return $c;};for(var i=0;i<this.itline.length;i++){var $00=false;var $K=this.itline[i];var $01=$K.start.ticks;var $02=$K.end.ticks;if($01<$W&&$W<$02){var $03=$W-$01;var $c={};$c.cut=false;$c.left=$K.left+this.$5q($K,$03);$c.boxLeft=$K.left;$c.boxRight=$K.left+$K.width;$c.i=i;break;}else if($01===$W){var $c={};$c.cut=false;$c.left=$K.left;$c.boxLeft=$c.left;$c.boxRight=$c.left+$K.width;$c.i=i;break;}else if($02===$W){var $c={};$c.cut=false;$c.left=$K.left+$K.width;$c.boxLeft=$c.left;$c.boxRight=$c.left;$c.i=i+1;break;}else if($W<$01&&$W>$Z){var $c={};$c.cut=true;$c.left=$K.left;$c.boxLeft=$c.left;$c.boxRight=$c.left;$c.i=i;break;};$Z=$02;};if(!$c){var $04=this.itline[this.itline.length-1];var $c={};$c.cut=true;$c.left=$04.left+$04.width;$c.boxLeft=$c.left;$c.boxRight=$c.left;$c.i=null;};this.cache.pixels[$W]=$c;return $c;};this.getDate=function($y,$05,$06){var $E=this.$5r($y,$06);if(!$E){return null;};var x=$E.x;var $07=this.itline[x];if(!$07){return null;};var $N=($06&&!$05)?$07.end:$07.start;if(!$05){return $N;}else{return $N.addTime(this.$5s($E.cell,$E.offset));}};this.$5r=function($p,$06){var $08=0;var $Y=0;for(var i=0;i<this.itline.length;i++){var $K=this.itline[i];var $T=$K.width||this.cellWidth;$08+=$T;if(($p<$08)||($06&&$p===$08)){var $c={};$c.x=i;$c.offset=$p-$Y;$c.cell=$K;return $c;};$Y=$08;};var $K=this.itline[this.itline.length-1];var $c={};$c.x=this.itline.length-1;$c.offset=$K.width||this.cellWidth;$c.cell=$K;return $c;};this.$5t=function($09){var $08=new DayPilot.Date($09);var $Y=0;for(var i=0;i<this.itline.length;i++){var $K=this.itline[i];if($K.start.ticks<=$08.ticks&&$08.ticks<$K.end.ticks){return $K;};if($08.ticks<$K.start.ticks){return null;}};var $K=this.itline[this.itline.length-1];return $K;};this.$5q=function($K,$W){var $T=$K.width||this.cellWidth;var $0a=$K.end.ticks-$K.start.ticks;return Math.floor(($T*$W)/($0a));};this.$5s=function($K,$p){var $0a=$K.end.ticks-$K.start.ticks;var $T=$K.width||this.cellWidth;return Math.floor($p/$T*$0a);};this.$5u=function(ev){if($0b.start){return;};$0c={};$b.$5v(this,ev);};this.eventClickPostBack=function(e,$j){this.$5w('EventClick',e,$j);};this.eventClickCallBack=function(e,$j){this.$5x('EventClick',e,$j);};this.$5v=function($B,ev){var e=$B.event;var ev=ev||window.event;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if(!e.client.doubleClickEnabled()){$b.$5y($B,ev.ctrlKey);return;};if(!$b.timeouts){$b.timeouts=[];};var $0d=function($B,$0e){return function(){$b.$5y($B,$0e);};};$b.timeouts.push(window.setTimeout($0d($B,ev.ctrlKey),$b.doubleClickTimeout));};this.$5y=function($B,$0e){var e=$B.event;if(!e.client.clickEnabled()){return;};if($b.$5c()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventClick==='function'){$b.onEventClick($n);if($n.preventDefault.value){return;}};switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'Edit':$b.$5z($B);break;case 'Select':$b.$5A($B,e,$0e);break;case 'ContextMenu':var $0f=e.client.contextMenu();if($0f){$0f.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventClicked==='function'){$b.onEventClicked($n);}}else{switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':$b.$5z($B);break;case 'Select':$b.$5A($B,e,$0e);break;case 'ContextMenu':var $0f=e.client.contextMenu();if($0f){$0f.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.setHScrollPosition=function($p){this.nav.scroll.scrollLeft=$p;};this.getScrollX=function(){return this.nav.scroll.scrollLeft;};this.getHScrollPosition=this.getScrollX;this.getScrollY=function(){return this.nav.scroll.scrollTop;};this.$5A=function($B,e,$0e){$b.$5B($B,e,$0e);};this.eventSelectPostBack=function(e,$0g,$j){var $0h={};$0h.e=e;$0h.change=$0g;this.$5w('EventSelect',$0h,$j);};this.eventSelectCallBack=function(e,$0g,$j){var $0h={};$0h.e=e;$0h.change=$0g;this.$5x('EventSelect',$0h,$j);};this.$5B=function($B,e,$0e){if($b.$5c()){var m=$b.multiselect;m.previous=m.events();var $n={};$n.e=e;$n.selected=m.isSelected(e);$n.ctrl=$0e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventSelect==='function'){$b.onEventSelect($n);if($n.preventDefault.value){return;}};switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$0g);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$0g);break;case 'Update':m.$5C($B,$0e);break;};if(typeof $b.onEventSelected==='function'){$n.change=m.isSelected(e)?"selected":"deselected";$n.selected=m.isSelected(e);$b.onEventSelected($n);}}else{var m=$b.multiselect;m.previous=m.events();m.$5C($B,$0e);var $0g=m.isSelected(e)?"selected":"deselected";switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$0g);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$0g);break;case 'JavaScript':$b.onEventSelect(e,$0g);break;}}};this.eventRightClickPostBack=function(e,$j){this.$5w('EventRightClick',e,$j);};this.eventRightClickCallBack=function(e,$j){this.$5x('EventRightClick',e,$j);};this.$5D=function(ev){var e=this.event;ev=ev||window.event;ev.cancelBubble=true;if(!this.event.client.rightClickEnabled()){return false;};if($b.$5c()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventRightClick==='function'){$b.onEventRightClick($n);if($n.preventDefault.value){return;}};switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'ContextMenu':var $0f=e.client.contextMenu();if($0f){$0f.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventRightClicked==='function'){$b.onEventRightClicked($n);}}else{switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'JavaScript':$b.onEventRightClick(e);break;case 'ContextMenu':var $0f=e.client.contextMenu();if($0f){$0f.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}};return false;};this.eventDoubleClickPostBack=function(e,$j){this.$5w('EventDoubleClick',e,$j);};this.eventDoubleClickCallBack=function(e,$j){this.$5x('EventDoubleClick',e,$j);};this.$5E=function(ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($b.timeouts){for(var $0i in $b.timeouts){window.clearTimeout($b.timeouts[$0i]);};$b.timeouts=null;};var ev=ev||window.event;var e=this.event;if($b.$5c()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDoubleClick==='function'){$b.onEventDoubleClick($n);if($n.preventDefault.value){return;}};switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'Edit':$b.$5z(this);break;case 'Select':$b.$5A($B,e,ev.ctrlKey);break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventDoubleClicked==='function'){$b.onEventDoubleClicked($n);}}else{switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'JavaScript':$b.onEventDoubleClick(e);break;case 'Edit':$b.$5z(this);break;case 'Select':$b.$5A($B,e,ev.ctrlKey);break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.eventResizePostBack=function(e,$0j,$0k,$j){this.$5F("PostBack",e,$0j,$0k,$j);};this.eventResizeCallBack=function(e,$0j,$0k,$j){this.$5F("CallBack",e,$0j,$0k,$j);};this.$5F=function($0l,e,$0j,$0k,$j){var $0h={};$0h.e=e;$0h.newStart=$0j;$0h.newEnd=$0k;this.$5G($0l,"EventResize",$0h,$j);};this.$5H=function(e,$0j,$0k){if(this.eventResizeHandling==='Disabled'){return;};if($b.$5c()){var $n={};$n.e=e;$n.newStart=$0j;$n.newEnd=$0k;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventResize==='function'){$b.onEventResize($n);if($n.preventDefault.value){return;}};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$0j,$0k);break;case 'CallBack':$b.eventResizeCallBack(e,$0j,$0k);break;case 'Notify':$b.eventResizeNotify(e,$0j,$0k);break;case 'Update':e.start($0j);e.end($0k);$b.events.update(e);break;};if(typeof $b.onEventResized==='function'){$b.onEventResized($n);}}else{switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$0j,$0k);break;case 'CallBack':$b.eventResizeCallBack(e,$0j,$0k);break;case 'JavaScript':$b.onEventResize(e,$0j,$0k);break;case 'Notify':$b.eventResizeNotify(e,$0j,$0k);break;case 'Update':e.start($0j);e.end($0k);$b.events.update(e);break;}}};this.eventMovePostBack=function(e,$0j,$0k,$0m,$j,$S){this.$5I("PostBack",e,$0j,$0k,$0m,$j,$S);};this.eventMoveCallBack=function(e,$0j,$0k,$0m,$j,$S){this.$5I("CallBack",e,$0j,$0k,$0m,$j,$S);};this.$5I=function($0l,e,$0j,$0k,$0m,$j,$S){var $0h={};$0h.e=e;$0h.newStart=$0j;$0h.newEnd=$0k;$0h.newResource=$0m;$0h.position=$S;this.$5G($0l,"EventMove",$0h,$j);};this.$5G=function($0l,$0n,$0h,$j){if($0l==='PostBack'){$b.$5w($0n,$0h,$j);}else if($0l==='CallBack'){$b.$5x($0n,$0h,$j,"CallBack");}else if($0l==='Immediate'){$b.$5x($0n,$0h,$j,"Notify");}else if($0l==='Queue'){$b.queue.add(new DayPilot.Action(this,$0n,$0h,$j));}else if($0l==='Notify'){if($U.notifyType()==='Notify'){$b.$5x($0n,$0h,$j,"Notify");}else{$b.queue.add(new DayPilot.Action($b,$0n,$0h,$j));}}else{throw "Invalid event invocation type";}};this.eventMoveNotify=function(e,$0j,$0k,$0m,$j,$S){var $0o=new DayPilot.Event(e.copy(),this);var $0p=$b.events.$5J(e.data);e.start($0j);e.end($0k);e.resource($0m);e.commit();$0p=$0p.concat($b.events.$5K(e.data));$b.$5L($0p);$b.$5M();$b.$57($0p);this.$5I("Notify",$0o,$0j,$0k,$0m,$j,$S);};this.eventResizeNotify=function(e,$0j,$0k,$j){var $0o=new DayPilot.Event(e.copy(),this);var $0p=$b.events.$5J(e.data);e.start($0j);e.end($0k);e.commit();$0p=$0p.concat($b.events.$5K(e.data));$b.$5L($0p);$b.$5M();$b.$57($0p);this.$5F("Notify",$0o,$0j,$0k,$j);};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$5N=function(){var m=$b.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$b.multiselect;var $0q=[];$0q.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$0q.push(m.list[i]);};return $0q;};this.multiselect.$5O=function(){};this.multiselect.$5C=function($B,$0r){var m=$b.multiselect;if(m.isSelected($B.event)){if($b.allowMultiSelect){if($0r){m.remove($B.event,true);}else{var $0s=m.list.length;m.clear();if($0s>1){m.add($B.event,true);}}}else{m.clear();}}else{if($b.allowMultiSelect){if($0r){m.add($B.event,true);}else{m.clear();m.add($B.event,true);}}else{m.clear();m.add($B.event,true);}};m.$5P($B);m.$5O();};this.multiselect.$5Q=function(ev){var m=$b.multiselect;return m.$5R(ev,m.initList);};this.multiselect.$5S=function(){var m=$b.multiselect;var $0t=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$0t.push(event.value());};alert($0t.join("\n"));};this.multiselect.add=function(ev,$0u){var m=$b.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($0u){return;};m.redraw();};this.multiselect.remove=function(ev,$0u){var m=$b.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);};if($0u){return;};m.redraw();};this.multiselect.clear=function($0u){var m=$b.multiselect;m.list=[];if($0u){return;};m.redraw();};this.multiselect.redraw=function(){var m=$b.multiselect;for(var i=0;i<$b.elements.events.length;i++){var $B=$b.elements.events[i];if(m.isSelected($B.event)){m.$5T($B);}else{m.$5U($B);}}};this.multiselect.$5V=function(ev){var m=$b.multiselect;var $B=null;for(var i=0;i<$b.elements.events.length;i++){if(m.isSelected($b.elements.events[i].event)){$B=$b.elements.events[i];break;}};m.$5P($B);};this.multiselect.$5P=function($B){if(!$B){return;};var m=$b.multiselect;if(m.isSelected($B.event)){m.$5T($B);}else{m.$5U($B);}};this.multiselect.$5T=function($B){var m=$b.multiselect;var cn=$b.cssOnly?$b.$5i("_selected"):$b.$5i("selected");var $B=m.$5W($B);DayPilot.Util.addClass($B,cn);m.divs.push($B);};this.multiselect.$5W=function($B){return $B;};this.multiselect.$5X=function(){var m=$b.multiselect;for(var i=0;i<m.divs.length;i++){var $B=m.divs[i];m.$5U($B,true);};m.divs=[];};this.multiselect.$5U=function($B,$0v){var m=$b.multiselect;var cn=$b.cssOnly?$b.$5i("_selected"):$b.$5i("selected");DayPilot.Util.removeClass($B,cn);if($0v){return;};var i=DayPilot.indexOf(m.divs,$B);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $b.multiselect.$5R(ev,$b.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($b.multiselect.list,ev);};this.multiselect.$5R=function(e,$0t){if(!$0t){return false;};for(var i=0;i<$0t.length;i++){var ei=$0t[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.update=function(){var $0w=true;if($0w){if(!this.$5Y()){$b.timeHeader=null;};$b.$4P();$b.$4Q();$b.$4R();};this.$4T();if($0w){$b.$4U();$b.$4V();};$b.$4X();$b.$4Y();$b.$4Z();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$50();};this.$52();this.$53();this.$51();this.$54();this.$55();this.$56();};this.updateDebug=function(){var $0w=true;if($0w){$b.$4P();$b.$4Q();$b.$4R();};this.$4T();if($0w){$b.$4U();$b.$4V();};$b.$4X();$b.$4Y();$b.$4Z();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$50();};this.$52();this.$53();this.$51();this.$54();this.$55();this.$56();};this.$57=function($0p,$0x){var $N,end;$0p=DayPilot.ua($0p);if(this.rowsDirty){var $0y=this.$4Y();this.$4X();this.$51();this.$53();for(var i=0;i<$0p.length;i++){var ri=$0p[i];this.$5Z(ri);};for(var i=0;i<$0p.length;i++){var ri=$0p[i];this.$60(ri);};this.$54();this.$55();this.$61();}else{var $0z=true;if($0z){var $0A=function(i){if(i>=$0p.length){return;};var ri=$0p[i];if(!$0x){$b.$5Z(ri);};$b.$60(ri);if(i+1<$0p.length){setTimeout(function(){$0A(i+1);},10);}};$0A(0);}else{for(var i=0;i<$0p.length;i++){var ri=$0p[i];if(!$0x){this.$5Z(ri);};this.$60(ri);}}}};this.$62=function(e,$0j,$0k,$0m,external,ev,$S){if($b.eventMoveHandling==='Disabled'){return;};if($b.$5c()){var $n={};$n.e=e;$n.newStart=$0j;$n.newEnd=$0k;$n.newResource=$0m;$n.external=external;$n.ctrl=false;if(ev){$n.ctrl=ev.ctrlKey;};$n.shift=false;if(ev){$n.shift=ev.shiftKey;};$n.position=$S;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventMove==='function'){$b.onEventMove($n);if($n.preventDefault.value){return;}};switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$0j,$0k,$0m,null,$S);break;case 'CallBack':$b.eventMoveCallBack(e,$0j,$0k,$0m,null,$S);break;case 'Notify':$b.eventMoveNotify(e,$0j,$0k,$0m,null,$S);break;case 'Update':e.start($0j);e.end($0k);e.resource($0m);if(external){e.commit();$b.events.add(e);}else{$b.events.update(e);};$b.$5a();break;};if(typeof $b.onEventMoved==='function'){$b.onEventMoved($n);}}else{switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$0j,$0k,$0m,null,$S);break;case 'CallBack':$b.eventMoveCallBack(e,$0j,$0k,$0m,null,$S);break;case 'JavaScript':$b.onEventMove(e,$0j,$0k,$0m,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false,$S);break;case 'Notify':$b.eventMoveNotify(e,$0j,$0k,$0m,null,$S);break;case 'Update':e.start($0j);e.end($0k);e.resource($0m);$b.events.update(e);break;}}};this.$63=function($n,$f){var $e=$b.$64($f);var $0h={};$0h.args=$n;$0h.guid=$e;$b.$5x("Bubble",$0h);};this.$64=function($f){var $e=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$e]=$f;return $e;};this.eventMenuClickPostBack=function(e,$0B,$j){var $0h={};$0h.e=e;$0h.command=$0B;this.$5w('EventMenuClick',$0h,$j);};this.eventMenuClickCallBack=function(e,$0B,$j){var $0h={};$0h.e=e;$0h.command=$0B;this.$5x('EventMenuClick',$0h,$j);};this.$65=function($0B,e,$0C){switch($0C){case 'PostBack':$b.eventMenuClickPostBack(e,$0B);break;case 'CallBack':$b.eventMenuClickCallBack(e,$0B);break;}};this.timeRangeSelectedPostBack=function($N,end,$0D,$j){var $0E={};$0E.start=$N;$0E.end=end;$0E.resource=$0D;this.$5w('TimeRangeSelected',$0E,$j);};this.timeRangeSelectedCallBack=function($N,end,$0D,$j){var $0E={};$0E.start=$N;$0E.end=end;$0E.resource=$0D;this.$5x('TimeRangeSelected',$0E,$j);};this.$66=function($N,end,$0D){if($b.timeRangeSelectedHandling==='Disabled'){return;};if($b.$5c()){var $n={};$n.start=$N;$n.end=end;$n.resource=$0D;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeSelect==='function'){$b.onTimeRangeSelect($n);if($n.preventDefault.value){return;}};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($N,end,$0D);break;case 'CallBack':$b.timeRangeSelectedCallBack($N,end,$0D);break;};if(typeof $b.onTimeRangeSelected==='function'){$b.onTimeRangeSelected($n);}}else{switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($N,end,$0D);break;case 'CallBack':$b.timeRangeSelectedCallBack($N,end,$0D);break;case 'JavaScript':$b.onTimeRangeSelected($N,end,$0D);break;case 'Hold':break;}}};this.timeRangeDoubleClickPostBack=function($N,end,$0D,$j){var $0E={};$0E.start=$N;$0E.end=end;$0E.resource=$0D;this.$5w('TimeRangeDoubleClick',$0E,$j);};this.timeRangeDoubleClickCallBack=function($N,end,$0D,$j){var $0E={};$0E.start=$N;$0E.end=end;$0E.resource=$0D;this.$5x('TimeRangeDoubleClick',$0E,$j);};this.$67=function($N,end,$0D){if($b.$5c()){var $n={};$n.start=$N;$n.end=end;$n.resource=$0D;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeDoubleClick==='function'){$b.onTimeRangeDoubleClick($n);if($n.preventDefault.value){return;}};switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($N,end,$0D);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($N,end,$0D);break;};if(typeof $b.onTimeRangeDoubleClicked==='function'){$b.onTimeRangeDoubleClicked($n);}}else{switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($N,end,$0D);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($N,end,$0D);break;case 'JavaScript':$b.onTimeRangeDoubleClick($N,end,$0D);break;}}};this.timeRangeMenuClickPostBack=function(e,$0B,$j){var $0h={};$0h.selection=e;$0h.command=$0B;this.$5w("TimeRangeMenuClick",$0h,$j);};this.timeRangeMenuClickCallBack=function(e,$0B,$j){var $0h={};$0h.selection=e;$0h.command=$0B;this.$5x("TimeRangeMenuClick",$0h,$j);};this.$68=function($0B,e,$0C){switch($0C){case 'PostBack':$b.timeRangeMenuClickPostBack(e,$0B);break;case 'CallBack':$b.timeRangeMenuClickCallBack(e,$0B);break;}};this.resourceHeaderMenuClickPostBack=function(e,$0B,$j){var $0h={};$0h.resource=e;$0h.command=$0B;this.$5w("ResourceHeaderMenuClick",$0h,$j);};this.resourceHeaderMenuClickCallBack=function(e,$0B,$j){var $0h={};$0h.resource=e;$0h.command=$0B;this.$5x("ResourceHeaderMenuClick",$0h,$j);};this.$69=function($0B,e,$0C){switch($0C){case 'PostBack':$b.resourceHeaderMenuClickPostBack(e,$0B);break;case 'CallBack':$b.resourceHeaderMenuClickCallBack(e,$0B);break;}};this.resourceHeaderClickPostBack=function(e,$j){var $0h={};$0h.resource=e;this.$5w("ResourceHeaderClick",$0h,$j);};this.resourceHeaderClickCallBack=function(e,$j){var $0h={};$0h.resource=e;this.$5x("ResourceHeaderClick",$0h,$j);};this.$6a=function(e){if($b.$5c()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceHeaderClick==='function'){$b.onResourceHeaderClick($n);if($n.preventDefault.value){return;}};switch(this.resourceHeaderClickHandling){case 'PostBack':$b.resourceHeaderClickPostBack(e);break;case 'CallBack':$b.resourceHeaderClickCallBack(e);break;};if(typeof $b.onResourceHeaderClicked==='function'){$b.onResourceHeaderClicked($n);}}else{switch(this.resourceHeaderClickHandling){case 'PostBack':$b.resourceHeaderClickPostBack(e);break;case 'CallBack':$b.resourceHeaderClickCallBack(e);break;case 'JavaScript':$b.onResourceHeaderClick(e);break;}}};this.timeHeaderClickPostBack=function(e,$j){var $0h={};$0h.header=e;this.$5w("TimeHeaderClick",$0h,$j);};this.timeHeaderClickCallBack=function(e,$j){var $0h={};$0h.header=e;this.$5x("TimeHeaderClick",$0h,$j);};this.$6b=function(e){if($b.$5c()){var $n={};$n.header=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeHeaderClick==='function'){$b.onTimeHeaderClick($n);if($n.preventDefault.value){return;}};switch(this.timeHeaderClickHandling){case 'PostBack':$b.timeHeaderClickPostBack(e);break;case 'CallBack':$b.timeHeaderClickCallBack(e);break;};if(typeof $b.onTimeHeaderClicked==='function'){$b.onTimeHeaderClicked($n);}}else{switch(this.timeHeaderClickHandling){case 'PostBack':$b.timeHeaderClickPostBack(e);break;case 'CallBack':$b.timeHeaderClickCallBack(e);break;case 'JavaScript':$b.onTimeHeaderClick(e);break;}}};this.resourceCollapsePostBack=function(e,$j){var $0h={};$0h.resource=e;this.$5w("ResourceCollapse",$0h,$j);};this.resourceCollapseCallBack=function(e,$j){var $0h={};$0h.resource=e;this.$5x("ResourceCollapse",$0h,$j);};this.$6c=function(e){if($b.$5c()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceCollapse==='function'){$b.onResourceCollapse($n);if($n.preventDefault.value){return;}};switch(this.resourceCollapseHandling){case 'PostBack':$b.resourceCollapsePostBack(e);break;case 'CallBack':$b.resourceCollapseCallBack(e);break;}}else{switch(this.resourceCollapseHandling){case 'PostBack':$b.resourceCollapsePostBack(e);break;case 'CallBack':$b.resourceCollapseCallBack(e);break;case 'JavaScript':$b.onResourceCollapse(e);break;}}};this.resourceExpandPostBack=function(e,$j){var $0h={};$0h.resource=e;this.$5w("ResourceExpand",$0h,$j);};this.resourceExpandCallBack=function(e,$j){var $0h={};$0h.resource=e;this.$5x("ResourceExpand",$0h,$j);};this.$6d=function(e){if($b.$5c()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceExpand==='function'){$b.onResourceExpand($n);if($n.preventDefault.value){return;}};switch(this.resourceExpandHandling){case 'PostBack':$b.resourceExpandPostBack(e);break;case 'CallBack':$b.resourceExpandCallBack(e);break;}}else{switch(this.resourceExpandHandling){case 'PostBack':$b.resourceExpandPostBack(e);break;case 'CallBack':$b.resourceExpandCallBack(e);break;case 'JavaScript':$b.onResourceExpand(e);break;}}};this.eventEditPostBack=function(e,$0F,$j){var $0h={};$0h.e=e;$0h.newText=$0F;this.$5w("EventEdit",$0h,$j);};this.eventEditCallBack=function(e,$0F,$j){var $0h={};$0h.e=e;$0h.newText=$0F;this.$5x("EventEdit",$0h,$j);};this.$6e=function(e,$0F){if($b.$5c()){var $n={};$n.e=e;$n.newText=$0F;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventEdit==='function'){$b.onEventEdit($n);if($n.preventDefault.value){return;}};switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0F);break;case 'CallBack':$b.eventEditCallBack(e,$0F);break;case 'Update':e.text($0F);$b.events.update(e);break;};if(typeof $b.onEventEdited==='function'){$b.onEventEdited($n);if($n.preventDefault.value){return;}}}else{switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0F);break;case 'CallBack':$b.eventEditCallBack(e,$0F);break;case 'JavaScript':$b.onEventEdit(e,$0F);break;}}};this.commandCallBack=function($0B,$j){this.$6f("CallBack",$0B,$j);};this.commandPostBack=function($0B,$j){this.$6f("PostBack",$0B,$j);};this.$6f=function($0l,$0B,$j){var $0h={};$0h.command=$0B;this.$5G($0l,"Command",$0h,$j);};this.$5w=function($0n,$0G,$j){var $0H={};$0H.action=$0n;$0H.type="PostBack";$0H.parameters=$0G;$0H.data=$j;$0H.header=this.$6g();var $0I="JSON"+DayPilot.JSON.stringify($0H);__doPostBack($b.uniqueID,$0I);};this.$5x=function($0n,$0G,$j,$0l){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $0l==='undefined'){$0l="CallBack";};this.$6h();this.callbackTimeout=window.setTimeout(function(){$b.$6i();},100);var $0H={};$0H.action=$0n;$0H.type=$0l;$0H.parameters=$0G;$0H.data=$j;$0H.header=this.$6g();var $0J=DayPilot.JSON.stringify($0H);var $0I;if(typeof Iuppiter!=='undefined'&&Iuppiter.compress){$0I="LZJB"+Iuppiter.Base64.encode(Iuppiter.compress($0J));}else{$0I="JSON"+$0J;};var $d=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$6j,$0I,this.$6k);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$0I,this.$4M,$d,this.callbackError,true);}};this.$5Y=function(){if(this.backendUrl){return true;};if(typeof WebForm_DoCallback==='function'&&this.uniqueID){return true;};return false;};this.$6k=function($0K){if(typeof $b.onAjaxError==='function'){var $n={};$n.request=$0K;$b.onAjaxError($n);}else if(typeof $b.ajaxError==='function'){$b.ajaxError($0K);}};this.$6j=function($0L){$b.$4M($0L.responseText);};this.$6g=function(){var h={};h.v=this.v;h.control="dps";h.id=this.id;h.startDate=$b.startDate;h.days=$b.days;h.cellDuration=$b.cellDuration;h.cellGroupBy=$b.cellGroupBy;h.cellWidth=$b.cellWidth;h.viewType=$b.viewType;h.hourNameBackColor=$b.hourNameBackColor;h.showNonBusiness=$b.showNonBusiness;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.weekStarts=$b.weekStarts;h.treeEnabled=$b.treeEnabled;h.backColor=$b.cellBackColor;h.nonBusinessBackColor=$b.cellBackColorNonBusiness;h.locale=$b.locale;h.timeZone=$b.timeZone;h.tagFields=$b.tagFields;h.timeHeaders=$b.timeHeaders;h.cssOnly=$b.cssOnly;h.cssClassPrefix=$b.cssClassPrefix;h.durationBarMode=$b.durationBarMode;h.showBaseTimeHeader=$b.showBaseTimeHeader;h.rowHeaderColumns=$b.rowHeaderColumns;h.scale=$b.scale;h.clientState=$b.clientState;if(this.nav.scroll){h.scrollX=this.nav.scroll.scrollLeft;h.scrollY=this.nav.scroll.scrollTop;};h.selected=$b.multiselect.events();h.hashes=$b.hashes;var $0M=$b.$6l(h.scrollX,h.scrollY);var $0E=$b.$6m($0M);var $0N=$b.$6n($0M);h.rangeStart=$0E.start;h.rangeEnd=$0E.end;h.resources=$0N;h.dynamicLoading=$b.dynamicLoading;if(this.syncResourceTree){h.tree=this.$6o();};return h;};this.getViewPort=function(){var scrollX=this.nav.scroll.scrollLeft;var scrollY=this.nav.scroll.scrollTop;var $0M=this.$6l(scrollX,scrollY);var $0E=this.$6m($0M);var $0O=this.$6n($0M);var $c={};$c.start=$0E.start;$c.end=$0E.end;$c.resources=$0O;return $c;};this.$6l=function(scrollX,scrollY){var $0M={};$0M.start={};$0M.end={};$0M.start.x=Math.floor(scrollX/$b.cellWidth);$0M.end.x=Math.floor((scrollX+$b.nav.scroll.clientWidth)/$b.cellWidth);$0M.start.y=$b.$6p(scrollY).i;$0M.end.y=$b.$6p(scrollY+$b.nav.scroll.clientHeight).i;var $0P=this.itline.length;if($0M.end.x>=$0P){$0M.end.x=$0P-1;};return $0M;};this.$6m=function($0M){var $c={};if(this.itline.length<=0){$c.start=this.startDate;$c.end=this.startDate;return $c;};if(!this.itline[$0M.start.x]){throw 'Internal error: area.start.x is null.';};$c.start=this.itline[$0M.start.x].start;$c.end=this.itline[$0M.end.x].end;return $c;};this.$6n=function($0M){if(!$0M){var $0M=this.$6l(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);};var $0N=[];$0N.ignoreToJSON=true;for(var i=$0M.start.y;i<=$0M.end.y;i++){var r=$b.rows[i];if(r&&!r.Hidden){$0N.push(r.Value);}};return $0N;};this.$6o=function(){var $0Q=[];$0Q.ignoreToJSON=true;for(var i=0;i<this.rows.length;i++){if(this.rows[i].Level>0){continue;};var $0R=this.$6q(i);$0Q.push($0R);};return $0Q;};this.$6r=function($0S){var $0T=[];$0T.ignoreToJSON=true;for(var i=0;i<$0S.length;i++){$0T.push(this.$6q($0S[i]));};return $0T;};this.$6q=function(i){var $q=this.rows[i];var $0R={};$0R.Value=$q.Value;$0R.BackColor=$q.BackColor;$0R.Name=$q.Name;$0R.InnerHTML=$q.InnerHTML;$0R.ToolTip=$q.ToolTip;$0R.Expanded=$q.Expanded;$0R.Children=this.$6r($q.Children);$0R.Loaded=$q.Loaded;$0R.IsParent=$q.IsParent;$0R.Columns=this.$6s($q);if($q.MinHeight!==$b.rowMinHeight){$0R.MinHeight=$q.MinHeight;};if($q.MarginBottom!==$b.rowMarginBottom){$0R.MarginBottom=$q.MarginBottom;};return $0R;};this.$6s=function($q){if(!$q.Columns||$q.Columns.length===0){return null;};var $0U=[];$0U.ignoreToJSON=true;for(var i=0;i<$q.Columns.length;i++){var c={};c.InnerHTML=$q.Columns[i].html;$0U.push(c);};return $0U;};this.$5i=function($0V){if(this.cssClassPrefix){return this.cssClassPrefix+$0V;}else{return "";}};this.$6t=function(){var $0W=document.getElementById(id);$0W.dispose=this.dispose;};this.dispose=function(){var c=$b;if(!c.nav.top){return;};c.$6h();c.$52();c.divBreaks=null;c.divCells=null;c.divCorner=null;c.divCrosshair=null;c.divEvents=null;c.divHeader=null;c.divLines=null;c.divNorth=null;c.divRange=null;c.divResScroll=null;c.divSeparators=null;c.divSeparatorsAbove=null;c.divStretch=null;c.divTimeScroll=null;c.scrollRes=null;c.vsph=null;c.maind=null;c.nav.loading=null;c.nav.top.onmousemove=null;c.nav.top.dispose=null;c.nav.top.ontouchstart=null;c.nav.top.ontouchmove=null;c.nav.top.ontouchend=null;c.nav.top.removeAttribute('style');c.nav.top.removeAttribute('class');c.nav.top.innerHTML="";c.nav.top.dp=null;c.nav.top=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;c.nav.scroll=null;DayPilot.ue(window,'resize',c.$6u);DayPilotScheduler.unregister(c);};this.$6v=function($0X,$0l){var $0Y=$b.maind;var $0Z=$b.$6w($0X);var event=$0X.event;var $F=event.part.height||$b.eventHeight;var top=(event.part&&event.part.top)?(event.part.top+$b.rows[event.part.dayIndex].Top):$0Z.top;var $10=document.createElement('div');$10.setAttribute('unselectable','on');$10.style.position='absolute';$10.style.width=($0Z.width)+'px';$10.style.height=$F+'px';$10.style.left=$0Z.left+'px';$10.style.top=top+'px';$10.style.zIndex=101;$10.style.overflow='hidden';var $C=document.createElement("div");$10.appendChild($C);if(this.cssOnly){$10.className=this.$5i("_shadow");$C.className=this.$5i("_shadow_inner");};if(!this.cssOnly){if($0l==='Fill'){$C.style.backgroundColor="#aaaaaa";$C.style.opacity=0.5;$C.style.filter="alpha(opacity=50)";$C.style.height="100%";if($0X&&$0X.event&&$0X.style){$C.style.fontSize=$0X.style.fontSize;$C.style.fontFamily=$0X.style.fontFamily;$C.style.color=$0X.style.color;$C.innerHTML=$0X.event.client.innerHTML();}}else{$10.style.paddingTop="2px";$C.style.border='2px dotted #666666';}};$0Y.appendChild($10);$10.calendar=$b;return $10;};this.$6p=function(y){var $c={};var element;var top=0;var $11=0;var $12=this.rows.length;for(var i=0;i<$12;i++){var $q=this.rows[i];if($q.Hidden){continue;};$11+=$q.Height;if(y<$11||i===$12-1){top=$11-$q.Height;element=$q;break;}};$c.top=top;$c.bottom=$11;$c.i=i;$c.element=element;return $c;};this.$6x=function(i){var top=0;var $A=0;var $13=0;if(i>this.rows.length-1){throw "Row index too high (DayPilotScheduler._getRowByIndex)";};for(var j=0;j<=i;j++){var $q=this.rows[j];if($q.Hidden){continue;};$A+=$q.Height;$13++;};top=$A-$q.Height;var $c={};$c.top=top;$c.height=$q.Height;$c.bottom=$A;$c.i=$13-1;return $c;};this.$6y=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $b.events.list==='undefined')||(!$b.events.list);}else{return false;}};this.events.find=function(id){var $14=$b.events.list.length;for(var i=0;i<$14;i++){if($b.events.list[i].id===id){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.findRecurrent=function($15,$09){var $14=$b.events.list.length;for(var i=0;i<$14;i++){if($b.events.list[i].recurrentMasterId===$15&&$b.events.list[i].start.getTime()===$09.getTime()){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.$5J=function($j){var $0p=[];for(var i=0;i<$b.rows.length;i++){var $q=$b.rows[i];for(var r=0;r<$q.events.length;r++){if($q.events[r].data===$j){$0p.push(i);$q.events.splice(r,1);break;}}};return $0p;};this.events.$5K=function($j){var $0p=[];for(var i=0;i<$b.rows.length;i++){var $q=$b.rows[i];var ep=$b.$6z($j,$q);if(ep){var $13=DayPilot.indexOf($b.events.list,ep.data);$b.$6A($13);if(typeof $b.onBeforeEventRender==='function'){ep.cache=$b.cache.events[$13];};$0p.push(i);}};return $0p;};this.events.update=function(e,$j){var $0h={};$0h.oldEvent=new DayPilot.Event(e.copy(),$b);$0h.newEvent=new DayPilot.Event(e.temp(),$b);var $0n=new DayPilot.Action($b,"EventUpdate",$0h,$j);var $0p=$b.events.$5J(e.data);e.commit();$0p=$0p.concat($b.events.$5K(e.data));$b.$5L($0p);$b.$5M();$b.$57($0p);$b.$50();return $0n;};this.events.remove=function(e,$j){var $0h={};$0h.e=new DayPilot.Event(e.data,$b);var $0n=new DayPilot.Action($b,"EventRemove",$0h,$j);var $13=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($13,1);var $0p=$b.events.$5J(e.data);$b.$5L($0p);$b.$5M();$b.$57($0p);return $0n;};this.events.add=function(e,$j){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);var $0h={};$0h.e=e;var $0n=new DayPilot.Action($b,"EventAdd",$0h,$j);var ri=DayPilot.indexOf($b.rows,$b.$5d(e.resource()));var $q=$b.rows[ri];var $0p=$b.events.$5K(e.data);$b.$5L($0p);$b.$5M();$b.$57($0p);if($b.viewType==="Gantt"&&$b.initialized){$b.update();};return $0n;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($0n){if(!$0n){return;};if($0n.isAction){$b.queue.list.push($0n);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($j){var $0h={};$0h.actions=$b.queue.list;$b.$5x('Notify',$0h,$j,"Notify");$b.queue.list=[];};this.queue.clear=function(){$b.queue.list=[];};this.queue.pop=function(){return $b.queue.list.pop();};this.cells.find=function($N,$0D){var x=$b.getPixels(new DayPilot.Date($N)).i;var $p=$b.$5d($0D).Top;var y=$b.$6p($p).i;return this.findXy(x,y);};this.cells.findByPixels=function(x,y){var x=$b.$5r(x).x;var y=$b.$6p(y).i;return this.findXy(x,y);};this.cells.findXy=function(x,y){if(x===null||y===null){return $16();};var $07=$b.itline[x];var $K={};$K.x=x;$K.y=y;$K.i=x+"_"+y;$K.resource=$b.rows[y].Value;$K.start=$07.start;$K.end=$07.end;$K.div=$b.cache.cells[$K.i];if(!$b.cellProperties){$b.cellProperties=[];};if($b.cellProperties){var p=$b.$6B(x,y);if(!p){p={};$b.cellProperties[$K.i]=p;};$K.properties=p;};return $16($K);};var $16=function(a){var $0t=[];if(DayPilot.isArray(a)){for(var i=0;i<a.length;i++){$0t.push(a[i]);}}else if(typeof a==='object'){$0t.push(a);};$0t.cssClass=function($17){this.each(function($18){$18.properties.cssClass=DayPilot.Util.addClassToString($18.properties.cssClass,$17);if($18.div){DayPilot.Util.addClass($18.div,$17);}});return this;};$0t.addClass=$0t.cssClass;$0t.html=function($t){this.each(function($18){$18.properties.html=$t;if($18.div){$18.div.innerHTML=$t;}});return this;};$0t.each=function(f){if(!f){return;};for(var i=0;i<this.length;i++){f($0t[i]);}};return $0t;};this.$6C=function($19,$1a){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($19);if(typeof console!=='undefined'){console.log($19);}};this.showDebugMessages=function(){alert("Log:\n"+$b.debugMessages.join("\n"));};this.$6D=function($o){if($o.ticks===this.startDate.ticks){return $o;};var $1b=this.startDate;if($o.ticks<this.startDate.ticks){var $1c=this.itline[0].end.ticks-this.itline[0].start.ticks;while($1b.ticks>$o.ticks){$1b=$1b.addTime(-$1c);};return $1b;};$1b=$o;var $K=null;while($K===null){$K=this.$5t($1b);$1b=$1b.addMinutes(1);};return $K.start;};this.$6w=function($0X){var $q=this.$6p($b.coords.y);var e=$0X.event;if(typeof e.end !=='function'){alert("e.end function is not defined");};if(!e.end()){alert("e.end() returns null");};var $0a=DayPilot.Date.diff(e.end().d,e.start().d);var $1d=$U.useBox($0a);var $1e=e.start().getDatePart();var $1f=0;var x=$b.coords.x;if($b.scale==="Manual"){var $1g=(function(){var end=$b.getDate($b.coords.x,true,true);var $N=end.addTime(-$0a);var $1h=$b.getPixels($N).boxLeft;var $1i=$b.getPixels(end).boxRight;var end=Math.min($1i,$b.coords.x);return end -$1h;})();var $03=Math.min(DayPilotScheduler.moveOffsetX,$1g);x=$b.coords.x-$03;};if($1d){$1f=e.start().getTime()-this.$6D(e.start()).getTime();$1f=(function($1j,$03){var $1k=$b.$6E($b.$5t($1j));var $1l=$b.$6E($b.$5r(x).cell);if($1k>$1l*1.2){var $1m=$03>0?1:-1;var $03=Math.abs($03);while($03>=$1l){$03-=$1l;};$03*=$1m;};return $03;})(e.start(),$1f);};var $1n=0;if(DayPilotScheduler.moveDragStart&&$b.scale!=="Manual"){if($1d){$1n=DayPilotScheduler.moveDragStart.getTime()-this.$6D(e.start()).getTime();var $1o=$b.cellDuration*60*1000;$1n=Math.floor($1n/$1o)*$1o;}else{$1n=DayPilotScheduler.moveDragStart.getTime()-e.start().getTime();}}else{$1n=0;};if(this.eventMoveToPosition){$1n=0;};var $N=this.getDate(x,true).addTime(-$1n);if(DayPilotScheduler.resizing){$N=e.start();};if(this.snapToGrid){$N=this.$6D($N);};$N=$N.addTime($1f);var end=$N.addTime($0a);var $1p=$N;var $1q=end;if(this.viewType==='Days'){var $1r=this.rows[e.part.dayIndex].Start.getTime()-this.startDate.getTime();var $1p=$N.addTime(-$1r);var $1q=$1p.addTime($0a);var $1s=$q.element.Start.getTime()-this.startDate.getTime();$N=$1p.addTime($1s);end=$N.addTime($0a);};var $1t=this.getPixels($1p);var $1u=this.getPixels($1q);var $y=($1d)?$1t.boxLeft:$1t.left;var $T=($1d)?($1u.boxRight-$y):($1u.left-$y);var $0Z={};$0Z.top=$q.top;$0Z.left=$y;$0Z.row=$q.element;$0Z.rowIndex=$q.i;$0Z.width=$T;$0Z.start=$N;$0Z.end=end;$0Z.relativeY=$b.coords.y-$q.top;return $0Z;};this.$6E=function($07){return $07.end.ticks-$07.start.ticks;};this.$6F=function(y){return this.treePreventParentUsage&&this.$6G(y);};this.$6G=function(y){var $q=this.rows[y];if($q.IsParent){return true;};if(this.treeEnabled){if($q.Children&&$q.Children.length>0){return true;}};return false;};this.$6H=function(){var scroll=this.nav.scroll;if(!$b.coords){return;};var $10=DayPilotScheduler.movingShadow;var $0Z=this.$6w(DayPilotScheduler.moving);var ev=DayPilotScheduler.moving.event;var $1v=0;(function(){var y=$0Z.relativeY;var $q=$0Z.row;var $1w=$q.lines.length;var top=0;var lh=$b.eventHeight;var $1x=$q.lines.length;for(var i=0;i<$q.lines.length;i++){var $S=$q.lines[i];if($S.isFree($0Z.left,$b.cellWidth)){$1x=i;break;}};var $08=Math.floor((y-top+lh/ 2)/ lh);var $08=Math.min($1x,$08);var $08=Math.max(0,$08);$1v=$08;})();var $1y=!ev.data.moveVDisabled&&$b.viewType!=='Gantt';var $1z=!ev.data.moveHDisabled;var $1A=$1v*$b.eventHeight;if($1A>0){$1A-=3;};if($1y){if(!this.$6F($0Z.rowIndex)){$10.row=$0Z.row;$10.style.height=Math.max($0Z.row.Height,0)+'px';$10.style.top=($0Z.top)+'px';if($b.eventMoveToPosition){$10.style.top=($0Z.top+$1A)+"px";$10.style.height="3px";$10.line=$1v;}}else{var $1B=$10.row;var $1C=$0Z.rowIndex<$1B.Index?1:-1;for(var i=$0Z.rowIndex;i!==$1B.Index;i+=$1C){var $q=this.rows[i];if(!this.$6F(i)&&!$q.Hidden){$10.style.top=($q.Top)+'px';$10.style.height=Math.max($q.Height,0)+'px';$10.row=$q;if($b.eventMoveToPosition){$1v=$1C>0?0:$q.lines.length-1;$10.style.top=($0Z.top+$1A)+"px";$10.style.height="3px";$10.line=$1v;};break;}}}}else{var $1B=this.rows[this.$6p(parseInt($10.style.top)).i];var $1x=$1B.lines.length;for(var i=0;i<$1B.lines.length;i++){var $S=$1B.lines[i];if($S.isFree($0Z.left,$b.cellWidth)){$1x=i;break;}};$10.style.height=Math.max($1B.Height,0)+'px';$10.style.top=($1B.Top)+'px';$10.row=$1B;if($b.eventMoveToPosition){if($0Z.row===$1B){$10.style.top=($1B.Top+$1A)+"px";$10.style.height="3px";$10.line=$1v;}else{var $08=($0Z.rowIndex>$1B.Index&&$1x>0)?$1x*$b.eventHeight-3:0;$10.style.top=($1B.Top+$08)+"px";$10.style.height="3px";$10.line=0;}}};if($1z){$10.style.left=$0Z.left+'px';if($b.eventMoveToPosition){$10.style.width=($b.cellWidth)+'px';}else{$10.style.width=($0Z.width)+'px';};$10.start=$0Z.start;$10.end=$0Z.end;}else{$10.start=ev.start();$10.end=ev.end();}};this.$6I=function(){if(this.rowHeaderColumns){this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width");}};this.$5g=function(){var $1D=0;this.$6I();if(this.rowHeaderCols){for(var i=0;i<this.rowHeaderCols.length;i++){$1D+=this.rowHeaderCols[i];}}else{$1D=this.rowHeaderWidth;};return $1D;};this.$6J=function(){var $1E=this.divHeader;var $1x=[];for(var i=0;i<$1E.rows.length;i++){for(var j=0;j<$1E.rows[i].cells.length;j++){var $C=$1E.rows[i].cells[j].firstChild.firstChild;if(!$C||!$C.style){continue;};var $1F=$C.style.width;var $1G=$C.style.right;$C.style.position="absolute";$C.style.width="auto";$C.style.right="auto";$C.style.whiteSpace="nowrap";var w=$C.offsetWidth+2;$C.style.position="";$C.style.width=$1F;$C.style.right=$1G;$C.style.whiteSpace="";if(typeof $1x[j]==='undefined'){$1x[j]=0;};$1x[j]=Math.max($1x[j],w);}};var $1H=0;var $1I=false;this.$6I();if(this.rowHeaderCols){for(var i=0;i<$1x.length;i++){if(this.rowHeaderCols[i]){if($1x[i]>this.rowHeaderCols[i]){this.rowHeaderCols[i]=$1x[i];$1I=true;};$1H+=this.rowHeaderCols[i];}}}else{if(this.rowHeaderWidth<$1x[0]){$1H=$1x[0];$1I=true;}};if($1I){if(this.$6K){this.$6K.widths=this.rowHeaderCols;this.$6K.updateWidths();DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols);};this.rowHeaderWidth=$1H;this.$6L();}};this.$4U=function(){var parent=this.divResScroll;DayPilot.puc(parent);parent.innerHTML='';this.$6I();var $1J=this.rowHeaderCols;var $0U=$1J?this.rowHeaderCols.length:0;var $1D=this.$5g();var $1E=document.createElement("table");$1E.style.borderCollapse="collapse";$1E.style.KhtmlUserSelect="none";$1E.style.MozUserSelect="none";$1E.style.WebkitUserSelect="none";$1E.style.width=$1D+"px";$1E.style.border="0px none";$1E.cellSpacing=0;$1E.cellPadding=0;$1E.onmousemove=function(){$b.$6M();$b.$6N();};if(!this.cssOnly){$1E.className=this.$5i("resourceheader");};this.divHeader=$1E;var m=this.rows.length;for(var i=0;i<m;i++){var $q=this.rows[i];if($q.Hidden){continue;};var r=$1E.insertRow(-1);var c=r.insertCell(-1);c.row=$q;c.index=i;var $T=$1J?$1J[0]:this.rowHeaderWidth;c.style.width=($T)+"px";c.style.border="0px none";if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$q.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($q.ToolTip){c.title=$q.ToolTip;};c.setAttribute("unselectable","on");c.setAttribute('resource',$q.Value);c.onmousemove=$b.$6O;c.onmouseout=$b.$6P;c.oncontextmenu=$b.$6Q;c.onclick=$b.$6R;var $B=document.createElement("div");$B.style.width=($T)+"px";$B.setAttribute("unselectable","on");$B.className=this.cssOnly?this.$5i('_rowheader'):this.$5i('rowheader');if($q.CssClass){DayPilot.Util.addClass($B,$q.CssClass);};if($q.BackColor){$B.style.backgroundColor=$q.BackColor;};$B.style.height=($q.Height)+"px";$B.style.overflow='hidden';$B.style.position='relative';var $C=document.createElement("div");$C.setAttribute("unselectable","on");$C.className=this.cssOnly?this.$5i('_rowheader_inner'):"";$B.appendChild($C);var $1K=document.createElement("div");$1K.style.position="absolute";$1K.style.bottom="0px";$1K.style.width="100%";$1K.style.height="1px";if(this.cssOnly){$1K.className=this.$5i("_resourcedivider");}else{$1K.style.backgroundColor=this.borderColor;};$B.appendChild($1K);if(this.treeEnabled){var $1L=document.createElement("div");$1L.style.width="10px";$1L.style.height="10px";$1L.style.backgroundRepeat="no-repeat";$1L.style.position='absolute';$1L.style.left=($q.Level*this.treeIndent+this.treeImageMarginLeft)+'px';$1L.style.top=this.treeImageMarginTop+"px";if(!$q.Loaded&&$q.Children.length===0){if(this.treeImageExpand&&!this.cssOnly){$1L.style.backgroundImage="url('"+this.treeImageExpand+"')";};$1L.className=this.cssOnly?this.$5i('_tree_image_expand'):this.$5i('tree_image_expand');$1L.style.cursor='pointer';$1L.index=i;$1L.onclick=function(ev){$b.$6S(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else if($q.Children.length>0){if($q.Expanded){if(this.treeImageCollapse&&!this.cssOnly){$1L.style.backgroundImage="url('"+this.treeImageCollapse+"')";};$1L.className=this.cssOnly?this.$5i('_tree_image_collapse'):this.$5i('tree_image_collapse');}else{if(this.treeImageExpand&&!this.cssOnly){$1L.style.backgroundImage="url('"+this.treeImageExpand+"')";};$1L.className=this.cssOnly?this.$5i('_tree_image_expand'):this.$5i('tree_image_expand');};$1L.style.cursor='pointer';$1L.index=i;$1L.onclick=function(ev){$b.$6T(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else{if(this.treeImageNoChildren&&!this.cssOnly){$1L.style.backgroundImage="url('"+this.treeImageNoChildren+"')";};$1L.className=this.cssOnly?this.$5i('_tree_image_no_children'):this.$5i('tree_image_no_children');};$C.appendChild($1L);};var $1M=document.createElement("div");if(this.treeEnabled){$1M.style.marginLeft=(($q.Level+1)*this.treeIndent)+'px';}else if(!this.cssOnly){$1M.style.marginLeft="4px";};$1M.innerHTML=$q.InnerHTML;$C.appendChild($1M);c.appendChild($B);if($q.areas){for(var j=0;j<$q.areas.length;j++){var $0M=$q.areas[j];if($0M.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($B,$q,$0M);$B.appendChild(a);}};if(!$q.Columns||$q.Columns.length===0){c.colSpan=$0U>0?$0U:1;$B.style.width=$1D+"px";}else{for(var j=1;j<$0U;j++){var c=r.insertCell(-1);c.row=$q;c.index=i;if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$q.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($q.ToolTip){c.title=$q.ToolTip;};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$5i('rowheader');};c.setAttribute('resource',$q.Value);c.onmousemove=$b.$6O;c.onmouseout=$b.$6P;c.oncontextmenu=$b.$6Q;c.onclick=$b.$6R;var $B=document.createElement("div");var w=this.cssOnly?$1J[j]:$1J[j]-1;if($q.BackColor){$B.style.backgroundColor=$q.BackColor;};$B.style.width=w+"px";$B.style.height=($q.Height)+"px";$B.style.overflow='hidden';$B.style.position='relative';$B.setAttribute("unselectable","on");if(this.cssOnly){DayPilot.Util.addClass($B,this.$5i("_rowheader"));DayPilot.Util.addClass($B,this.$5i("_rowheadercol"));DayPilot.Util.addClass($B,this.$5i("_rowheadercol"+j));};if($q.CssClass){DayPilot.Util.addClass($B,$q.CssClass);};var $C=document.createElement("div");$C.setAttribute("unselectable","on");if(this.cssOnly){$C.className=this.$5i("_rowheader_inner");};$B.appendChild($C);var $1K=document.createElement("div");$1K.style.position="absolute";$1K.style.bottom="0px";$1K.style.width=($1J[j]-1)+"px";$1K.style.height="1px";$1K.className=this.$5i("_resourcedivider");if(!this.cssOnly){$1K.style.backgroundColor=this.borderColor;};$B.appendChild($1K);var $1M=document.createElement("div");if(!this.cssOnly){$1M.style.marginLeft='4px';};var $1N=$q.Columns[j-1]?$q.Columns[j-1].html:"";$1M.innerHTML=$1N;$C.appendChild($1M);c.appendChild($B);}}};var r=$1E.insertRow(-1);var c=r.insertCell(-1);c.colSpan=$0U+1;c.style.width=$1D+"px";c.style.height=(parent.clientHeight+20)+"px";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;c.style.cursor='default';};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$5i('rowheader');c.style.fontSize="1px";c.innerHTML="&nbsp;";};if(this.cssOnly){var $B=document.createElement("div");$B.style.position="relative";$B.style.height="100%";$B.className=this.$5i('_rowheader');c.appendChild($B);};parent.appendChild($1E);if(this.rowHeaderWidthAutoFit){this.$6J();}};this.$6Q=function(){var $q=this.row;var r={};r.type='resource';r.start=$q.Start;r.name=$q.Name;r.value=$q.Value;r.id=$q.Value;r.index=this.index;r.root=$b;r.toJSON=function($1O){var $0J={};$0J.start=this.start;$0J.name=this.name;$0J.value=this.value;$0J.index=this.index;return $0J;};if($q.contextMenu){$q.contextMenu.show(r);};return false;};this.$6R=function(ev){var $q=this.row;var r=$b.$6U($q,this.index);$b.$6a(r);};this.$6V=function(ev){var $K=this.cell;$K.start=this.cell.start;$K.level=this.cell.level;if(!$K.end){$K.end=new DayPilot.Date($K.start).addMinutes($b.cellDuration);};$b.$6b($K);};this.$6U=function($q,$13){var r={};r.type='resource';r.start=$q.Start;r.name=$q.Name;r.value=$q.Value;r.id=$q.Value;r.index=$13;r.root=$b;r.toJSON=function($1O){var $0J={};$0J.start=this.start;$0J.name=this.name;$0J.value=this.value;$0J.id=this.id;$0J.index=this.index;return $0J;};return r;};this.$4T=function($0q,$1P){var $1Q=[];var $1a=null;if($0q&&$1P){var $1R=$0q;var $1a=[];for(var i=0;i<$1R.length;i++){var e=$1R[i];var $00=false;for(var j=0;j<this.events.list.length;j++){var ex=this.events.list[j];if(ex.id===e.id){this.events.list[j]=e;$00=true;break;}};if(!$00){$1a.push(e);}};this.events.list=this.events.list.concat($1a);}else if($0q){this.events.list=$0q;}else if(!this.events.list){this.events.list=[];};var $0t=$1a||this.events.list;var $1S=$0t.length;if(typeof this.onBeforeEventRender==='function'){var $N=$1a?this.events.list.length-$1a.length:0;var end=this.events.list.length;for(var i=$N;i<end;i++){this.$6A(i);}};var $h=[];for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];if(!$1a||typeof $q.events==="undefined"){$q.events=[];};$q.data={};$q.data.start=new DayPilot.Date($q.Start);$q.data.startTicks=$q.data.start.getTime();$q.data.end=$U.isResourcesView()?this.$6W():$q.data.start.addDays(1);$q.data.endTicks=$q.data.end.getTime();$q.data.offset=$q.Start.getTime()-this.$6X().getTime();$q.data.i=i;if(this.$6F(i)){continue;};for(var j=0;$0t&&j<$1S;j++){if($1Q[j]){continue;};var e=$0t[j];var ep=this.$6z(e,$q);if(!ep){continue;};if(typeof this.onBeforeEventRender==='function'){ep.cache=this.cache.events[j+$N];};$h.push(i);if(ep.data.resource!=="*"&&ep.part.start.getTime()===ep.start().getTime()&&ep.part.end.getTime()===ep.end().getTime()){$1Q[j]=true;}}};for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];this.$6Y($q);};this.$5M();return DayPilot.ua($h);};this.$6A=function(i){var $X=this.cache.events;var $j=this.events.list[i];var $1T={};for(var name in $j){$1T[name]=$j[name];};if(typeof this.onBeforeEventRender==='function'){var $n={};$n.e=$1T;this.onBeforeEventRender($n);};$X[i]=$1T;};this.$6Y=function($q){$q.lines=[];if(this.sortDirections){$q.events.sort(this.$6Z);}else{$q.events.sort(this.$70);};for(var j=0;j<$q.events.length;j++){var e=$q.events[j];$q.putIntoLine(e);}};this.$5L=function($0p){$0p=DayPilot.ua($0p);for(var i=0;i<$0p.length;i++){var ri=$0p[i];$b.$6Y($b.rows[ri]);}};this.$6z=function(e,$q){var $N=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.end);var $1U=$N.getTime();var $1V=end.getTime();if($1V<$1U){return null;};var $1W=false;switch(this.viewType){case 'Days':$1W=!($1V<=$q.data.startTicks||$1U>=$q.data.endTicks)||($1U===$1V&&$1U===$q.data.startTicks);break;case 'Resources':$1W=($q.Value===e.resource||$q.Value==="*"||e.resource==="*")&&(!($1V<=$q.data.startTicks||$1U>=$q.data.endTicks)||($1U===$1V&&$1U===$q.data.startTicks));break;case 'Gantt':$1W=($q.Value===e.id)&&!($1V<=$q.data.startTicks||$1U>=$q.data.endTicks);break;};if(!$1W){return null;};var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=$q.data.i;ep.part.start=$q.data.startTicks<$1U?ep.start():$q.data.start;ep.part.end=$q.data.endTicks>$1V?ep.end():$q.data.end;var $1X=this.getPixels(ep.part.start.addTime(-$q.data.offset));var $1Y=this.getPixels(ep.part.end.addTime(-$q.data.offset));var $y=$1X.left;var $z=$1Y.left;if($y===$z&&($1X.cut||$1Y.cut)){return null;};ep.part.box=$U.useBox($1V-$1U);if(ep.part.box){var $1Z=$1X.boxLeft;var $20=$1Y.boxRight;ep.part.left=$1Z;ep.part.width=$20-$1Z;ep.part.barLeft=Math.max($y-ep.part.left,0);ep.part.barWidth=Math.max($z-$y,1);}else{ep.part.left=$y;ep.part.width=Math.max($z-$y,0);ep.part.barLeft=0;ep.part.barWidth=Math.max($z-$y-1,1);};$q.events.push(ep);return ep;};this.$70=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $21=a.start().ticks-b.start().ticks;if($21!==0){return $21;};var $22=b.end().ticks-a.end().ticks;return $22;};this.$6Z=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $b.$70(a,b);};var $c=0;var i=0;while($c===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$c=0;}else{$c=$b.$71(a.data.sort[i],b.data.sort[i],$b.sortDirections[i]);};i++;};return $c;};this.$71=function(a,b,$23){var $24=($23!=="desc");var $25=$24?-1:1;var $26=-$25;if(a===null&&b===null){return 0;};if(b===null){return $26;};if(a===null){return $25;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$25:$26;};this.$4R=function(){this.rows=[];this.hasChildren=false;var $0O=this.resources;var $27=this.$5Y();if(!$27){if(this.viewType==="Gantt"){$0O=this.$72();}else if(this.viewType==="Days"){$0O=this.$73();}};var $13={};$13.i=0;this.$74($0O,$13,0,null,this.treeEnabled,false);};this.$72=function(){var $0t=[];if(this.ganttAppendToResources&&this.resources){for(var i=0;i<this.resources.length;i++){$0t.push(this.resources[i]);}};if(!this.events.list){return;};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];var r={};r.id=e.id;r.name=e.text;$0t.push(r);};return $0t;};this.$73=function(){var $0t=[];var $28=this.$75.locale();for(var i=0;i<this.days;i++){var d=this.startDate.addDays(i);var r={};r.name=d.toString($28.datePattern,$28);r.start=d;$0t.push(r);};return $0t;};this.$6X=function(){if(this.itline&&this.itline.length>0){return this.itline[0].start;};return this.startDate;};this.$6W=function(){if(this.itline&&this.itline.length>0){return this.itline[this.itline.length-1].end;};return this.startDate.addDays(this.days);};this.$74=function($0O,$13,$29,parent,$2a,$2b){if(!$0O){return;};for(var i=0;i<$0O.length;i++){if(!$0O[i]){continue;};var $2c={};$2c.level=$29;$2c.hidden=$2b;$2c.index=$13.i;var $0N=this.$76($0O[i],$2c);var $q={};$q.BackColor=$0N.backColor;$q.CssClass=$0N.cssClass;$q.Expanded=$0N.expanded;$q.Name=$0N.name;$q.InnerHTML=$0N.html?$0N.html:$q.Name;$q.MinHeight=typeof $0N.minHeight!=='undefined'?$0N.minHeight:$b.rowMinHeight;$q.MarginBottom=typeof $0N.marginBottom!=='undefined'?$0N.marginBottom:$b.rowMarginBottom;$q.Loaded=!$0N.dynamicChildren;$q.Value=$0N.id||$0N.value;$q.ToolTip=$0N.toolTip;$q.Children=[];$q.Columns=[];$q.Start=$0N.start?new DayPilot.Date($0N.start):this.$6X();$q.IsParent=$0N.isParent;$q.contextMenu=$0N.contextMenu?eval($0N.contextMenu):this.contextMenuResource;$q.areas=$0N.areas;$q.Height=this.eventHeight;$q.Hidden=$2b;$q.Level=$29;$q.Index=$13.i;$q.Resource=$0O[i];$q.lines=[];$q.isRow=true;$q.height=function(){var $2d=Math.max(1,this.lines.length);var $2e=$b.durationBarDetached?($b.eventHeight+10):$b.eventHeight;var $F=$2d*$2e+this.MarginBottom;return($F>this.MinHeight)?$F:this.MinHeight;};$q.putIntoLine=function(ep){var $2f=this;for(var i=0;i<this.lines.length;i++){var $S=this.lines[i];if($S.isFree(ep.part.left,ep.part.width)){$S.push(ep);return i;}};var $S=[];$S.isFree=function($2g,$2h){var end=$2g+$2h-1;var $1x=this.length;for(var i=0;i<$1x;i++){var e=this[i];if(!(end<e.part.left||$2g>e.part.left+e.part.width-1)){return false;}};return true;};$S.push(ep);this.lines.push($S);return this.lines.length-1;};this.rows.push($q);if(parent!==null){parent.Children.push($13.i);};if($0N.columns){for(var j=0;j<$0N.columns.length;j++){$q.Columns.push($0N.columns[j]);}};$13.i++;if($2a&&$0N.children&&$0N.children.length){this.hasChildren=true;var $2i=$2b||!$q.Expanded;this.$74($0N.children,$13,$29+1,$q,true,$2i);}}};this.$76=function($0N,$2c){var r={};for(var name in $0N){r[name]=$0N[name];};if(typeof $0N.html==='undefined'){r.html=$0N.name;};for(var name in $2c){r[name]=$2c[name];};if(typeof this.onBeforeResHeaderRender==='function'){var $n={};$n.resource=r;this.onBeforeResHeaderRender($n);};return r;};this.$77=function(){this.nav.top=document.getElementById(this.id);this.nav.top.dp=this;this.nav.top.innerHTML="";if(!this.cssOnly){this.nav.top.style.border="1px solid "+this.borderColor;}else{DayPilot.Util.addClass(this.nav.top,this.$5i("_main"));};this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';if(this.width){this.nav.top.style.width=this.width;};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};this.nav.top.style.lineHeight="1.2";this.nav.top.style.position="relative";this.nav.top.onmousemove=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;}};this.nav.top.ontouchstart=$0b.onMainTouchStart;this.nav.top.ontouchmove=$0b.onMainTouchMove;this.nav.top.ontouchend=$0b.onMainTouchEnd;if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};var $2j=this.$5g();var $2k=this.$75.layout();if($2k==='DivBased'){var $y=document.createElement("div");$y.style.position="absolute";$y.style.left="0px";$y.style.width=($2j)+"px";$y.appendChild(this.$78());var $2l=document.createElement("div");$2l.style.height="1px";$2l.className=this.$5i("_divider_horizontal");if(!this.cssOnly){$2l.style.backgroundColor=this.borderColor;};$y.appendChild($2l);this.nav.dh1=$2l;$y.appendChild(this.$79());this.nav.left=$y;var $2m=document.createElement("div");$2m.style.position="absolute";$2m.style.left=($2j)+"px";$2m.style.width="1px";$2m.style.height=(this.$5f()+this.$5j())+"px";$2m.className=this.$5i("_divider");if(!this.cssOnly){$2m.style.backgroundColor=this.borderColor;};this.nav.divider=$2m;var $z=document.createElement("div");$z.style.marginLeft=($2j+1)+"px";$z.style.marginRight='1px';$z.style.position='relative';$z.appendChild(this.$7a());this.nav.right=$z;var $2n=document.createElement("div");$2n.style.height="1px";$2n.style.position="absolute";$2n.style.top=this.$5f()+"px";$2n.style.width="100%";$2n.className=this.$5i("_divider_horizontal");if(!this.cssOnly){$2n.style.backgroundColor=this.borderColor;};$z.appendChild($2n);this.nav.dh2=$2n;$z.appendChild(this.$7b());var $2o=document.createElement("div");$2o.style.clear='left';this.nav.top.appendChild($y);this.nav.top.appendChild($2m);this.nav.top.appendChild($z);this.nav.top.appendChild($2o);}else{var $1E=document.createElement("table");$1E.cellPadding=0;$1E.cellSpacing=0;$1E.border=0;$1E.style.position='absolute';if(!this.cssOnly){$1E.style.backgroundColor=this.hourNameBackColor;};var $2p=$1E.insertRow(-1);var $2q=$2p.insertCell(-1);$2q.appendChild(this.$78());var $2r=$2p.insertCell(-1);$2r.appendChild(this.$7a());var $2s=$1E.insertRow(-1);var $2t=$2s.insertCell(-1);$2t.appendChild(this.$79());var $2u=$2s.insertCell(-1);$2u.appendChild(this.$7b());this.nav.top.appendChild($1E);};this.vsph=document.createElement("div");this.vsph.style.display="none";this.nav.top.appendChild(this.vsph);var $2v=document.createElement("input");$2v.type="hidden";$2v.id=this.id+"_state";$2v.name=this.id+"_state";this.nav.state=$2v;this.nav.top.appendChild($2v);var loading=document.createElement("div");loading.style.position='absolute';loading.style.left=(this.$5g()+5)+"px";loading.style.top=(this.$5f()+5)+"px";loading.style.display='none';if(!this.cssOnly){loading.style.backgroundColor=this.loadingLabelBackColor;loading.style.fontSize=this.loadingLabelFontSize;loading.style.fontFamily=this.loadingLabelFontFamily;loading.style.color=this.loadingLabelFontColor;loading.style.padding='2px';};loading.innerHTML=this.loadingLabelText;DayPilot.Util.addClass(loading,this.$5i("_loading"));this.nav.loading=loading;this.nav.top.appendChild(loading);};this.$4Z=function(){var $F=this.$5f();this.nav.corner.style.height=($F)+"px";this.divTimeScroll.style.height=$F+"px";this.divNorth.style.height=$F+"px";if(this.nav.dh1&&this.nav.dh2){this.nav.dh1.style.top=$F+"px";this.nav.dh2.style.top=$F+"px";};this.nav.loading.style.top=($F+5)+"px";this.nav.scroll.style.top=($F+1)+"px";};this.$6L=function(){this.$6I();var $T=this.$5g();var $H=$T;this.nav.corner.style.width=$T+"px";this.divCorner.style.width=$T+"px";this.divResScroll.style.width=$T+"px";this.nav.left.style.width=($T)+"px";this.nav.divider.style.left=($T)+"px";this.nav.right.style.marginLeft=($T+1)+"px";if(this.nav.message){this.nav.message.style.paddingLeft=$T+"px";};if(this.nav.loading){this.nav.loading.style.left=($T+5)+"px";};var $2w=function($C,$T){if(!$C||!$C.style){return;};$K.style.width=$T+"px";$C.style.width=$T+"px";var $2m=$C.lastChild;if($2m){$2m.style.width=$T+"px";}};var $1E=this.divHeader;$1E.style.width=$T+"px";for(var i=0;i<$1E.rows.length;i++){var $K=$1E.rows[i].cells[0];if($K.colSpan>1){var $C=$1E.rows[i].cells[0].firstChild;$2w($C,$H);}else{if(this.rowHeaderCols){for(var j=0;j<$1E.rows[i].cells.length;j++){var $T=this.rowHeaderCols[j];var $C=$1E.rows[i].cells[j].firstChild;$2w($C,$T);}}else{var $T=this.rowHeaderWidth;var $C=$1E.rows[i].cells[0].firstChild;$2w($C,$T);}}};this.$6M();};this.$7c=function(){var $B=$b.nav.corner;var $2x=this.rowHeaderColumns;var $q=document.createElement("div");$q.style.position="absolute";$q.style.bottom="0px";$q.style.left="0px";$q.style.width="5000px";$q.style.height=this.headerHeight+"px";$q.style.overflow="hidden";$q.className=this.$5i("_columnheader");$B.appendChild($q);var $C=document.createElement("div");$C.style.position="absolute";$C.style.top="0px";$C.style.bottom="0px";$C.style.left="0px";$C.style.right="0px";$C.className=this.$5i("_columnheader_inner");$q.appendChild($C);var $2y=new DayPilot.Splitter($C);$2y.widths=DayPilot.Util.propArray($2x,"width");$2y.height=this.headerHeight;$2y.css.title=this.$5i("_columnheader_cell");$2y.css.titleInner=this.$5i("_columnheader_cell_inner");$2y.css.splitter=this.$5i("_columnheader_splitter");$2y.titles=DayPilot.Util.propArray($2x,"title");$2y.updating=function($n){DayPilot.Util.updatePropsFromArray($b.rowHeaderColumns,"width",this.widths);$b.$6L();};$2y.color='#000000';$2y.opacity=30;$2y.init();this.$6K=$2y;};this.$78=function(){var $2j=this.$5g();var $B=document.createElement("div");$b.nav.corner=$B;$B.style.width=$2j+"px";$B.style.height=(this.$5f())+"px";if(!this.cssOnly){$B.style.backgroundColor=this.hourNameBackColor;$B.style.fontFamily=this.hourFontFamily;$B.style.fontSize=this.hourFontSize;$B.style.cursor='default';};$B.style.overflow='hidden';$B.style.position='relative';$B.className=this.cssOnly?this.$5i('_corner'):this.$5i('corner');$B.setAttribute("unselectable","on");$B.onmousemove=function(){$b.$6M();$b.$6N();};$B.oncontextmenu=function(){return false;};var $C=document.createElement("div");$C.style.position="absolute";$C.style.top="0px";$C.style.left="0px";$C.style.right="0px";$C.style.bottom="0px";if(this.cssOnly){$C.className=this.$5i('_corner_inner');};this.divCorner=$C;$C.innerHTML='&nbsp;';if(this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var $2z=document.createElement("div");$2z.style.position="absolute";$2z.style.top="0px";$2z.style.left="0px";$2z.style.right="0px";$2z.style.bottom=(this.headerHeight+1)+"px";$B.appendChild($2z);var $2m=document.createElement("div");$2m.style.position="absolute";$2m.style.left="0px";$2m.style.right="0px";$2m.style.height="1px";$2m.style.bottom=(this.headerHeight)+"px";$2m.className=this.$5i("_divider");$B.appendChild($2m);$2z.appendChild($C);this.$7c();}else{$B.appendChild($C);};var $2A=document.createElement("div");$2A.style.position='absolute';$2A.style.padding='2px';$2A.style.top='0px';$2A.style.left='1px';$2A.style.backgroundColor="#FF6600";$2A.style.color="white";$2A.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)$B.appendChild($2A);return $B;};this.$5f=function(){if(this.timeHeader){var $2B=this.timeHeader.length;if(!this.showBaseTimeHeader){$2B-=1;};return $2B*this.headerHeight;};return 2*this.headerHeight;};this.$79=function(){var $B=document.createElement("div");if(!this.cssOnly){$B.style.backgroundColor=this.hourNameBackColor;};$B.style.width=(this.$5g())+"px";$B.style.height=this.$5j()+"px";$B.style.overflow='hidden';$B.style.position='relative';$B.onmousemove=function(){$b.$6M();$b.$6N();};$B.oncontextmenu=function(){return false;};this.divResScroll=$B;this.scrollRes=$B;return $B;};this.$7d=function($B){if($U.layout()==='TableBased'){var $T=parseInt(this.width,10);var $2C=(this.width.indexOf("%")!==-1);var $2D=/MSIE/i.test(navigator.userAgent);var $2j=this.$5g();if($2C){if(this.nav.top&&this.nav.top.offsetWidth>0){$B.style.width=(this.nav.top.offsetWidth-6-$2j)+"px";}}else{$B.style.width=($T-$2j)+"px";}}};this.$6u=function(){if($b.$75.layout()==='TableBased'){$b.$7d($b.nav.scroll);$b.$7d($b.divTimeScroll);};$b.$50();if($b.cellWidthSpec==='Auto'){$b.$4Q();$b.$4V();$b.$54();}};this.$4Q=function(){if(this.cellWidthSpec!=='Auto'){return;};var $H=this.nav.top.clientWidth;var $2E=this.$5g();var $0w=$H-$2E;var $K=$0w/this.$5e();this.cellWidth=Math.floor($K);};this.$7a=function(){var $B=document.createElement("div");$B.style.overflow='hidden';if(!this.cssOnly){$B.style.backgroundColor=this.hourNameBackColor;};$B.style.position='absolute';$B.style.display='block';$B.style.top="0px";$B.style.width="100%";$B.style.height=this.$5f()+"px";$B.style.overflow="hidden";$B.onmousemove=function(){$b.$6M();$b.$6N();if($b.cellBubble){$b.cellBubble.delayedHide();}};this.$7d($B);this.divTimeScroll=$B;var $C=document.createElement("div");$C.style.width=(this.$5e()*this.cellWidth+5000)+"px";this.divNorth=$C;$B.appendChild($C);return $B;};this.$5j=function(){var $F=0;if(this.heightSpec==='Fixed'||this.heightSpec==="Parent100Pct"){return this.height?this.height:0;}else{if(this.innerHeightTree){var $2F=DayPilot.sh($b.nav.scroll);if($2F===0){$F=this.innerHeightTree;}else{$F=this.innerHeightTree+$2F;}}else{$F=this.rows.length*this.eventHeight;}};if(this.heightSpec==='Max'&&$F>this.height){return this.height;};return $F;};this.$7e=function(){this.$6M();this.$6N();};this.$7b=function(){var $B=document.createElement("div");$B.style.overflow="auto";$B.style.overflowX="auto";$B.style.overflowY="auto";$B.style.position="absolute";$B.style.height=(this.$5j())+"px";$B.style.top=(this.$5f()+1)+"px";$B.style.width="100%";if(!this.cssOnly){$B.style.backgroundColor=this.emptyBackColor;};$B.className=this.$5i("_scrollable");$B.oncontextmenu=function(){return false;};this.$7d($B);this.nav.scroll=$B;this.maind=document.createElement("div");this.maind.style.MozUserSelect="none";this.maind.style.KhtmlUserSelect="none";this.maind.style.WebkitUserSelect="none";this.maind.style.position='absolute';this.maind.style.width=(this.$5e()*this.cellWidth)+"px";this.maind.setAttribute("unselectable","on");this.maind.onmousedown=this.$7f;this.maind.onmousemove=this.$7g;this.maind.oncontextmenu=this.$7h;this.maind.ondblclick=this.$7i;this.maind.className=this.$5i("_matrix");this.divStretch=document.createElement("div");this.divStretch.style.position='absolute';this.divStretch.style.height='1px';this.maind.appendChild(this.divStretch);this.divCells=document.createElement("div");this.divCells.style.position='absolute';this.divCells.oncontextmenu=this.$7h;this.maind.appendChild(this.divCells);this.divLines=document.createElement("div");this.divLines.style.position='absolute';this.divLines.oncontextmenu=this.$7h;this.maind.appendChild(this.divLines);this.divBreaks=document.createElement("div");this.divBreaks.style.position='absolute';this.divBreaks.oncontextmenu=this.$7h;this.maind.appendChild(this.divBreaks);this.divSeparators=document.createElement("div");this.divSeparators.style.position='absolute';this.divSeparators.oncontextmenu=this.$7h;this.maind.appendChild(this.divSeparators);this.divCrosshair=document.createElement("div");this.divCrosshair.style.position='absolute';this.divCrosshair.ondblclick=this.$7i;this.maind.appendChild(this.divCrosshair);this.divRange=document.createElement("div");this.divRange.style.position='absolute';this.divRange.oncontextmenu=this.$7h;this.maind.appendChild(this.divRange);this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.maind.appendChild(this.divEvents);this.divSeparatorsAbove=document.createElement("div");this.divSeparatorsAbove.style.position='absolute';this.divSeparatorsAbove.oncontextmenu=this.$7h;this.maind.appendChild(this.divSeparatorsAbove);$B.appendChild(this.maind);return $B;};this.$6i=function(){if(this.loadingLabelVisible){$b.nav.loading.innerHTML=this.loadingLabelText;$b.nav.loading.style.display='';}};this.$4N=function($19){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if($19){this.nav.loading.innerHTML=$19;window.setTimeout(function(){$b.$4N();},1000);}else{this.nav.loading.style.display='none';}};this.$7j=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();};this.$5b=function($2G){if($2G){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$6h();var $2H=this.autoRefreshInterval;if(!$2H||$2H<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$b.$7k();},this.autoRefreshInterval*1000);};this.$6h=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$7k=function(){if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving&&!DayPilotScheduler.drag&&!DayPilotScheduler.range){var $2I=false;if(typeof this.onAutoRefresh==='function'){var $n={};$n.i=this.autoRefreshCount;$n.preventDefault=function(){this.preventDefault.value=true;};$b.onAutoRefresh($n);if($n.preventDefault.value){$2I=true;}};if(!$2I){this.commandCallBack(this.autoRefreshCommand);};this.autoRefreshCount++;};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$b.$7k();},this.autoRefreshInterval*1000);}};this.$7l=function(){if(!DayPilotScheduler.globalHandlers){DayPilotScheduler.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.re(document,'mouseup',DayPilotScheduler.gMouseUp);};DayPilot.re(window,'resize',this.$6u);};this.$7m=function(){this.nav.scroll.root=this;this.nav.scroll.onscroll=this.$7n;$b.scrollPos=this.nav.scroll.scrollLeft;$b.scrollTop=this.nav.scroll.scrollTop;$b.scrollWidth=this.divNorth.clientWidth;};this.$59=function(){var $N=new Date();var $2J={};$2J.scrollX=this.nav.scroll.scrollLeft;$2J.scrollY=this.nav.scroll.scrollTop;if(this.syncResourceTree){$2J.tree=this.$6o();};this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify($2J));var end=new Date();};this.$55=function(){if(!this.separators){return;};for(var i=0;i<this.separators.length;i++){this.$7o(i);}};this.batch={};this.batch.step=300;this.batch.delay=10;this.batch.mode="display";this.batch.layers=true;this.$56=function($0z){var $2K=this.batch.step;var $2L=this.batch.layers;if($2L){$b.divEvents=document.createElement("div");$b.divEvents.style.position='absolute';$b.maind.appendChild(this.divEvents);}else{};if(this.batch.mode==='display'){this.divEvents.style.display='none';}else if(this.batch.mode==='visibility'){this.divEvents.style.visibility='hidden';};var $2M=this.dynamicEventRendering==='Progressive';var top=this.nav.scroll.scrollTop;var $A=top+this.nav.scroll.clientHeight;var $2N=this.durationBarDetached?10:0;if(this.clientSide){for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $2O=$q.Top-this.dynamicEventRenderingMargin;var $2P=$2O+$q.Height+2*this.dynamicEventRenderingMargin;if($2M&&($A<=$2O||top>=$2P)){continue;};for(var j=0;j<$q.lines.length;j++){var $S=$q.lines[j];for(var k=0;k<$S.length;k++){var e=$S[k];if(!e.part.top){e.part.line=j;e.part.top=j*(this.eventHeight+$2N)+$2N;e.part.detachedBarTop=e.part.top-$2N;e.part.height=this.eventHeight;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;};var $2Q=this.$7p(e);if($0z&&$2Q){$2K--;if($2K<=0){this.divEvents.style.visibility='';this.divEvents.style.display='';window.setTimeout(function(){$b.$56($0z);},$b.batch.delay);return;}}}}}}else{var $2R=this.events.list.length;for(var i=0;i<$2R;i++){this.$7p(this.events.list[i]);}};this.divEvents.style.display='';this.$4N();};this.$60=function($2S){var $q=this.rows[$2S];this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.divEvents.style.display='none';this.maind.appendChild(this.divEvents);var $2N=this.durationBarDetached?10:0;for(var j=0;j<$q.lines.length;j++){var $S=$q.lines[j];for(var k=0;k<$S.length;k++){var e=$S[k];e.part.line=j;e.part.top=j*(this.eventHeight+$2N)+$2N;e.part.detachedBarTop=e.part.top-$2N;e.part.height=this.eventHeight;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;this.$7p(e);}};this.divEvents.style.display='';};this.$52=function(){if(this.elements.events){var length=this.elements.events.length;for(var i=0;i<length;i++){var $B=this.elements.events[i];this.$7q($B);}};this.elements.events=[];};this.$5Z=function($2S){if(this.elements.events){var length=this.elements.events.length;var $2T=[];for(var i=0;i<length;i++){var $B=this.elements.events[i];if($B.row===$2S){this.$7q($B);$2T.push(i);}};for(var i=$2T.length-1;i>=0;i--){this.elements.events.splice($2T[i],1);}}};this.$7q=function($B){$B.onclick=null;$B.oncontextmenu=null;$B.onmouseover=null;$B.onmouseout=null;$B.onmousemove=null;$B.onmousedown=null;$B.ondblclick=null;if($B.event){if(!$B.isBar){$B.event.rendered=null;};$B.event=null;};if($B.bar){DayPilot.de($B.bar);};if($B.parentNode){$B.parentNode.removeChild($B);}};this.$7r=function($2U){if(!$2U){$2U=0;};if(this.dynamicEventRendering!=='Progressive'){return;};this.divEvents.style.display='none';var $0y=[];var $2V=0;var length=this.elements.events.length;for(var i=length-1;i>=0;i--){var $B=this.elements.events[i];if(this.$7s($B.event)){if($2U>0){$2U--;$0y.unshift($B);}else{this.$7q($B);$2V++;}}else{$0y.unshift($B);}};this.elements.events=$0y;this.divEvents.style.display='';};this.$7t=function($2U){var $0y=[];var $2V=0;var $0M=this.$7u();var length=this.elements.cells.length;for(var i=length-1;i>=0;i--){var $B=this.elements.cells[i];var $2W=($0M.xStart<$B.coords.x&&$B.coords.x<=$0M.xEnd)&&($0M.yStart<$B.coords.y&&$B.coords.y<=$0M.yEnd);if(!$2W){if($2U>0){$2U--;$0y.unshift($B);}else{this.$7v($B);$2V++;}}else{$0y.unshift($B);}}};this.$7v=function($B){var x=$B.coords.x;var y=$B.coords.y;var $13=DayPilot.indexOf($b.elements.cells,$B);$b.elements.cells.splice($13,1);if($B.parentNode){$B.parentNode.removeChild($B);};$b.cache.cells[x+"_"+y]=null;};this.$53=function(){if(this.elements.separators){for(var i=0;i<this.elements.separators.length;i++){var $B=this.elements.separators[i];DayPilot.pu($B);$B.parentNode.removeChild($B);}};this.elements.separators=[];};this.$7w=function(){var $2M=this.dynamicEventRendering==='Progressive';if(!this.nav.scroll){return false;};var top=this.nav.scroll.scrollTop;var $A=top+this.nav.scroll.clientHeight;for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $2O=$q.Top;var $2P=$q.Top+$q.Height;if($2M&&($A<=$2O||top>=$2P)){continue;};for(var j=0;j<$q.lines.length;j++){var $S=$q.lines[j];for(var k=0;k<$S.length;k++){var e=$S[k];if(this.$7x(e)){return true;}}}};return false;};this.$7x=function($j){if($j.rendered){return false;};var $2M=this.dynamicEventRendering==='Progressive';var $y=this.nav.scroll.scrollLeft;var $z=$y+this.nav.scroll.clientWidth;var $2X=$j.Left;var $2Y=$j.Left+$j.Width;if($2M&&($z<=$2X||$y>=$2Y)){return false;};return true;};this.$7s=function(ev){if(!ev.rendered){return true;};var top=this.nav.scroll.scrollTop;var $A=top+this.nav.scroll.clientHeight;var $y=this.nav.scroll.scrollLeft;var $z=$y+this.nav.scroll.clientWidth;var $2X=ev.part.left;var $2Y=ev.part.right;var $2Z=ev.part.fullTop;var $30=ev.part.fullBottom;if($z<=$2X||$y>=$2Y){return true;};if($A<=$2Z||top>=$30){return true;};return false;};this.$7p=function($j){if($j.rendered){return false;};var $2M=this.dynamicEventRendering==='Progressive'&&!this.dynamicLoading;var $y=this.nav.scroll.scrollLeft-this.dynamicEventRenderingMargin;var $z=$y+this.nav.scroll.clientWidth+2*this.dynamicEventRenderingMargin;var $2X=$j.part.left;var $2Y=$j.part.left+$j.part.width;if($2M&&($z<=$2X||$y>=$2Y)){return false;};var $2S=$j.part.dayIndex;var $31=!this.cssOnly&&this.eventBorderVisible;var $T=$j.part.width;var $F=$j.part.height;if($31){$T-=2;$F-=2;};var $X=$j.cache||$j.data;$T=Math.max(0,$T);$F=Math.max(0,$F);var $q=this.rows[$2S];if($q.Hidden){return false;};var $2O=$q.Top;var $B=document.createElement("div");var $32=this.durationBarDetached;if($32){var $33=document.createElement("div");$33.style.position='absolute';$33.style.left=($j.part.left+$j.part.barLeft)+'px';$33.style.top=($2O+$j.part.detachedBarTop)+'px';$33.style.width=$j.part.barWidth+'px';$33.style.height=5+'px';$33.style.backgroundColor="red";$B.bar=$33;this.elements.bars.push($33);this.divEvents.appendChild($33);};$B.style.position='absolute';$B.style.left=$j.part.left+'px';$B.style.top=($2O+$j.part.top)+'px';$B.style.width=$T+'px';$B.style.height=$F+'px';if(!this.cssOnly){if($b.eventBorderVisible){$B.style.border='1px solid '+($X.borderColor||this.eventBorderColor);};$B.style.backgroundColor=$j.client.backColor();$B.style.fontSize=this.eventFontSize;$B.style.cursor='default';$B.style.fontFamily=this.eventFontFamily;$B.style.color=$X.fontColor||this.eventFontColor;if($X.backImage&&!this.durationBarVisible){$B.style.backgroundImage="url("+$X.backImage+")";if($X.backRepeat){$B.style.backgroundRepeat=$X.backRepeat;}};if(this.$75.rounded()){$B.style.MozBorderRadius="5px";$B.style.webkitBorderRadius="5px";$B.style.borderRadius="5px";}};$B.style.whiteSpace='nowrap';$B.style.overflow='hidden';$B.className=this.cssOnly?this.$5i("_event"):this.$5i("event");if($X.cssClass){DayPilot.Util.addClass($B,$X.cssClass);};var $34=true;if($34){DayPilot.Util.addClass($B,this.$5i("_event_line"+$j.part.line));};$B.setAttribute("unselectable","on");if(this.showToolTip){$B.title=$j.client.toolTip();};$B.onmousemove=this.$7y;$B.onmouseout=this.$7z;$B.onmousedown=this.$7A;$B.ontouchstart=$0b.onEventTouchStart;$B.ontouchmove=$0b.onEventTouchMove;$B.ontouchend=$0b.onEventTouchEnd;if($j.client.clickEnabled()){$B.onclick=this.$5u;};if($j.client.doubleClickEnabled()){$B.ondblclick=this.$5E;};$B.oncontextmenu=this.$5D;var $35=[];var $36=0;if(this.cssOnly){var $C=document.createElement("div");$C.setAttribute("unselectable","on");$C.className=$b.$5i("_event_inner");$C.innerHTML=$j.client.innerHTML();if($X.backColor){$C.style.background=$X.backColor;if(DayPilot.browser.ie9||DayPilot.browser.ielt9){$C.style.filter='';}};if($X.fontColor){$C.style.color=$X.fontColor;};if($X.borderColor){$C.style.borderColor=$X.borderColor;};if($X.backImage){$C.style.backgroundImage="url("+$X.backImage+")";if($X.backRepeat){$C.style.backgroundRepeat=$X.backRepeat;}};$B.appendChild($C);var $37=$j.start().getTime()===$j.part.start.getTime();var $38=$j.end().getTime()===$j.part.end.getTime();if(!$37){DayPilot.Util.addClass($B,this.$5i("_event_continueleft"));};if(!$38){DayPilot.Util.addClass($B,this.$5i("_event_continueright"));};if($j.client.barVisible()){var $39=100*$j.part.barLeft/($T);var $3a=Math.ceil(100*$j.part.barWidth/($T));if(this.durationBarMode==="PercentComplete"){$39=0;$3a=$X.complete;};var $33=document.createElement("div");$33.setAttribute("unselectable","on");$33.className=this.$5i("_event_bar");$33.style.position="absolute";var $3b=document.createElement("div");$3b.setAttribute("unselectable","on");$3b.className=this.$5i("_event_bar_inner");$3b.style.left=$39+"%";if(0<$3a&&$3a<=1){$3b.style.width="1px";}else{$3b.style.width=$3a+"%";};if($X.barColor){$3b.style.backgroundColor=$X.barColor;};$33.appendChild($3b);$B.appendChild($33);}}else{if($j.client.barVisible()){$36=$b.durationBarHeight;$35.push("<div unselectable='on' style='left:0px;background-color:white;width:");$35.push($j.part.barLeft);$35.push("px;height:2px;font-size:1px;position:absolute'></div>");$35.push("<div unselectable='on' style='left:");$35.push($j.part.barLeft+$j.part.barWidth);$35.push("px;background-color:white;width:");$35.push($T-($j.part.barLeft+$j.part.barWidth));$35.push("px;height:2px;font-size:1px;position:absolute'></div>");if(this.durationBarMode==="Duration"){$35.push("<div unselectable='on' style='width:");$35.push($j.part.barWidth);$35.push("px;margin-left:");$35.push($j.part.barLeft);$35.push("px;height:");}else{$35.push("<div unselectable='on' style='width:");$35.push($X.complete);$35.push("%;margin-left:0px;height:");};$35.push($36-1);$35.push("px;background-color:");$35.push($j.client.barColor());if($X.barImageUrl){$35.push(";background-image:url(");$35.push($X.barImageUrl);$35.push(")");};$35.push(";font-size:1px;position:relative'></div>");$35.push("<div unselectable='on' style='width:");$35.push($T);$35.push("px;height:1px;background-color:");$35.push(($X.borderColor||this.eventBorderColor));$35.push(";font-size:1px;overflow:hidden;position:relative'></div>");};$35.push("<div unselectable='on' style='padding-left:1px;width:");$35.push($T-1);$35.push("px;height:");$35.push($F-$36);$35.push("px;");if($b.rtl){$35.push("direction:rtl;");};if($X.backImage&&this.durationBarVisible){$35.push("background-image:url(");$35.push($X.backImage);$35.push(");");if($X.backRepeat){$35.push("background-repeat:");$35.push($X.backRepeat);$35.push(";");}};$35.push("'>");$35.push($j.client.innerHTML());$35.push("</div>");$B.innerHTML=$35.join('');};$B.row=$2S;if($X.areas){for(var i=0;i<$X.areas.length;i++){var $0M=$X.areas[i];if($0M.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($B,$j,$0M);$B.appendChild(a);}};this.elements.events.push($B);this.divEvents.appendChild($B);$j.rendered=true;$B.event=$j;if($b.multiselect.$5Q($B.event)){$b.multiselect.add($B.event,true);$b.multiselect.$5P($B);};if($b.$5c()){if(typeof $b.onAfterEventRender==='function'){var $n={};$n.e=$B.event;$n.div=$B;$b.onAfterEventRender($n);}}else{if($b.afterEventRender){$b.afterEventRender($B.event,$B);}};return true;};this.$5c=function(){return $b.api===2;};this.$61=function(){for(var i=0;i<this.elements.events.length;i++){var $B=this.elements.events[i];var event=$B.event;var $2S=event.part.dayIndex;var $q=this.rows[$2S];var $2O=$q.Top;$B.style.top=($2O+event.part.top)+'px';}};this.$7B=function(e){for(var i=0;i<$b.elements.events.length;i++){var $B=$b.elements.events[i];if($B.event===e||$B.event.data===e.data){return $B;}};return null;};this.$7z=function(ev){var $B=this;DayPilot.Areas.hideAreas($B,ev);if($b.cssOnly){DayPilot.Util.removeClass($B,$b.$5i("_event_hover"));};if($b.bubble&&$b.eventHoverHandling==='Bubble'){$b.bubble.hideOnMouseOut();}};this.$7y=function(ev){ev=ev||window.event;if($b.cellBubble){$b.cellBubble.delayedHide();};var $B=this;while($B&&!$B.event){$B=$B.parentNode;};$b.$7C($B,ev);if(!$B.active){DayPilot.Areas.showAreas($B,$B.event);if($b.cssOnly){DayPilot.Util.addClass($B,$b.$5i("_event_hover"));}};if(ev.srcElement){ev.srcElement.insideEvent=true;}else{ev.insideEvent=true;}};this.$7D={};var $0c=this.$7D;this.$7A=function(ev){$b.$6M();$b.$6N();if(typeof DayPilot.Bubble!=='undefined'){DayPilot.Bubble.hideActive();};ev=ev||window.event;var $3c=ev.which||ev.button;if($3c===1){if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){DayPilotScheduler.resizing=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);document.body.style.cursor=this.style.cursor;}else if(this.style.cursor==='move'){DayPilotScheduler.moving=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);DayPilotScheduler.moveOffsetX=DayPilot.mo3(this,ev).x;DayPilotScheduler.moveDragStart=$b.getDate($b.coords.x,true);document.body.style.cursor='move';}else if($b.moveBy==='Full'){$0c.start=true;$0c.moving=this;$0c.originalMouse=DayPilot.mc(ev);$0c.moveOffsetX=DayPilot.mo3(this,ev).x;$0c.moveDragStart=$b.getDate($b.coords.x,true);}};ev.cancelBubble=true;return false;};this.$7E={};var $0b=$b.$7E;$0b.active=false;$0b.start=false;$0b.timeouts=[];$0b.onEventTouchStart=function(ev){if($0b.active||$0b.start){return;};$0b.clearTimeouts();$0b.start=true;$0b.active=false;var $B=this;var $3d=500;$0b.timeouts.push(window.setTimeout(function(){$0b.active=true;$0b.start=false;$b.coords=$0b.relativeCoords(ev);$0b.startMoving($B,ev);ev.preventDefault();},$3d));ev.stopPropagation();};$0b.onEventTouchMove=function(ev){$0b.clearTimeouts();$0b.start=false;};$0b.onEventTouchEnd=function(ev){$0b.clearTimeouts();if($0b.start){$b.$5y(this,false);};window.setTimeout(function(){$0b.start=false;$0b.active=false;},500);};$0b.onMainTouchStart=function(ev){if($0b.active||$0b.start){return;};$0b.clearTimeouts();$0b.start=true;$0b.active=false;var $3d=500;$0b.timeouts.push(window.setTimeout(function(){$0b.active=true;$0b.start=false;ev.preventDefault();$b.coords=$0b.relativeCoords(ev);$0b.range=$b.$7F();},$3d));};$0b.onMainTouchMove=function(ev){$0b.clearTimeouts();$0b.start=false;if($0b.active){ev.preventDefault();$b.coords=$0b.relativeCoords(ev);if(DayPilotScheduler.moving){$0b.updateMoving();return;};if($0b.range){var $0E=$0b.range;$0E.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$7G($0E);}}};$0b.onMainTouchEnd=function(ev){$0b.clearTimeouts();if($0b.active){if(DayPilotScheduler.moving){ev.preventDefault();var e=DayPilotScheduler.moving.event;var $0j=DayPilotScheduler.movingShadow.start;var $0k=DayPilotScheduler.movingShadow.end;var $0m=($b.viewType!=='Days')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;$b.$62(e,$0j,$0k,$0m,external);};if($0b.range){var $3e=$b.$7H($0b.range);$0b.range=null;$b.$66($3e.start,$3e.end,$3e.resource);}};window.setTimeout(function(){$0b.start=false;$0b.active=false;},500);};$0b.clearTimeouts=function(){for(var i=0;i<$0b.timeouts.length;i++){clearTimeout($0b.timeouts[i]);};$0b.timeouts=[];};$0b.relativeCoords=function(ev){var $3f=$b.maind;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $3g=DayPilot.abs($3f);var $0Z={x:x-$3g.x,y:y-$3g.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $0Z;};$0b.startMoving=function($B,ev){var $0Z={x:ev.touches[0].pageX,y:ev.touches[0].pageY};DayPilotScheduler.moving=$B;DayPilotScheduler.originalMouse=$0Z;var $3h=DayPilot.abs($B);DayPilotScheduler.moveOffsetX=$0Z.x-$3h.x;DayPilotScheduler.moveDragStart=$b.getDate($b.coords.x,true);DayPilotScheduler.movingShadow=$b.$6v($B,$b.shadow);$b.$6H();};$0b.updateMoving=function(){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$b){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$b.$6v(mv,$b.shadow);};DayPilotScheduler.moving.target=$b;$b.$6H();};this.$7C=function($B,ev){var $3i=this.eventResizeMargin;var $3j=this.eventMoveMargin;var $0X=$B;if(typeof(DayPilotScheduler)==='undefined'){return;};var $03=DayPilot.mo3($B,ev);if(!$03){return;};$b.eventOffset=$03;if(DayPilotScheduler.resizing){return;};var $3k=$B.getAttribute("dpStart")===$B.getAttribute("dpPartStart");var $3l=$B.getAttribute("dpEnd")===$B.getAttribute("dpPartEnd");if($b.moveBy==='Top'&&$03.y<=$3j&&$0X.event.client.moveEnabled()&&$b.eventMoveHandling!=='Disabled'){if($3k){$B.style.cursor='move';}else{$B.style.cursor='not-allowed';}}else if($b.moveBy==='Top'&&$03.x<=$3i&&$0X.event.client.resizeEnabled()&&$b.eventResizeHandling!=='Disabled'){if($3k){$B.style.cursor="w-resize";$B.dpBorder='left';}else{$B.style.cursor='not-allowed';}}else if($b.moveBy==='Left'&&$03.x<=$3j&&$0X.event.client.moveEnabled()&&$b.eventMoveHandling!=='Disabled'){if($3k){$B.style.cursor="move";}else{$B.style.cursor='not-allowed';}}else if($B.offsetWidth-$03.x<=$3i&&$0X.event.client.resizeEnabled()&&$b.eventResizeHandling!=='Disabled'){if($3l){$B.style.cursor="e-resize";$B.dpBorder='right';}else{$B.style.cursor='not-allowed';}}else if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving){if($0X.event.client.clickEnabled()&&$b.eventClickHandling!=='Disabled'){$B.style.cursor='pointer';}else{$B.style.cursor='default';}};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling==='Bubble'){if($B.style.cursor==='default'||$B.style.cursor==='pointer'){var $3m=this.$7I&&$03.x===this.$7I.x&&$03.y===this.$7I.y;if(!$3m){this.$7I=$03;$b.bubble.showEvent($B.event);}}else{}}};this.$5e=function(){if(this.viewType!=='Days'){return this.itline.length;}else{return Math.floor(24*60/this.cellDuration);}};this.$7H=function($0E){var $0E=$0E||DayPilotScheduler.range||DayPilotScheduler.rangeHold;if(!$0E){return null;};var $q=$b.rows[$0E.start.y];if(!$q){return null;};var $0D=$q.Value;var $3n=$0E.end.x>$0E.start.x?$0E.start.x:$0E.end.x;var $3o=($0E.end.x>$0E.start.x?$0E.end.x:$0E.start.x);var $1r=$q.Start.getTime()-this.startDate.getTime();var $N=this.itline[$3n].start.addTime($1r);var end=this.itline[$3o].end.addTime($1r);return new DayPilot.Selection($N,end,$0D,$b);};this.$7J=function($0X){var $3p=$0X.parentNode;var $3q=document.createElement('textarea');$3q.style.position='absolute';$3q.style.width=(($0X.offsetWidth<100)?100:($0X.offsetWidth-2))+'px';$3q.style.height=($0X.offsetHeight-2)+'px';$3q.style.fontFamily=DayPilot.gs($0X,'fontFamily')||DayPilot.gs($0X,'font-family');$3q.style.fontSize=DayPilot.gs($0X,'fontSize')||DayPilot.gs($0X,'font-size');$3q.style.left=$0X.offsetLeft+'px';$3q.style.top=$0X.offsetTop+'px';$3q.style.border='1px solid black';$3q.style.padding='0px';$3q.style.marginTop='0px';$3q.style.backgroundColor='white';$3q.value=DayPilot.tr($0X.event.text());$3q.event=$0X.event;$3p.appendChild($3q);return $3q;};this.$5z=function($0X){if(DayPilotScheduler.editing){DayPilotScheduler.editing.blur();return;};var $3q=this.$7J($0X);DayPilotScheduler.editing=$3q;$3q.onblur=function(){var $3r=$0X.event.text();var $0F=$3q.value;DayPilotScheduler.editing=null;if($3q.parentNode){$3q.parentNode.removeChild($3q);};if($3r===$0F){return;};$0X.style.display='none';$b.$6e($0X.event,$0F);};$3q.onkeypress=function(e){var $3s=(window.event)?event.keyCode:e.keyCode;if($3s===13){this.onblur();return false;}else if($3s===27){$3q.parentNode.removeChild($3q);DayPilotScheduler.editing=false;};return true;};$3q.select();$3q.focus();};this.$6O=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'){if($b.cellBubble){$b.cellBubble.hideOnMouseOut();};if($b.resourceBubble){var $0N={};$0N.calendar=$b;$0N.id=td.getAttribute("resource");$0N.toJSON=function(){var $0J={};$0J.id=this.id;return $0J;};$b.resourceBubble.showResource($0N);}};var $B=td.firstChild;if(!$B.active){DayPilot.Areas.showAreas($B,$b.rows[td.index]);}};this.$6P=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'&&$b.resourceBubble){$b.resourceBubble.hideOnMouseOut();};var $B=td.firstChild;DayPilot.Areas.hideAreas($B,ev);$B.data=null;};this.$4V=function(){this.$7K();return;var $1E=document.createElement("table");$1E.cellSpacing=0;$1E.cellPadding=0;if(!this.cssOnly){$1E.className=this.$5i("timeheader");};$1E.style.borderCollapse="collapse";if(!this.cssOnly){$1E.style.color=$b.headerFontColor;$1E.style.border="0px none";};for(var i=0;i<this.timeHeader.length-1;i++){var $2p=$1E.insertRow(-1);this.$7L($2p,i);};var $2s=$1E.insertRow(-1);this.$7M($2s);var $3t=this.divNorth;DayPilot.puc($3t);$3t.innerHTML='';$3t.appendChild($1E);$3t.style.width=(this.$5e()*this.cellWidth+5000)+"px";var $3u=this.divCorner;if(!this.cssOnly){$3u.style.backgroundColor=this.cornerBackColor;};if(this.cornerHtml){$3u.innerHTML=this.cornerHtml;}else{$3u.innerHTML='';};this.divStretch.style.width=(this.itline.length*this.cellWidth)+"px";};this.$7K=function(){this.cache.timeHeader={};var $2E=document.createElement("div");$2E.style.position="relative";this.nav.timeHeader=$2E;for(var y=0;y<this.timeHeader.length;y++){var $q=this.timeHeader[y];for(var x=0;x<$q.length;x++){this.$7N(x,y);}};var $3t=this.divNorth;DayPilot.puc($3t);$3t.innerHTML='';$3t.appendChild($2E);$3t.style.width=(this.$5e()*this.cellWidth+5000)+"px";var $3u=this.divCorner;if(!this.cssOnly){$3u.style.backgroundColor=this.cornerBackColor;};if(this.cornerHtml){$3u.innerHTML=this.cornerHtml;}else{$3u.innerHTML='';};this.divStretch.style.width=(this.itline.length*this.cellWidth)+"px";};this.$7L=function($q,$13){if(this.timeHeader){if(this.timeHeader.length-1<=$13){throw "Not enough timeHeader rows";};for(var i=0;i<this.timeHeader[$13].length;i++){var $K=this.timeHeader[$13][i];if(!$K.toolTip){$K.toolTip=$K.innerHTML;};if(!this.cssOnly){if(!$K.backColor){$K.backColor=this.hourNameBackColor;}};if(!$K.colspan){$K.colspan=Math.ceil($K.width/(1.0*this.cellWidth));};$K.level=$13;this.$7O($q,$K);}}else{throw ".groupline is not used anymore";}};this.$5p=function(h,$3v){var $t=null;var $28=this.$75.locale();var $3v=$3v||this.cellGroupBy;var $3w=h.start;var to=h.end;var $28=this.$75.locale();switch($3v){case 'Hour':$t=$3w.toString("H");break;case 'Day':$t=$3w.toString($28.datePattern);break;case 'Week':$t=$U.weekStarts()===1?$3w.weekNumberISO():$3w.weekNumber();break;case 'Month':$t=$3w.toString("MMMM yyyy",$28);break;case 'Year':$t=$3w.toString("yyyy");break;case 'None':$t='';break;case 'Cell':if(this.scale==='Manual'||this.scale==='CellDuration'){var $0a=(h.end.ticks-h.start.ticks)/60000;$t=this.$7P($3w,$0a);}else{$t=this.$5p(h,this.scale);};break;default:throw 'Invalid cellGroupBy value';};return $t;};this.$7P=function($N,$0a){var $28=this.$75.locale();var $0a=$0a||this.cellDuration;if($0a<60){return $N.toString("mm");}else if($0a<1440){return $b.$75.timeFormat()==='Clock12Hours'?$N.toString("H tt",$28):$N.toString("H",$28);}else if($0a<10080){return $N.toString("d");}else if($0a===10080){return $U.weekStarts()===1?$N.weekNumberISO():$N.weekNumber();}else{return $N.toString("MMMM yyyy",$28);}};this.$5m=function($3w){var $3x=this.scale;switch($3x){case "Cell":throw "Invalid scale: Cell";case "Manual":throw "Internal error (addScaleSize in Manual mode)";case "Minute":return $3w.addMinutes(1);case "CellDuration":return $3w.addMinutes(this.cellDuration);default:return this.$5o($3w,$3x);}};this.$5o=function($3w,$3v){var $3y=this.viewType!=='Days'?this.days:1;var $3z=this.startDate.addDays($3y);var $3v=$3v||this.cellGroupBy;var $3A=60;switch($3v){case 'Hour':to=$3w.addHours(1);break;case 'Day':to=$3w.addDays(1);break;case 'Week':to=$3w.addDays(1);while(to.dayOfWeek()!==$U.weekStarts()){to=to.addDays(1);};break;case 'Month':to=$3w.addMonths(1);to=to.firstDayOfMonth();var $3B=(DayPilot.Date.diff(to.d,$3w.d)/(1000.0*60))%$3A===0;while(!$3B){to=to.addHours(1);$3B=(DayPilot.Date.diff(to.d,$3w.d)/(1000.0*60))%$3A===0;};break;case 'Year':to=$3w.addYears(1);to=to.firstDayOfYear();var $3B=(DayPilot.Date.diff(to.d,$3w.d)/(1000.0*60))%$3A===0;while(!$3B){to=to.addHours(1);$3B=(DayPilot.Date.diff(to.d,$3w.d)/(1000.0*60))%$3A===0;};break;case 'None':to=$3z;break;case 'Cell':var $K=this.$5t($3w);if($K!==null){to=$K.end;}else{var $1b=$3w;while($K===null){$1b=$1b.addMinutes(1);$K=this.$5t($1b);};to=$K.start;};break;default:throw 'Invalid cellGroupBy value';};if(to.getTime()>$3z.getTime()){to=$3z;};return to;};this.$7N=function(x,y){var $2E=this.nav.timeHeader;var p=this.timeHeader[y][x];var $3C=y<this.timeHeader.length-1;var top=y*this.headerHeight;var $y=p.left;var $T=p.width;var $F=this.headerHeight;var $K=document.createElement("div");$K.style.position="absolute";$K.style.top=top+"px";$K.style.left=$y+"px";$K.style.width=$T+"px";$K.style.height=$F+"px";if(p.toolTip){$K.title=p.toolTip;};$K.setAttribute("unselectable","on");$K.style.KhtmlUserSelect='none';$K.style.MozUserSelect='none';$K.style.WebkitUserSelect='none';$K.oncontextmenu=function(){return false;};$K.cell=$K;$K.onclick=this.$6V;$K.style.overflow='hidden';if(!this.cssOnly){var $3D=y===this.timeHeader.length-1;$K.style.textAlign="center";$K.style.backgroundColor=$K.backColor;$K.style.fontFamily=this.hourFontFamily;$K.style.fontSize=this.hourFontSize;$K.style.color=this.headerFontColor;$K.style.cursor='default';$K.style.border='0px none';if(!$3D){$K.style.height=($F-1)+"px";$K.style.borderBottom="1px solid "+this.borderColor;};$K.style.width=($T-1)+"px";$K.style.borderRight="1px solid "+this.hourNameBorderColor;$K.style.whiteSpace='nowrap';$K.className=this.$5i('timeheadergroup');};var $C=document.createElement("div");$C.setAttribute("unselectable","on");$C.innerHTML=p.innerHTML;if(this.cssOnly){var cl=this.$5i("_timeheadercol");var $3E=this.$5i("_timeheadercol_inner");if($3C){cl=this.$5i("_timeheadergroup");$3E=this.$5i("_timeheadergroup_inner");};DayPilot.Util.addClass($K,cl);DayPilot.Util.addClass($C,$3E);};$K.appendChild($C);this.cache.timeHeader[x+"_"+y]=$K;$2E.appendChild($K);};this.$7O=function($q,$K){var td=$q.insertCell(-1);td.colSpan=$K.colspan;td.setAttribute("unselectable","on");var $F=Math.max(0,this.headerHeight);if(!this.cssOnly){td.style.height=($F-1)+"px";td.style.textAlign="center";td.style.backgroundColor=$K.backColor;td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.cursor='default';td.style.border='0px none';td.style.borderBottom="1px solid "+this.borderColor;td.style.padding='0px';}else{td.style.height=($F)+"px";};td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.WebkitUserSelect='none';td.style.whiteSpace='nowrap';if($K.width){td.style.width=$K.width+"px";};if(!this.cssOnly){td.className=this.$5i('timeheadergroup');};td.oncontextmenu=function(){return false;};td.cell=$K;td.onclick=this.$6V;var $3F=null;var $B=document.createElement("div");$B.setAttribute("unselectable","on");if(!this.cssOnly){$B.style.borderRight="1px solid "+this.hourNameBorderColor;$B.style.width=($K.width-1)+"px";$B.style.height=($F-1)+"px";$3F=$B;}else{$B.className=this.$5i('_timeheadergroup');if($K.backColor){$B.style.backgroundColor=$K.backColor;};$B.style.position="relative";if($K.width){$B.style.width=($K.width)+"px";};$B.style.height=($F)+"px";var $C=document.createElement("div");$C.setAttribute("unselectable","on");$C.className=this.$5i("_timeheadergroup_inner");$B.appendChild($C);$3F=$C;};$B.style.overflow='hidden';$B.title=$K.toolTip;$3F.innerHTML=$K.innerHTML;td.appendChild($B);};this.$7M=function($q){var $3G=this.$5e();var td=document.createElement("td");td.setAttribute("unselectable","on");if(!this.cssOnly){td.style.borderTop="0px none";td.style.borderBottom="0px none";td.style.borderLeft="0px none";td.style.borderRight="0px none";td.style.textAlign='center';td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.cursor='default';td.style.padding='0px';};td.style.width=this.cellWidth+"px";td.style.height=(this.headerHeight)+"px";td.style.overflow='hidden';td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.WebkitUserSelect='none';if(!this.cssOnly){td.className=this.$5i('timeheadercol');};var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.style.height=(this.headerHeight)+"px";$B.style.overflow='hidden';$B.style.position='relative';if(this.cssOnly){$B.style.width=(this.cellWidth)+"px";$B.className=this.$5i('_timeheadercol');}else{$B.style.borderRight="1px solid "+this.hourNameBorderColor;$B.style.width=(this.cellWidth-1)+"px";};var $C=document.createElement("div");$C.setAttribute("unselectable","on");if(this.cssOnly){$C.className=this.$5i("_timeheadercol_inner");};$B.appendChild($C);td.appendChild($B);var $13=this.timeHeader.length-1;for(var i=0;i<$3G;i++){var $K;if(this.timeHeader){$K=this.timeHeader[$13][i];if(!$K.backColor){if(!this.cssOnly){$K.backColor=this.hourNameBackColor;}};if(!$K.toolTip){$K.toolTip=$K.innerHTML;}}else{var c=this.itline[i];var $t=this.$7Q(c.start);var $K={};$K.innerHTML=$t;$K.toolTip=$t;$K.start=c.start;$K.end=c.end;$K.type='Cell';$K.backColor=this.hourNameBackColor;var $3H=this.beforeTimeHeaderRender?this.beforeTimeHeaderRender($K):null;if($3H){$K=$3H;}};$K.level=$13;var $3I=td.cloneNode(true);if(!this.cssOnly){$3I.style.backgroundColor=$K.backColor;}else{if($K.backColor){$3I.firstChild.style.backgroundColor=$K.backColor;}};$3I.firstChild.title=$K.toolTip;$3I.firstChild.firstChild.innerHTML=$K.innerHTML;$3I.oncontextmenu=function(){return false;};$3I.cell=$K;$3I.onclick=this.$6V;$q.appendChild($3I);}};this.$7Q=function($3w){var $t=null;if(this.cellDuration<60){$t=$3w.getMinutes();}else if(this.cellDuration<1440){$t=$3w.getHours();}else{$t=$3w.getDay();};return $t;};this.$5M=function(){for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $0y=$q.height()+$q.MarginBottom;if($q.Height!==$0y){this.rowsDirty=true;};$q.Height=$0y;}};this.$4Y=function(){var $2E=this.divHeader;if(!$2E){return false;};var $14=this.rows.length;var $0U=this.rowHeaderCols?this.rowHeaderCols.length:1;var j=0;for(var i=0;i<$14;i++){var $q=this.rows[i];if($q.Hidden){continue;};for(var c=0;c<$2E.rows[j].cells.length;c++){var $3J=$2E.rows[j].cells[c];var $3K=$q.Height;if($3J&&$3J.firstChild&&parseInt($3J.firstChild.style.height,10)!==$3K){$3J.firstChild.style.height=$3K+"px";}};j++;}};this.$7o=function($13){var s=this.separators[$13];s.location=s.location||s.Location;s.color=s.color||s.Color;s.layer=s.layer||s.Layer;s.width=s.width||s.Width;s.opacity=s.opacity||s.Opacity;var $09=new DayPilot.Date(s.location);var $3L=s.color;var $T=s.width?s.width:1;var $3M=s.layer?s.layer==='AboveEvents':false;var $x=s.opacity?s.opacity:100;if($09.getTime()<this.startDate.getTime()){return;};if($09.getTime()>=this.startDate.addDays(this.days).getTime()){return;};var $p=this.getPixels($09);if($p.cut){return;};if($p.left<0){return;};if($p.left>this.$5e()*this.cellWidth){return;};var $S=document.createElement("div");$S.style.width=$T+'px';$S.style.height=$b.innerHeightTree+'px';$S.style.position='absolute';$S.style.left=($p.left-1)+'px';$S.style.top='0px';$S.style.backgroundColor=$3L;$S.style.opacity=$x/100;$S.style.filter="alpha(opacity="+$x+")";if($3M){this.divSeparatorsAbove.appendChild($S);}else{this.divSeparators.appendChild($S);};this.elements.separators.push($S);};this.$7i=function(ev){if($b.timeRangeDoubleClickHandling==='Disabled'){return false;};if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};var $0E={};if(!$b.coords){var $3f=$b.maind;$b.coords=DayPilot.mo3($3f,ev);};ev=ev||window.event;if($b.$7R($b.coords)){var $3e=$b.$7H(DayPilotScheduler.rangeHold);$b.$67($3e.start,$3e.end,$3e.resource);}else{DayPilotScheduler.range=$b.$7F();var $3e=$b.$7H(DayPilotScheduler.range);$b.$67($3e.start,$3e.end,$3e.resource);};DayPilotScheduler.rangeHold=DayPilotScheduler.range;DayPilotScheduler.range=null;};this.$7f=function(ev){if($0b.start){return;};if(DayPilotScheduler.timeRangeTimeout&&false){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};$b.$6M();$b.$6N();if(!$b.coords){var $3f=$b.maind;$b.coords=DayPilot.mo3($3f,ev);};ev=ev||window.event;var $3c=ev.which||ev.button;if($3c===2||($3c===3&&$b.$7R($b.coords))){return false;};if($b.timeRangeSelectedHandling==='Disabled'){return false;};DayPilotScheduler.range=$b.$7F();return false;};this.$7F=function(){var $0E={};var cx=this.$5r($b.coords.x).x;$0E.start={y:$b.$6p($b.coords.y).i,x:cx};$0E.end={x:cx};if(this.$6F($b.$6p($b.coords.y).i)){return;};$0E.calendar=$b;$b.$7G($0E);return $0E;};this.$7g=function(ev){if($0b.active){return;};DayPilotScheduler.activeCalendar=$b;ev=ev||window.event;var $3N=DayPilot.mc(ev);$b.coords=DayPilot.mo3($b.maind,ev);if($0c.start){if($0c.originalMouse.x!==$3N.x||$0c.originalMouse.y!==$3N.y){DayPilot.Util.copyProps($0c,DayPilotScheduler);document.body.style.cursor='move';$0c={};}};if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){DayPilotScheduler.resizingShadow=$b.$6v(DayPilotScheduler.resizing,$b.shadow);};var $3O=DayPilotScheduler.resizing.event.calendar.cellWidth;var $3P=DayPilotScheduler.resizing.event.part.width;var $3Q=DayPilotScheduler.resizing.event.part.left;var $3R=0;var $3S=($3N.x-DayPilotScheduler.originalMouse.x);if(DayPilotScheduler.resizing.dpBorder==='right'){var $3T;if($b.snapToGrid){var $07=$b.$5r($3P+$3Q+$3S).cell;var $3U=$07.left+$07.width;$3T=$3U-$3Q;if($3T<$3O){$3T=$3O;}}else{$3T=$3P+$3S;};var $1x=$b.$7S();if($3Q+$3T>$1x){$3T=$1x-$3Q;};DayPilotScheduler.resizingShadow.style.width=($3T)+'px';}else if(DayPilotScheduler.resizing.dpBorder==='left'){var $3V;if($b.snapToGrid){$3V=Math.floor((($3Q+$3S)+0)/$3O)*$3O;if($3V<$3R){$3V=$3R;}}else{$3V=$3Q+$3S;};var $3T=$3P-($3V-$3Q);var $z=$3Q+$3P;if($b.snapToGrid){if($3T<$3O){$3T=$3O;$3V=$z-$3T;}};DayPilotScheduler.resizingShadow.style.left=$3V+'px';DayPilotScheduler.resizingShadow.style.width=($3T)+'px';}}else if(DayPilotScheduler.moving){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$b){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$b.$6v(mv,$b.shadow);};DayPilotScheduler.moving.target=$b;$b.$6H();}else if(DayPilotScheduler.range){var $0E=DayPilotScheduler.range;$0E.end={x:$b.$5r($b.coords.x).x};$b.$7G($0E);}else if($b.crosshairType!=='Disabled'){$b.$7T();};var $3W=ev.insideEvent;if(window.event){$3W=window.event.srcElement.insideEvent;};if($b.cellBubble&&$b.coords&&$b.rows&&$b.rows.length>0&&!$3W){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.$6p($b.coords.y).i;if(y<$b.rows.length){var $K={};$K.calendar=$b;$K.start=$b.itline[x].start;$K.end=$b.itline[x].end;$K.resource=$b.rows[y].Value;$K.toJSON=function(){var $0J={};$0J.start=this.start;$0J.end=this.end;$0J.resource=this.resource;return $0J;};$b.cellBubble.showCell($K);}};if(DayPilotScheduler.drag){$b.$6M();if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);};DayPilotScheduler.gShadow=null;if(!DayPilotScheduler.movingShadow&&$b.coords&&$b.rows.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var event=DayPilotScheduler.drag.event;if(!event){var $3X=new DayPilot.Date().getDatePart();var ev={'id':DayPilotScheduler.drag.id,'start':$3X,'end':$3X.addSeconds(DayPilotScheduler.drag.duration),'text':DayPilotScheduler.drag.text};event=new DayPilot.Event(ev);event.calendar=$b;};DayPilotScheduler.moving.event=event;};DayPilotScheduler.movingShadow=$b.$6v(DayPilotScheduler.moving,DayPilotScheduler.drag.shadowType);};ev.cancelBubble=true;};if($b.autoScroll==="Always"||($b.autoScroll==="Drag"&&(DayPilotScheduler.moving||DayPilotScheduler.resizing||DayPilotScheduler.range))){var $3Y=$b.nav.scroll;var $0Z={x:$b.coords.x,y:$b.coords.y};$0Z.x-=$3Y.scrollLeft;$0Z.y-=$3Y.scrollTop;var $T=$3Y.clientWidth;var $F=$3Y.clientHeight;var $1K=20;var $y=$0Z.x<$1K;var $z=$T-$0Z.x<$1K;var top=$0Z.y<$1K;var $A=$F-$0Z.y<$1K;var x=0;var y=0;if($y){x=-5;};if($z){x=5;};if(top){y=-5;};if($A){y=5;};if(x||y){$b.$7U(x,y);}else{$b.$6N();}}};this.$7T=function(){this.$7V();};this.$6M=function(){this.divCrosshair.innerHTML='';this.crosshairVertical=null;this.crosshairHorizontal=null;if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};this.crosshairLastX=-1;this.crosshairLastY=-1;};this.$7V=function(){var x,y;if($b.coords&&$b.rows&&$b.rows.length>0){x=$b.$5r($b.coords.x).x;y=$b.$6p($b.coords.y).i;if(y>=$b.rows.length){return;}}else{return;};var $0l=this.crosshairType;var $q=this.$6x(y);if($0l==='Full'){var $07=this.itline[x];var $y=$07.left;var $S=this.crosshairVertical;if(!$S){var $S=document.createElement("div");$S.style.height=$b.innerHeightTree+'px';$S.style.position='absolute';$S.style.top='0px';$S.style.backgroundColor=this.crosshairColor;$S.style.opacity=this.crosshairOpacity/100;$S.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairVertical=$S;this.divCrosshair.appendChild($S);};$S.style.left=$y+'px';$S.style.width=$07.width+'px';var top=$q.top;var $F=$q.height;var $T=this.$7S();var $S=this.crosshairHorizontal;if(!$S){var $S=document.createElement("div");$S.style.width=$T+'px';$S.style.height=$F+'px';$S.style.position='absolute';$S.style.top=top+'px';$S.style.left='0px';$S.style.backgroundColor=this.crosshairColor;$S.style.opacity=this.crosshairOpacity/100;$S.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairHorizontal=$S;this.divCrosshair.appendChild($S);};$S.style.top=top+'px';$S.style.height=$F+'px';};var $3Z=this.$7W(this.coords.x);if(this.crosshairLastX!==$3Z.x){if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};var $S=document.createElement("div");$S.style.width=$3Z.cell.width+"px";$S.style.height=this.headerHeight+"px";$S.style.left='0px';$S.style.top='0px';$S.style.position='absolute';$S.style.backgroundColor=this.crosshairColor;$S.style.opacity=this.crosshairOpacity/100;$S.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairTop=$S;var $3t=this.divNorth;var $40=this.timeHeader?this.timeHeader.length-1:1;if(this.nav.timeHeader){this.cache.timeHeader[$3Z.x+"_"+$40].appendChild($S);}else{if($3t.firstChild.rows[$40].cells[x]){$3t.firstChild.rows[$40].cells[x].firstChild.appendChild($S);}}};if(this.crosshairLastY!==y){if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};var $0U=this.rowHeaderCols?this.rowHeaderCols.length:1;this.crosshairLeft=[];for(var i=0;i<this.divHeader.rows[$q.i].cells.length;i++){var $T=this.divHeader.rows[$q.i].cells[i].clientWidth;var $S=document.createElement("div");$S.style.width=$T+"px";$S.style.height=$q.height+"px";$S.style.left='0px';$S.style.top='0px';$S.style.position='absolute';$S.style.backgroundColor=this.crosshairColor;$S.style.opacity=this.crosshairOpacity/100;$S.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairLeft.push($S);this.divHeader.rows[$q.i].cells[i].firstChild.appendChild($S);}};this.crosshairLastX=$3Z.x;this.crosshairLastY=y;};this.$7W=function($p){var $04=this.timeHeader[this.timeHeader.length-1];for(var i=0;i<$04.length;i++){var $K=$04[i];if($p>=$K.left&&$p<$K.left+$K.width){var $c={};$c.cell=$K;$c.x=i;return $c;}};return null;};this.$7h=function(ev){ev=ev||window.event;if($b.timeRangeSelectedHandling==='Disabled'){return false;};if(!$b.$7R($b.coords)){$b.$7X(ev);};if($b.contextMenuSelection){var $41=$b.$7H(DayPilotScheduler.rangeHold);$b.contextMenuSelection.show($41);};ev.cancelBubble=true;if(!$b.allowDefaultContextMenu){return false;}};this.$7R=function($0Z){var $0E=DayPilotScheduler.rangeHold;if(!$0E||!$0E.start||!$0E.end){return false;};var $q=this.$6x($0E.start.y);var $42=$0E.start.x<$0E.end.x;var $43=($42?$0E.start.x:$0E.end.x)*this.cellWidth;var $44=($42?$0E.end.x:$0E.start.x)*this.cellWidth+this.cellWidth;var $45=$q.top;var $46=$q.bottom;if($0Z.x>=$43&&$0Z.x<=$44&&$0Z.y>=$45&&$0Z.y<=$46){return true;};return false;};this.$7G=function($0E){var $0E=$0E||DayPilotScheduler.range;var $3n=$0E.end.x>$0E.start.x?$0E.start.x:$0E.end.x;var $3o=($0E.end.x>$0E.start.x?$0E.end.x:$0E.start.x)+1;this.$58();for(var x=$3n;x<$3o;x++){this.$7Y(x,$0E.start.y);}};this.$7X=function(ev){if($b.timeRangeSelectedHandling==='Disabled'){return false;};ev=ev||window.event;var $3c=ev.which||ev.button;if(DayPilotScheduler.range){return;};if(DayPilotScheduler.rangeHold&&$b.$7R($b.coords)&&($3c===3||$3c===2)){return;};var $0E={};var cx=this.$5r($b.coords.x).x;$0E.start={y:$b.$6p($b.coords.y).i,x:cx};$0E.end={x:cx};$b.$7G($0E);var $3e=$b.$7H($0E);$b.$66($3e.start,$3e.end,$3e.resource);DayPilotScheduler.rangeHold=$0E;};this.$7n=function(ev){if($b.dynamicLoading){$b.$7Z();return;};var $47=$b.nav.scroll;$b.scrollPos=$47.scrollLeft;$b.scrollTop=$47.scrollTop;$b.scrollWidth=$47.clientWidth;$b.divTimeScroll.scrollLeft=$b.scrollPos;$b.divResScroll.scrollTop=$b.scrollTop;if($b.refreshTimeout){window.clearTimeout($b.refreshTimeout);};$b.refreshTimeout=window.setTimeout($b.$80(),50);$b.onScrollCalled=true;};this.show=function(){$b.nav.top.style.display='';this.$6u();$b.$7n();};this.hide=function(){$b.nav.top.style.display='none';};this.$7Z=function(){var $47=$b.nav.scroll;$b.scrollPos=$47.scrollLeft;$b.scrollTop=$47.scrollTop;$b.scrollWidth=$47.clientWidth;$b.divTimeScroll.scrollLeft=$b.scrollPos;$b.divResScroll.scrollTop=$b.scrollTop;if($b.refreshTimeout){window.clearTimeout($b.refreshTimeout);};var $u=$b.scrollDelay||500;$b.refreshTimeout=window.setTimeout($b.$81($47.scrollLeft,$47.scrollTop),$u);};this.$81=function(scrollX,scrollY){if(!$b.$5Y()){return function(){if(typeof $b.onScroll==='function'){$b.$54();var $48=function($0q){var $h=$b.$4T($0q,true);$b.$57($h,true);$b.$54();$b.$50();};var $0M=$b.$6l(scrollX,scrollY);var $0E=$b.$6m($0M);var $0N=$b.$6n($0M);var $n={};$n.viewport={};$n.viewport.start=$0E.start;$n.viewport.end=$0E.end;$n.viewport.resources=$0N;$n.async=false;$n.events=[];$n.loaded=function(){if(this.async){$48(this.events);}};$b.onScroll($n);if(!$n.async){$48($n.events);}}};}else{return function(){$b.scrollX=scrollX;$b.scrollY=scrollY;$b.$5x('Scroll');};}};this.$80=function(){return function(){$b.$59();$b.$54();$b.refreshTimeout=window.setTimeout($b.$82(),200);};};this.$82=function(){var $0z=true;var $49=$b.dynamicEventRenderingCacheSweeping;var $4a=$b.dynamicEventRenderingCacheSize;return function(){if($b.$7w()){$b.$6i();window.setTimeout(function(){if($49)$b.$7r($4a);window.setTimeout(function(){$b.$56($0z);},50);},50);}};};this.$83=function(){var $0M=this.$7u();var $4b=$0M.xStart;var $4c=$0M.xEnd-$0M.xStart;var $4d=$0M.yStart;var $4e=$0M.yEnd-$0M.yStart;if(typeof this.onBeforeCellRender==='function'){if(!this.cellProperties){this.cellProperties=[];}};for(var i=0;i<$4c;i++){var x=$4b+i;for(var j=0;j<$4e;j++){var y=$4d+j;if(!this.rows[y].Hidden){this.$84(x,y);}};this.$85(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.$86(y);}}};this.sweepCells=true;this.$54=function(){if(this.rows!==null&&this.rows.length>0){var $4f=typeof this.onBeforeCellRender==='function';var $4g=this.cellConfig&&!this.cellConfig.vertical;if(this.sweepCells){var $4a=0;this.$7t($4a);};this.$83();this.$87();};var $T=this.$5e()*this.cellWidth;this.maind.style.height=this.innerHeightTree+"px";this.maind.style.width=$T+"px";this.rowsDirty=false;};this.$87=function(){var $0M=this.$7u();for(var x=$0M.xStart;x<$0M.xEnd;x++){var $4h=(x<this.itline.length-1)?this.itline[x+1].breakBefore:false;if($4h){this.$88(x);}}};this.$88=function(x){var $13="x"+x;if(this.cache.breaks[$13]){return;};var $y=x*this.cellWidth+this.cellWidth-1;var $F=this.innerHeightTree;var $S=document.createElement("div");$S.style.left=$y+"px";$S.style.top="0px";$S.style.width="1px";$S.style.height=$F+"px";$S.style.fontSize='1px';$S.style.lineHeight='1px';$S.style.overflow='hidden';$S.style.position='absolute';$S.setAttribute("unselectable","on");if(this.cssOnly){$S.className=this.$5i("_matrix_vertical_break");}else{$S.style.backgroundColor=this.timeBreakColor;};this.divBreaks.appendChild($S);this.elements.breaks.push($S);this.cache.breaks[$13]=$S;};this.$7u=function(){var $4i=30;var $0M={};var $4j=Math.floor(this.scrollPos/this.cellWidth);var $4k=Math.ceil(this.scrollWidth/this.cellWidth)+1;var $1D=this.$5e();var $N=$4j-$4i;var end=$N+2*$4i+$4k;end=Math.min(end,$1D);$N=Math.max($N,0);var $4d=this.$6p(this.nav.scroll.scrollTop).i;var $4l=this.$6p(this.nav.scroll.scrollTop+this.nav.scroll.offsetHeight).i;if($4l<this.rows.length){$4l++;};var $4e=$4l-$4d;$0M.xStart=$N;$0M.xEnd=end;$0M.yStart=$4d;$0M.yEnd=$4l;return $0M;};this.$89=function(){var $0M=this.$7u();var $N=$0M.xStart;var end=$0M.xEnd;for(var x=$N;x<end;x++){this.$8a(x);this.$85(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.$86(y);}}};this.$7S=function(){var $04=this.itline[this.itline.length-1];return $04.left+$04.width;};this.$86=function(y){var $13="y"+y;if(this.cache.linesHorizontal[$13]){return;};var top=this.rows[y].Top+this.rows[y].Height-1;var $T=this.$7S();var $S=document.createElement("div");$S.style.left="0px";$S.style.top=top+"px";$S.style.width=$T+"px";$S.style.height="1px";$S.style.fontSize='1px';$S.style.lineHeight='1px';$S.style.overflow='hidden';$S.style.position='absolute';if(!this.cssOnly){$S.style.backgroundColor=this.cellBorderColor;};$S.setAttribute("unselectable","on");if(this.cssOnly){$S.className=this.$5i("_matrix_horizontal_line");};this.divLines.appendChild($S);this.cache.linesHorizontal[$13]=$S;};this.$85=function(x){var $13="x"+x;if(this.cache.linesVertical[$13]){return;};var $y=this.itline[x].left+this.itline[x].width-1;var $S=document.createElement("div");$S.style.left=$y+"px";$S.style.top="0px";$S.style.width="1px";$S.style.height=$b.innerHeightTree+"px";$S.style.fontSize='1px';$S.style.lineHeight='1px';$S.style.overflow='hidden';$S.style.position='absolute';if(!this.cssOnly){$S.style.backgroundColor=this.cellBorderColor;};$S.setAttribute("unselectable","on");if(this.cssOnly){$S.className=this.$5i("_matrix_vertical_line");};this.divLines.appendChild($S);this.elements.linesVertical.push($S);this.cache.linesVertical[$13]=$S;};this.$8a=function(x){var $13="x"+x;var $F=this.innerHeightTree;if(this.cache.cells[$13]){return;};var $3L=this.$8b(x,0);var $4h=(x<this.itline.length-1)?this.itline[x+1].breakBefore:false;var $K=document.createElement("div");$K.style.left=(x*this.cellWidth)+"px";$K.style.top="0px";$K.style.width=(this.cellWidth)+"px";$K.style.height=$F+"px";$K.style.position='absolute';$K.style.backgroundColor=$3L;$K.setAttribute("unselectable","on");$K.className=this.cssOnly?this.$5i('_cellcolumn'):this.$5i('cellbackground');$K.onclick=this.$7X;this.divCells.appendChild($K);this.elements.cells.push($K);this.cache.cells[$13]='1';};this.$6T=function($13){var $q=this.rows[$13];var $4m=!$q.Expanded;this.rows[$13].Expanded=$4m;var $0p=this.$8c($13,$q.Expanded);if(!$4m){for(var i=0;i<$0p.length;i++){var ri=$0p[i];this.$5Z(ri);}};this.$4X();this.$4U();this.$50();this.$51();this.$54();if($4m){for(var i=0;i<$0p.length;i++){var ri=$0p[i];this.$60(ri);}};this.$61();this.$59();var r=this.$6U($q,$13);if($4m){this.$6d(r);}else{this.$6c(r);}};this.$6S=function(i){var $0h={};$0h.index=i;if(typeof this.onLoadNode==='function'){var $n={};var $0D=this.rows[i].Resource;$n.resource=$0D;$n.async=false;$n.loaded=function(){if(this.async){$0D.dynamicChildren=false;$0D.expanded=true;$b.update();}};this.onLoadNode($n);if(!$n.async){$0D.dynamicChildren=false;$0D.expanded=true;this.update();}}else{this.$5x('LoadNode',$0h);}};this.$8c=function(i,$4n){var $q=this.rows[i];var $4o=[];if($q.Children===null||$q.Children.length===0){return $4o;};for(var k=0;k<$q.Children.length;k++){var $13=$q.Children[k];this.rows[$13].Hidden=$4n?!$q.Expanded:true;if($4n===!this.rows[$13].Hidden){$4o.push($13);};var $4p=this.$8c($13,$4n);if($4p.length>0){$4o=$4o.concat($4p);}};return $4o;};this.$7U=function($4q,$4r){this.$6N();this.$8d($4q,$4r);};this.$8e=function($2K){if(!$2K){return false;};var $H=this.nav.scroll.scrollWidth;var $N=this.nav.scroll.scrollLeft;var $T=this.nav.scroll.clientWidth;var $z=$N+$T;if($2K<0&&$N<=0){return false;};if($2K>0&&$z>=$H){return false;};this.nav.scroll.scrollLeft+=$2K;return true;};this.$8f=function($2K){if(!$2K){return false;};var $H=this.nav.scroll.scrollHeight;var $N=this.nav.scroll.scrollTop;var $F=this.nav.scroll.clientHeight;var $A=$N+$F;if($2K<0&&$N<=0){return false;};if($2K>0&&$A>=$H){return false;};this.nav.scroll.scrollTop+=$2K;return true;};this.$8d=function($4q,$4r){var $4s=this.$8e($4q)||this.$8f($4r);if(!$4s){return;};var $4t=function($4q,$4r){return function(){$b.$8d($4q,$4r);};};this.scrolling=window.setTimeout($4t($4q,$4r),100);};this.$6N=function(){if(this.scrolling){window.clearTimeout(this.scrolling);this.scrolling=null;}};this.$4X=function(){var top=0;for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];if(!$q.Hidden){$q.Top=top;top+=$q.Height;}};this.innerHeightTree=top;};this.$51=function(){this.elements.cells=[];this.elements.linesVertical=[];this.elements.breaks=[];this.cache.cells=[];this.cache.linesVertical=[];this.cache.linesHorizontal=[];this.cache.breaks=[];this.divCells.innerHTML='';this.divLines.innerHTML='';this.divBreaks.innerHTML='';};this.$84=function(x,y){var $13=x+'_'+y;if(this.cache.cells[$13]){return;};var $07=this.itline[x];if(typeof this.onBeforeCellRender==='function'){var $q=$b.rows[y];var $0D=$q.Value;var $1r=$q.Start.getTime()-this.startDate.getTime();var $N=$07.start.addTime($1r);var end=$07.end.addTime($1r);var $K={};$K.resource=$0D;$K.start=$N;$K.end=end;$K.cssClass=null;$K.html=null;$K.backImage=null;$K.backRepeat=null;$K.backColor=null;var $n={};$n.cell=$K;this.onBeforeCellRender($n);this.cellProperties[$13]=$K;};var p=this.$6B(x,y);if(!this.drawBlankCells){var $4u=false;if(this.cssOnly&&this.$6G(y)){$4u=false;}else if(!this.$8g(p,['html','cssClass','backColor','backImage','backRepeat'])){$4u=true;};if($4u){return;}};var $K=document.createElement("div");$K.style.left=($07.left)+"px";$K.style.top=this.rows[y].Top+"px";$K.style.width=($07.width)+"px";$K.style.height=(this.rows[y].Height)+"px";$K.style.position='absolute';if(p&&p.backColor){$K.style.backgroundColor=p.backColor;};$K.setAttribute("unselectable","on");$K.className=this.cssOnly?this.$5i('_cell'):this.$5i('cellbackground');$K.coords={};$K.coords.x=x;$K.coords.y=y;if(this.cssOnly&&this.$6G(y)){DayPilot.Util.addClass($K,this.$5i("_cellparent"));};if(p){if(p.cssClass){if(this.cssOnly){DayPilot.Util.addClass($K,p.cssClass);}else{DayPilot.Util.addClass($K,$b.$5i(p.cssClass));}};if(p.html){$K.innerHTML=p.html;};if(p.backImage){$K.style.backgroundImage=p.backImage;};if(p.backRepeat){$K.style.backgroundRepeat=p.backRepeat;}};$K.onclick=this.$7X;this.divCells.appendChild($K);this.elements.cells.push($K);this.cache.cells[$13]=$K;};this.$8g=function($0X,$2x){if($2x){for(var i=0;i<$2x.length;i++){if($0X[$2x[i]]){return true;}}}else{for(var name in $0X){if($0X[name]){return true;}}};return false;};this.$7Y=function(x,y){var $07=this.itline[x];var $K=document.createElement("div");$K.style.left=($07.left)+"px";$K.style.top=this.rows[y].Top+"px";$K.style.width=($07.width-1)+"px";$K.style.height=(this.rows[y].Height-1)+"px";$K.style.position='absolute';$K.style.backgroundColor=$b.cellSelectColor;$K.setAttribute("unselectable","on");this.divRange.appendChild($K);this.elements.range.push($K);};this.clearSelection=function(){this.$58();};this.cleanSelection=this.clearSelection;this.$58=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';this.elements.range=[];DayPilotScheduler.rangeHold=null;};this.$75={};var $U=this.$75;$U.locale=function(){return DayPilot.Locale.find($b.locale);};$U.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return $U.locale().timeFormat;};$U.weekStarts=function(){if($b.weekStarts==='Auto'){var $28=$U.locale();if($28){return $28.weekStarts;}else{return 0;}}else{return $b.weekStarts;}};$U.rounded=function(){return $b.eventCorners==='Rounded';};$U.layout=function(){var $4v=/MSIE 6/i.test(navigator.userAgent);if($b.layout==='Auto'){if($4v){return 'TableBased';}else{return 'DivBased';}};return $b.layout;};$U.notifyType=function(){var $0l;if($b.notifyCommit==='Immediate'){$0l="Notify";}else if($b.notifyCommit==='Queue'){$0l="Queue";}else{throw "Invalid notifyCommit value: "+$b.notifyCommit;};return $0l;};$U.isResourcesView=function(){return $b.viewType!=='Days';};$U.useBox=function($4w){if($b.useEventBoxes==='Always'){return true;};if($b.useEventBoxes==='Never'){return false;};return $4w<$b.cellDuration*60*1000;};this.$8b=function(x,y){var $13=x+'_'+y;if(this.cellProperties&&this.cellProperties[$13]){return this.cellProperties[$13].backColor;};return null;};this.$6B=function(x,y){var $13=x+'_'+y;if(this.cellProperties&&this.cellProperties[$13]){return this.cellProperties[$13];};return null;};this.$8h=function($4x,x,y){var $13=x+'_'+y;this.cellProperties[$13]={};DayPilot.Util.copyProps($4x,this.cellProperties[$13],['html','cssClass','backColor','backImage','backRepeat']);return this.cellProperties[$13];};this.$8i=function(x,y){if(!this.cellConfig){return;};var $4y=this.cellConfig;if($4y.vertical){return this.cellProperties[x+"_0"];};if($4y.horizontal){return this.cellProperties["0_"+y];};if($4y["default"]){return $4y["default"];}};this.$4S=function(){if(!this.cellConfig){return;};var $4y=this.cellConfig;if($4y.vertical){for(var x=0;x<$4y.x;x++){var $4z=this.cellProperties[x+"_0"];if(!$4z){continue;};for(var y=1;y<$4y.y;y++){this.$8h($4z,x,y);}}};if($4y.horizontal){for(var y=0;y<$4y.y;y++){var $4z=this.cellProperties["0_"+y];if(!$4z){continue;};for(var x=1;x<$4y.x;x++){this.$8h($4z,x,y);}}};if($4y["default"]){var $4z=$4y["default"];for(var y=0;y<$4y.y;y++){for(var x=0;x<$4y.x;x++){if(!this.cellProperties[x+"_"+y]){this.$8h($4z,x,y);}}}}};this.isBusiness=function($K){if($K.start.dayOfWeek()===0||$K.start.dayOfWeek()===6){return false;};if(this.cellDuration<720){if($K.start.getHours()<this.businessBeginsHour||$K.start.getHours()>=this.businessEndsHour){return false;}else{return true;}};return true;};this.$4W=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$8j=function($p){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$p-(this.$5f()+2);this.$50();};this.setHeight=this.$8j;this.$5d=function(id){for(var i=0;i<this.rows.length;i++){if(this.rows[i].Value===id){return this.rows[i];}};return null;};this.$8k=function(){this.$7j();this.$4R();this.$77();this.$6u();this.$7l();this.$6t();DayPilotScheduler.register(this);this.$4O(null,false);this.$7m();this.$5b();this.$5x('Init');};this.init=function(){this.nav.top=document.getElementById(id);if(this.nav.top.dp){return;};var $4A=this.$6y();var $4B=this.events.list!==null;if($4A){this.$8k();this.initialized=true;return;};this.$7j();this.$4P();this.$4R();this.$4S();this.$77();this.$6u();this.$4Q();this.$4V();this.$6i();if($4B){this.$4T();}else{this.events.list=[];};this.$4X();this.$4U();this.$50();this.$55();this.$4W();this.$7l();this.$6t();DayPilotScheduler.register(this);this.$7m();this.$4N();if($b.scrollToDate){$b.scrollTo($b.scrollToDate);}else{$b.setScroll($b.scrollX,$b.scrollY);};if(!$b.onScrollCalled){$b.$7n();};var $4C=function(){if($b.scrollY){$b.setScroll($b.scrollX,$b.scrollY);}};window.setTimeout($4C,200);if(this.messageHTML){var $4D=function($19){return function(){$b.message($19);};};window.setTimeout($4D(this.messageHTML),100);};this.$5b();this.initialized=true;this.$4O(null,false);};this.temp={};this.temp.getPosition=function(){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.$6p($b.coords.y).i;if(y<$b.rows.length){var $K={};$K.start=$b.itline[x].start;$K.end=$b.itline[x].end;$K.resource=$b.rows[y].Value;return $K;}else{return null;}};this.internal={};this.internal.invokeEvent=this.$5G;this.internal.eventMenuClick=this.$65;this.internal.timeRangeMenuClick=this.$68;this.internal.resourceHeaderMenuClick=this.$69;this.internal.bubbleCallBack=this.$63;this.internal.findEventDiv=this.$7B;this.Init=this.init;};DayPilotScheduler.moving=null;DayPilotScheduler.originalMouse=null;DayPilotScheduler.resizing=null;DayPilotScheduler.globalHandlers=false;DayPilotScheduler.timeRangeTimeout=null;DayPilotScheduler.selectedCells=null;DayPilotScheduler.dragStart=function(element,$0a,id,$1M,$0l){DayPilot.us(element);var $4E=DayPilotScheduler.drag={};$4E.element=element;$4E.duration=$0a;$4E.text=$1M;$4E.id=id;$4E.shadowType=$0l?$0l:'Fill';return false;};DayPilotScheduler.dragStop=function(){if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.drag=null;};DayPilotScheduler.register=function($b){if(!DayPilotScheduler.registered){DayPilotScheduler.registered=[];};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i]===$b){return;}};DayPilotScheduler.registered.push($b);};DayPilotScheduler.unregister=function($b){var a=DayPilotScheduler.registered;if(a){var i=DayPilot.indexOf(a,$b);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilotScheduler.globalHandlers=false;}};DayPilotScheduler.gMouseMove=function(ev){if(typeof(DayPilotScheduler)==='undefined'){return;};ev=ev||window.event;if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $3N=DayPilot.mc(ev);if(DayPilotScheduler.drag){document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);};var $10=DayPilotScheduler.gShadow;$10.style.left=$3N.x+'px';$10.style.top=$3N.y+'px';DayPilotScheduler.moving=null;if(DayPilotScheduler.movingShadow){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;}}else if(DayPilotScheduler.moving&&DayPilotScheduler.moving.event.calendar.dragOutAllowed&&!DayPilotScheduler.drag){var $4F=DayPilotScheduler.moving.event.calendar;var ev=DayPilotScheduler.moving.event;DayPilotScheduler.moving.target=null;document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow($4F.shadow);};var $10=DayPilotScheduler.gShadow;$10.style.left=$3N.x+'px';$10.style.top=$3N.y+'px';DayPilotScheduler.drag={};var $4E=DayPilotScheduler.drag;$4E.element=null;$4E.duration=(ev.end().getTime()-ev.start().getTime())/1000;$4E.text=ev.text();$4E.id=ev.value();$4E.shadowType=$4F.shadow;$4E.event=ev;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;DayPilotScheduler.movingShadow=null;};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i].$7e){DayPilotScheduler.registered[i].$7e();}}};DayPilotScheduler.gUnload=function(ev){if(!DayPilotScheduler.registered){return;};for(var i=0;i<DayPilotScheduler.registered.length;i++){var c=DayPilotScheduler.registered[i];DayPilotScheduler.unregister(c);}};DayPilotScheduler.gMouseUp=function(ev){if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){document.body.style.cursor='';DayPilotScheduler.resizing=null;return;};var e=DayPilotScheduler.resizing.event;var $b=e.calendar;var $4G=DayPilotScheduler.resizingShadow.clientWidth;var $4H=DayPilotScheduler.resizingShadow.offsetLeft;var $1K=DayPilotScheduler.resizing.dpBorder;var $q=$b.rows[DayPilotScheduler.resizing.event.part.dayIndex];var $1r=$q.Start.getTime()-$b.$6X().getTime();var $0j=null;var $0k=null;var $4I=!$b.snapToGrid;if($1K==='left'){$0j=$b.getDate($4H,$4I).addTime($1r);$0k=e.end();}else if($1K==='right'){$0j=e.start();$0k=$b.getDate($4H+$4G,$4I,true).addTime($1r);};DayPilot.de(DayPilotScheduler.resizingShadow);DayPilotScheduler.resizing=null;DayPilotScheduler.resizingShadow=null;document.body.style.cursor='';$b.$5H(e,$0j,$0k);}else if(DayPilotScheduler.moving){if(!DayPilotScheduler.movingShadow){document.body.style.cursor='';DayPilotScheduler.moving=null;return;};var e=DayPilotScheduler.moving.event;var $b=DayPilotScheduler.moving.target;if(!$b){DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='';DayPilotScheduler.moving=null;return;};var $0j=DayPilotScheduler.movingShadow.start;var $0k=DayPilotScheduler.movingShadow.end;var $0m=($b.viewType!=='Days')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;var $S=DayPilotScheduler.movingShadow.line;if(DayPilotScheduler.drag){if(!$b.todo){$b.todo={};};$b.todo.del=DayPilotScheduler.drag.element;DayPilotScheduler.drag=null;};DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;var ev=ev||window.event;$b.$62(e,$0j,$0k,$0m,external,ev,$S);}else if(DayPilotScheduler.range){ev=ev||window.event;var $3c=ev.which||ev.button;var $0E=DayPilotScheduler.range;var $b=$0E.calendar;if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;$b.$7i(ev);return;};DayPilotScheduler.rangeHold=$0E;DayPilotScheduler.range=null;var $4t=function($3e){return function(){DayPilotScheduler.timeRangeTimeout=null;$b.$66($3e.start,$3e.end,$3e.resource);if($b.timeRangeSelectedHandling!=="Hold"&&$b.timeRangeSelectedHandling!=="HoldForever"){$a();}else{DayPilotScheduler.rangeHold=$0E;}};};var $3e=$b.$7H($0E);if($3c!==1){DayPilotScheduler.timeRangeTimeout=null;return;};if($b.timeRangeDoubleClickHandling==='Disabled'){$4t($3e)();var ev=ev||window.event;ev.cancelBubble=true;return false;}else{DayPilotScheduler.timeRangeTimeout=setTimeout($4t($3e),$b.doubleClickTimeout);}};if(DayPilotScheduler.drag){DayPilotScheduler.drag=null;document.body.style.cursor='';};if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.moveOffsetX=null;DayPilotScheduler.moveDragStart=null;};DayPilotScheduler.createGShadow=function($0l){var $10=document.createElement('div');$10.setAttribute('unselectable','on');$10.style.position='absolute';$10.style.width='100px';$10.style.height='20px';$10.style.border='2px dotted #666666';$10.style.zIndex=101;if($0l==='Fill'){$10.style.backgroundColor="#aaaaaa";$10.style.opacity=0.5;$10.style.filter="alpha(opacity=50)";$10.style.border='2px solid #aaaaaa';};document.body.appendChild($10);return $10;};DayPilot.SchedulerVisible.dragStart=DayPilotScheduler.dragStart;DayPilot.SchedulerVisible.dragStop=DayPilotScheduler.dragStop;DayPilot.SchedulerVisible.Scheduler=DayPilotScheduler.Scheduler;DayPilot.SchedulerVisible.globalHandlers=DayPilotScheduler.globalHandlers;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotScheduler=function($4J){var $4K=null;var j=this.each(function(){if(this.daypilot){return;};var $4L=new DayPilot.Scheduler(this.id);this.daypilot=$4L;for(var name in $4J){$4L[name]=$4J[name];};$4L.Init();if(!$4K){$4K=$4L;}});if(this.length===1){return $4K;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

